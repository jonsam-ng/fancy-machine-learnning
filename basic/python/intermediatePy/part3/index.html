<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Python 进阶 —— 第三节 | Fancy ML</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon32x32.ico">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3314748_9xij1pv3h4i.css">
    <meta name="description" content="机器学习一站式笔记，学习机器学习、深度学习技术文章">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="keywords" content="机器学习,深度学习">
    <meta name="theme-color" content="#A0CEC7">
    
    <link rel="preload" href="/assets/css/0.styles.574d52ff.css" as="style"><link rel="preload" href="/assets/js/app.350816d5.js" as="script"><link rel="preload" href="/assets/js/2.f530c001.js" as="script"><link rel="preload" href="/assets/js/3.c8b79b2e.js" as="script"><link rel="preload" href="/assets/js/19.37592179.js" as="script"><link rel="preload" href="/assets/js/6.9d0ee351.js" as="script"><link rel="preload" href="/assets/js/4.7d1b4eaf.js" as="script"><link rel="prefetch" href="/assets/js/10.83707a68.js"><link rel="prefetch" href="/assets/js/11.97ebcb24.js"><link rel="prefetch" href="/assets/js/12.82e21a59.js"><link rel="prefetch" href="/assets/js/13.d74254c1.js"><link rel="prefetch" href="/assets/js/14.694217cf.js"><link rel="prefetch" href="/assets/js/15.74af29a4.js"><link rel="prefetch" href="/assets/js/16.d08855db.js"><link rel="prefetch" href="/assets/js/17.46afecee.js"><link rel="prefetch" href="/assets/js/18.a52b045e.js"><link rel="prefetch" href="/assets/js/20.1d1933ee.js"><link rel="prefetch" href="/assets/js/21.243d5d48.js"><link rel="prefetch" href="/assets/js/22.84c049a5.js"><link rel="prefetch" href="/assets/js/23.a599874d.js"><link rel="prefetch" href="/assets/js/24.b3ab5f20.js"><link rel="prefetch" href="/assets/js/25.387272d0.js"><link rel="prefetch" href="/assets/js/26.e9480af8.js"><link rel="prefetch" href="/assets/js/27.de80e26f.js"><link rel="prefetch" href="/assets/js/28.ce416c8e.js"><link rel="prefetch" href="/assets/js/29.7127183a.js"><link rel="prefetch" href="/assets/js/30.65181c94.js"><link rel="prefetch" href="/assets/js/31.7fdf7fdb.js"><link rel="prefetch" href="/assets/js/32.76584317.js"><link rel="prefetch" href="/assets/js/33.403a30b5.js"><link rel="prefetch" href="/assets/js/34.3c64ba10.js"><link rel="prefetch" href="/assets/js/35.224fd1f6.js"><link rel="prefetch" href="/assets/js/36.11b405c5.js"><link rel="prefetch" href="/assets/js/37.a44a0fab.js"><link rel="prefetch" href="/assets/js/38.b0e243d6.js"><link rel="prefetch" href="/assets/js/39.531c1eb7.js"><link rel="prefetch" href="/assets/js/40.7031df39.js"><link rel="prefetch" href="/assets/js/41.50514384.js"><link rel="prefetch" href="/assets/js/42.f9ee3ee0.js"><link rel="prefetch" href="/assets/js/43.3a331ec6.js"><link rel="prefetch" href="/assets/js/5.ab5cfcbe.js"><link rel="prefetch" href="/assets/js/7.c2df3a97.js"><link rel="prefetch" href="/assets/js/8.67cd255d.js"><link rel="prefetch" href="/assets/js/9.a32834e6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.574d52ff.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Fancy ML" class="logo"> <span class="site-name can-hide">Fancy ML</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><a href="/basic/" class="link-title router-link-active">基础</a> <span class="title" style="display:none;">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/basic/roadmap/" class="nav-link">RoadMap</a></li><li class="dropdown-item"><h4>数理基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basic/math/index/" class="nav-link">开始上手</a></li></ul></li><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basic/python/index/" class="nav-link">开始上手</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="机器学习" class="dropdown-title"><a href="/ml/" class="link-title">机器学习</a> <span class="title" style="display:none;">机器学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>教程</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ml/course/index/" class="nav-link">开始上手</a></li><li class="dropdown-subitem"><a href="/ml/course/ml-andrew/index/" class="nav-link">斯坦福大学2014（吴恩达）机器学习教程</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/dl/" class="nav-link">深度学习</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/qa/" class="nav-link">Q&amp;A</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div><div class="nav-item"><a href="https://www.jonsam.site" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/jonsam-ng/fancy-machine-learnning" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://www.jonsam.site/wp-content/uploads/2019/10/c1fbc401c64937aaec6cb53359e7c57eabd8e477-e1570649725791.gif"> <div class="blogger-info"><h3>Jonsam NG</h3> <span>让有意义的事变得有意思，让有意思的事变得有意义</span></div></div> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><a href="/basic/" class="link-title router-link-active">基础</a> <span class="title" style="display:none;">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/basic/roadmap/" class="nav-link">RoadMap</a></li><li class="dropdown-item"><h4>数理基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basic/math/index/" class="nav-link">开始上手</a></li></ul></li><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basic/python/index/" class="nav-link">开始上手</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="机器学习" class="dropdown-title"><a href="/ml/" class="link-title">机器学习</a> <span class="title" style="display:none;">机器学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>教程</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ml/course/index/" class="nav-link">开始上手</a></li><li class="dropdown-subitem"><a href="/ml/course/ml-andrew/index/" class="nav-link">斯坦福大学2014（吴恩达）机器学习教程</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/dl/" class="nav-link">深度学习</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/qa/" class="nav-link">Q&amp;A</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div><div class="nav-item"><a href="https://www.jonsam.site" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/jonsam-ng/fancy-machine-learnning" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/pages/index/" class="sidebar-link">开始上手</a></li><li><a href="/ds/plan/" class="sidebar-link">Plan 计划</a></li><li><a href="/ds/roadmap/" class="sidebar-link">Roadmap 路线</a></li><li><a href="/basic/roadmap/" class="sidebar-link">RoadMap 机器学习路线</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数理基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Python</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/basic/python/index/" class="sidebar-link">开始上手</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>IntermediatePython</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/basic/python/intermediatePy/index/" class="sidebar-link">开始上手</a></li><li><a href="/basic/python/intermediatePy/part1/" class="sidebar-link">Python 进阶 —— 第一节</a></li><li><a href="/basic/python/intermediatePy/part2/" class="sidebar-link">Python 进阶 —— 第二节</a></li><li><a href="/basic/python/intermediatePy/part3/" aria-current="page" class="active sidebar-link">Python 进阶 —— 第三节</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/basic/python/intermediatePy/part3/#虚拟环境-virtualenv" class="sidebar-link">虚拟环境(virtualenv)</a></li><li class="sidebar-sub-header level2"><a href="/basic/python/intermediatePy/part3/#容器-collections" class="sidebar-link">容器(Collections)</a></li><li class="sidebar-sub-header level2"><a href="/basic/python/intermediatePy/part3/#枚举" class="sidebar-link">枚举</a></li><li class="sidebar-sub-header level2"><a href="/basic/python/intermediatePy/part3/#对象自省" class="sidebar-link">对象自省</a></li><li class="sidebar-sub-header level2"><a href="/basic/python/intermediatePy/part3/#各种推导式-comprehensions" class="sidebar-link">各种推导式(comprehensions)</a></li></ul></li><li><a href="/basic/python/intermediatePy/part4/" class="sidebar-link">Python 进阶 —— 第四节</a></li><li><a href="/basic/python/intermediatePy/part5/" class="sidebar-link">Python 进阶 —— 第五节</a></li></ul></section></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-6"><div class="articleInfo-wrap" data-v-5add8e0a><div class="articleInfo" data-v-5add8e0a><ul class="breadcrumbs" data-v-5add8e0a><li data-v-5add8e0a><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-5add8e0a></a></li> <li data-v-5add8e0a><a href="/basic/#基础" data-v-5add8e0a>基础</a></li><li data-v-5add8e0a><a href="/basic/#Python" data-v-5add8e0a>Python</a></li><li data-v-5add8e0a><a href="/basic/#IntermediatePython" data-v-5add8e0a>IntermediatePython</a></li></ul> <div class="info" data-v-5add8e0a><div title="作者" class="author iconfont icon-touxiang" data-v-5add8e0a><a href="https://github.com/jonsam-ng" target="_blank" title="作者" class="beLink" data-v-5add8e0a>jonsam</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-5add8e0a><a href="javascript:;" data-v-5add8e0a>2022-04-13</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Python 进阶 —— 第三节<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="虚拟环境-virtualenv"><a href="#虚拟环境-virtualenv" class="header-anchor">#</a> 虚拟环境(virtualenv)</h2> <h3 id="你听说过virtualenv吗"><a href="#你听说过virtualenv吗" class="header-anchor">#</a> 你听说过<code>virtualenv</code>吗？</h3> <p>如果你是一位初学者，你可能没有听说过<code>virtualenv</code>；但如果你是位经验丰富的程序员，那么它可能是你的工具集的重要组织部分。</p> <h3 id="那么-什么是virtualenv"><a href="#那么-什么是virtualenv" class="header-anchor">#</a> 那么，什么是<code>virtualenv</code>?</h3> <p><code>Virtualenv</code> 是一个工具，它能够帮我们创建一个独立(隔离)的Python环境。想象你有一个应用程序，依赖于版本为2的第三方模块，但另一个程序依赖的版本是3，请问你如何使用和开发这些应用程序？</p> <p>如果你把一切都安装到了<code>/usr/lib/python2.7/site-packages</code>（或者其它平台的标准位置），那很容易出现某个模块被升级而你却不知道的情况。</p> <p>在另一种情况下，想象你有一个已经开发完成的程序，但是你不想更新它所依赖的第三方模块版本；但你已经开始另一个程序，需要这些第三方模块的版本。</p> <h3 id="用什么方式解决"><a href="#用什么方式解决" class="header-anchor">#</a> 用什么方式解决？</h3> <p>使用<code>virtualenv</code>！针对每个程序创建独立（隔离）的Python环境，而不是在全局安装所依赖的模块。</p> <p>要安装它，只需要在命令行中输入以下命令：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ pip <span class="token function">install</span> virtualenv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>最重要的命令是：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ virtualenv myproject
$ <span class="token builtin class-name">source</span> bin/activate
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>执行第一个命令在<code>myproject</code>文件夹创建一个隔离的virtualenv环境，第二个命令激活这个隔离的环境(<code>virtualenv</code>)。</p> <p>在创建virtualenv时，你必须做出决定：这个virtualenv是使用系统全局的模块呢？还是只使用这个virtualenv内的模块。 默认情况下，virtualenv不会使用系统全局模块。</p> <p>如果你想让你的virtualenv使用系统全局模块，请使用<code>--system-site-packages</code>参数创建你的virtualenv，例如：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>virtualenv --system-site-packages mycoolproject
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>使用以下命令可以退出这个virtualenv:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ deactivate
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>运行之后将恢复使用你系统全局的Python模块。</p> <h3 id="福利"><a href="#福利" class="header-anchor">#</a> 福利</h3> <p>你可以使用<code>smartcd</code>来帮助你管理你的环境，当你切换目录时，它可以帮助你激活（activate）和退出（deactivate）你的virtualenv。我已经用了很多次，很喜欢它。你可以在github(https://github.com/cxreg/smartcd) 上找到更多关于它的资料。</p> <p>这只是一个virtualenv的简短介绍，你可以在 http://docs.python-guide.org/en/latest/dev/virtualenvs/ 找到更多信息。</p> <h2 id="容器-collections"><a href="#容器-collections" class="header-anchor">#</a> 容器(<code>Collections</code>)</h2> <p>Python附带一个模块，它包含许多容器数据类型，名字叫作<code>collections</code>。我们将讨论它的作用和用法。</p> <p>我们将讨论的是：</p> <ul><li>defaultdict</li> <li>counter</li> <li>deque</li> <li>namedtuple</li> <li>enum.Enum (包含在Python 3.4以上)</li></ul> <h3 id="defaultdict"><a href="#defaultdict" class="header-anchor">#</a> defaultdict</h3> <p>我个人使用<code>defaultdict</code>较多，与<code>dict</code>类型不同，你不需要检查<strong>key</strong>是否存在，所以我们能这样做：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> collections <span class="token keyword">import</span> defaultdict

colours <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token string">'Yasoob'</span><span class="token punctuation">,</span> <span class="token string">'Yellow'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'Ali'</span><span class="token punctuation">,</span> <span class="token string">'Blue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'Arham'</span><span class="token punctuation">,</span> <span class="token string">'Green'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'Ali'</span><span class="token punctuation">,</span> <span class="token string">'Black'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'Yasoob'</span><span class="token punctuation">,</span> <span class="token string">'Red'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'Ahmed'</span><span class="token punctuation">,</span> <span class="token string">'Silver'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

favourite_colours <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> name<span class="token punctuation">,</span> colour <span class="token keyword">in</span> colours<span class="token punctuation">:</span>
    favourite_colours<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>colour<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>favourite_colours<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="运行输出"><a href="#运行输出" class="header-anchor">#</a> 运行输出</h3> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># defaultdict(&lt;type 'list'&gt;,</span>
<span class="token comment">#    {'Arham': ['Green'],</span>
<span class="token comment">#     'Yasoob': ['Yellow', 'Red'],</span>
<span class="token comment">#     'Ahmed': ['Silver'],</span>
<span class="token comment">#     'Ali': ['Blue', 'Black']</span>
<span class="token comment"># })</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>另一种重要的是例子就是：当你在一个字典中对一个键进行嵌套赋值时，如果这个键不存在，会触发<code>keyError</code>异常。 <code>defaultdict</code>允许我们用一个聪明的方式绕过这个问题。 首先我分享一个使用<code>dict</code>触发<code>KeyError</code>的例子，然后提供一个使用<code>defaultdict</code>的解决方案。</p> <p><strong>问题</strong> ：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>some_dict <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
some_dict<span class="token punctuation">[</span><span class="token string">'colours'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'favourite'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;yellow&quot;</span>

<span class="token comment">## 异常输出：KeyError: 'colours'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>解决方案</strong> ：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> collections
tree <span class="token operator">=</span> <span class="token keyword">lambda</span><span class="token punctuation">:</span> collections<span class="token punctuation">.</span>defaultdict<span class="token punctuation">(</span>tree<span class="token punctuation">)</span>
some_dict <span class="token operator">=</span> tree<span class="token punctuation">(</span><span class="token punctuation">)</span>
some_dict<span class="token punctuation">[</span><span class="token string">'colours'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'favourite'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;yellow&quot;</span>

<span class="token comment">## 运行正常</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>你可以用<code>json.dumps</code>打印出<code>some_dict</code>，例如：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> json
<span class="token keyword">print</span><span class="token punctuation">(</span>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>some_dict<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">## 输出: {&quot;colours&quot;: {&quot;favourite&quot;: &quot;yellow&quot;}}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="counter"><a href="#counter" class="header-anchor">#</a> counter</h3> <p>Counter是一个计数器，它可以帮助我们针对某项数据进行计数。比如它可以用来计算每个人喜欢多少种颜色：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter

colours <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token string">'Yasoob'</span><span class="token punctuation">,</span> <span class="token string">'Yellow'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'Ali'</span><span class="token punctuation">,</span> <span class="token string">'Blue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'Arham'</span><span class="token punctuation">,</span> <span class="token string">'Green'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'Ali'</span><span class="token punctuation">,</span> <span class="token string">'Black'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'Yasoob'</span><span class="token punctuation">,</span> <span class="token string">'Red'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'Ahmed'</span><span class="token punctuation">,</span> <span class="token string">'Silver'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

favs <span class="token operator">=</span> Counter<span class="token punctuation">(</span>name <span class="token keyword">for</span> name<span class="token punctuation">,</span> colour <span class="token keyword">in</span> colours<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>favs<span class="token punctuation">)</span>

<span class="token comment">## 输出:</span>
<span class="token comment">## Counter({</span>
<span class="token comment">##     'Yasoob': 2,</span>
<span class="token comment">##     'Ali': 2,</span>
<span class="token comment">##     'Arham': 1,</span>
<span class="token comment">##     'Ahmed': 1</span>
<span class="token comment">##  })</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>我们也可以在利用它统计一个文件，例如：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'filename'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    line_count <span class="token operator">=</span> Counter<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>line_count<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="deque"><a href="#deque" class="header-anchor">#</a> deque</h3> <p>deque提供了一个双端队列，你可以从头/尾两端添加或删除元素。要想使用它，首先我们要从<code>collections</code>中导入<code>deque</code>模块：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>现在，你可以创建一个<code>deque</code>对象。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>d <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>它的用法就像python的<code>list</code>，并且提供了类似的方法，例如：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>d <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span>
d<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span>
d<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span>
d<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">## 输出: 3</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">## 输出: '1'</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">## 输出: '3'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>你可以从两端取出(pop)数据：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>d <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">## 输出: 5</span>

d<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">## 输出: 0</span>

d<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">## 输出: 4</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>

<span class="token comment">## 输出: deque([1, 2, 3])</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>我们也可以限制这个列表的大小，当超出你设定的限制时，数据会从对队列另一端被挤出去(pop)。
最好的解释是给出一个例子：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>d <span class="token operator">=</span> deque<span class="token punctuation">(</span>maxlen<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>现在当你插入30条数据时，最左边一端的数据将从队列中删除。</p> <p>你还可以从任一端扩展这个队列中的数据：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>d <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
d<span class="token punctuation">.</span>extendleft<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
d<span class="token punctuation">.</span>extend<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>

<span class="token comment">## 输出: deque([0, 1, 2, 3, 4, 5, 6, 7, 8])</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="namedtuple"><a href="#namedtuple" class="header-anchor">#</a> namedtuple</h3> <p>您可能已经熟悉元组。
一个元组是一个不可变的列表，你可以存储一个数据的序列，它和命名元组(<code>namedtuples</code>)非常像，但有几个关键的不同。
主要相似点是都不像列表，你不能修改元组中的数据。为了获取元组中的数据，你需要使用整数作为索引：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>man <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'Ali'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>man<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">## 输出: Ali</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>嗯，那<code>namedtuples</code>是什么呢？它把元组变成一个针对简单任务的容器。你不必使用整数索引来访问一个<code>namedtuples</code>的数据。你可以像字典(<code>dict</code>)一样访问<code>namedtuples</code>，但<code>namedtuples</code>是不可变的。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> collections <span class="token keyword">import</span> namedtuple

Animal <span class="token operator">=</span> namedtuple<span class="token punctuation">(</span><span class="token string">'Animal'</span><span class="token punctuation">,</span> <span class="token string">'name age type'</span><span class="token punctuation">)</span>
perry <span class="token operator">=</span> Animal<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;perry&quot;</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">31</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token string">&quot;cat&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>perry<span class="token punctuation">)</span>

<span class="token comment">## 输出: Animal(name='perry', age=31, type='cat')</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>perry<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

<span class="token comment">## 输出: 'perry'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>现在你可以看到，我们可以用名字来访问<code>namedtuple</code>中的数据。我们再继续分析它。一个命名元组(<code>namedtuple</code>)有两个必需的参数。它们是元组名称和字段名称。</p> <p>在上面的例子中，我们的元组名称是<code>Animal</code>，字段名称是'name'，'age'和'type'。
<code>namedtuple</code>让你的元组变得<strong>自文档</strong>了。你只要看一眼就很容易理解代码是做什么的。
你也不必使用整数索引来访问一个命名元组，这让你的代码更易于维护。
而且， <strong><code>namedtuple</code>的每个实例没有对象字典</strong> ，所以它们很轻量，与普通的元组比，并不需要更多的内存。这使得它们比字典更快。</p> <p>然而，要记住它是一个元组，属性值在<code>namedtuple</code>中是不可变的，所以下面的代码不能工作：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> collections <span class="token keyword">import</span> namedtuple

Animal <span class="token operator">=</span> namedtuple<span class="token punctuation">(</span><span class="token string">'Animal'</span><span class="token punctuation">,</span> <span class="token string">'name age type'</span><span class="token punctuation">)</span>
perry <span class="token operator">=</span> Animal<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;perry&quot;</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">31</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token string">&quot;cat&quot;</span><span class="token punctuation">)</span>
perry<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">42</span>

<span class="token comment">## 输出:</span>
<span class="token comment">## Traceback (most recent call last):</span>
<span class="token comment">##     File &quot;&quot;, line 1, in</span>
<span class="token comment">## AttributeError: can't set attribute</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>你应该使用命名元组来让代码 <strong>自文档</strong> ， <strong>它们向后兼容于普通的元组</strong> ，这意味着你可以既使用整数索引，也可以使用名称来访问<code>namedtuple</code>：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> collections <span class="token keyword">import</span> namedtuple

Animal <span class="token operator">=</span> namedtuple<span class="token punctuation">(</span><span class="token string">'Animal'</span><span class="token punctuation">,</span> <span class="token string">'name age type'</span><span class="token punctuation">)</span>
perry <span class="token operator">=</span> Animal<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;perry&quot;</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">31</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token string">&quot;cat&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>perry<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">## 输出: perry</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>最后，你可以将一个命名元组转换为字典，方法如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> collections <span class="token keyword">import</span> namedtuple

Animal <span class="token operator">=</span> namedtuple<span class="token punctuation">(</span><span class="token string">'Animal'</span><span class="token punctuation">,</span> <span class="token string">'name age type'</span><span class="token punctuation">)</span>
perry <span class="token operator">=</span> Animal<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;Perry&quot;</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">31</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token string">&quot;cat&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>perry<span class="token punctuation">.</span>_asdict<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">## 输出: OrderedDict([('name', 'Perry'), ('age', 31), ...</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="enum-enum-python-3-4"><a href="#enum-enum-python-3-4" class="header-anchor">#</a> enum.Enum (Python 3.4+)</h3> <p>另一个有用的容器是枚举对象，它属于<code>enum</code>模块，存在于Python 3.4以上版本中（同时作为一个独立的PyPI包<code>enum34</code>供老版本使用）。Enums(枚举类型)基本上是一种组织各种东西的方式。</p> <p>让我们回顾一下上一个'Animal'命名元组的例子。
它有一个type字段，问题是，type是一个字符串。
那么问题来了，万一程序员输入了<code>Cat</code>，因为他按到了Shift键，或者输入了'CAT'，甚至'kitten'？</p> <p>枚举可以帮助我们避免这个问题，通过不使用字符串。考虑以下这个例子：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> collections <span class="token keyword">import</span> namedtuple
<span class="token keyword">from</span> enum <span class="token keyword">import</span> Enum

<span class="token keyword">class</span> <span class="token class-name">Species</span><span class="token punctuation">(</span>Enum<span class="token punctuation">)</span><span class="token punctuation">:</span>
    cat <span class="token operator">=</span> <span class="token number">1</span>
    dog <span class="token operator">=</span> <span class="token number">2</span>
    horse <span class="token operator">=</span> <span class="token number">3</span>
    aardvark <span class="token operator">=</span> <span class="token number">4</span>
    butterfly <span class="token operator">=</span> <span class="token number">5</span>
    owl <span class="token operator">=</span> <span class="token number">6</span>
    platypus <span class="token operator">=</span> <span class="token number">7</span>
    dragon <span class="token operator">=</span> <span class="token number">8</span>
    unicorn <span class="token operator">=</span> <span class="token number">9</span>
    <span class="token comment"># 依次类推</span>

    <span class="token comment"># 但我们并不想关心同一物种的年龄，所以我们可以使用一个别名</span>
    kitten <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># (译者注：幼小的猫咪)</span>
    puppy <span class="token operator">=</span> <span class="token number">2</span>   <span class="token comment"># (译者注：幼小的狗狗)</span>

Animal <span class="token operator">=</span> namedtuple<span class="token punctuation">(</span><span class="token string">'Animal'</span><span class="token punctuation">,</span> <span class="token string">'name age type'</span><span class="token punctuation">)</span>
perry <span class="token operator">=</span> Animal<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;Perry&quot;</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">31</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span>Species<span class="token punctuation">.</span>cat<span class="token punctuation">)</span>
drogon <span class="token operator">=</span> Animal<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;Drogon&quot;</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span>Species<span class="token punctuation">.</span>dragon<span class="token punctuation">)</span>
tom <span class="token operator">=</span> Animal<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">75</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span>Species<span class="token punctuation">.</span>cat<span class="token punctuation">)</span>
charlie <span class="token operator">=</span> Animal<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;Charlie&quot;</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span>Species<span class="token punctuation">.</span>kitten<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="一些测试"><a href="#一些测试" class="header-anchor">#</a> 一些测试</h3> <div class="language-python-repl line-numbers-mode"><pre class="language-text"><code>&gt;&gt;&gt; charlie.type == tom.type
True
&gt;&gt;&gt; charlie.type
&lt;Species.cat: 1&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这样就没那么容易错误，我们必须更明确，而且我们应该只使用定义后的枚举类型。</p> <p>有三种方法访问枚举数据，例如以下方法都可以获取到'cat'的值：</p> <div class="language-python-repl line-numbers-mode"><pre class="language-text"><code>Species(1)
Species['cat']
Species.cat
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这只是一个快速浏览<code>collections</code>模块的介绍，建议你阅读本文最后的官方文档。</p> <h2 id="枚举"><a href="#枚举" class="header-anchor">#</a> 枚举</h2> <p>枚举(<code>enumerate</code>)是Python内置函数。它的用处很难在简单的一行中说明，但是大多数的新人，甚至一些高级程序员都没有意识到它。</p> <p>它允许我们遍历数据并自动计数，</p> <p>下面是一个例子：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">for</span> counter<span class="token punctuation">,</span> value <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>some_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>counter<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>不只如此，<code>enumerate</code>也接受一些可选参数，这使它更有用。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">,</span> <span class="token string">'grapes'</span><span class="token punctuation">,</span> <span class="token string">'pear'</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> c<span class="token punctuation">,</span> value <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>my_list<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> value<span class="token punctuation">)</span>

<span class="token comment"># 输出:</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'apple'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'grapes'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'pear'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>上面这个可选参数允许我们定制从哪个数字开始枚举。
你还可以用来创建包含索引的元组列表， 例如：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">,</span> <span class="token string">'grapes'</span><span class="token punctuation">,</span> <span class="token string">'pear'</span><span class="token punctuation">]</span>
counter_list <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">enumerate</span><span class="token punctuation">(</span>my_list<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>counter_list<span class="token punctuation">)</span>
<span class="token comment"># 输出: [(1, 'apple'), (2, 'banana'), (3, 'grapes'), (4, 'pear')]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="对象自省"><a href="#对象自省" class="header-anchor">#</a> 对象自省</h2> <p>自省(introspection)，在计算机编程领域里，是指在运行时来判断一个对象的类型的能力。它是Python的强项之一。Python中所有一切都是一个对象，而且我们可以仔细勘察那些对象。Python还包含了许多内置函数和模块来帮助我们。</p> <h3 id="dir"><a href="#dir" class="header-anchor">#</a> <code>dir</code></h3> <p>在这个小节里我们会学习到<code>dir</code>以及它在自省方面如何给我们提供便利。</p> <p>它是用于自省的最重要的函数之一。它返回一个列表，列出了一个对象所拥有的属性和方法。这里是一个例子：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token builtin">dir</span><span class="token punctuation">(</span>my_list<span class="token punctuation">)</span>
<span class="token comment"># Output: ['__add__', '__class__', '__contains__', '__delattr__', '__delitem__',</span>
<span class="token comment"># '__delslice__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__',</span>
<span class="token comment"># '__getitem__', '__getslice__', '__gt__', '__hash__', '__iadd__', '__imul__',</span>
<span class="token comment"># '__init__', '__iter__', '__le__', '__len__', '__lt__', '__mul__', '__ne__',</span>
<span class="token comment"># '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__reversed__', '__rmul__',</span>
<span class="token comment"># '__setattr__', '__setitem__', '__setslice__', '__sizeof__', '__str__',</span>
<span class="token comment"># '__subclasshook__', 'append', 'count', 'extend', 'index', 'insert', 'pop',</span>
<span class="token comment"># 'remove', 'reverse', 'sort']</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>上面的自省给了我们一个列表对象的所有方法的名字。当你没法回忆起一个方法的名字，这会非常有帮助。如果我们运行<code>dir()</code>而不传入参数，那么它会返回当前作用域的所有名字。</p> <h3 id="type和id"><a href="#type和id" class="header-anchor">#</a> <code>type</code>和<code>id</code></h3> <p><code>type</code>函数返回一个对象的类型。举个例子：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Output: &lt;type 'str'&gt;</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Output: &lt;type 'list'&gt;</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Output: &lt;type 'dict'&gt;</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Output: &lt;type 'type'&gt;</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Output: &lt;type 'int'&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><code>id()</code>函数返回任意不同种类对象的唯一ID，举个例子：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>name <span class="token operator">=</span> <span class="token string">&quot;Yasoob&quot;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Output: 139972439030304</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="inspect模块"><a href="#inspect模块" class="header-anchor">#</a> <code>inspect</code>模块</h3> <p><code>inspect</code>模块也提供了许多有用的函数，来获取活跃对象的信息。比方说，你可以查看一个对象的成员，只需运行：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> inspect
<span class="token keyword">print</span><span class="token punctuation">(</span>inspect<span class="token punctuation">.</span>getmembers<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Output: [('__add__', &lt;slot wrapper '__add__' of ... ...</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>还有好多个其他方法也能有助于自省。如果你愿意，你可以去探索它们。</p> <h2 id="各种推导式-comprehensions"><a href="#各种推导式-comprehensions" class="header-anchor">#</a> 各种推导式(comprehensions)</h2> <p>推导式（又称解析式）是Python的一种独有特性，如果我被迫离开了它，我会非常想念。推导式是可以从一个数据序列构建另一个新的数据序列的结构体。 共有三种推导，在Python2和3中都有支持：</p> <ul><li>列表(<code>list</code>)推导式</li> <li>字典(<code>dict</code>)推导式</li> <li>集合(<code>set</code>)推导式</li></ul> <p>我们将一一进行讨论。一旦你知道了使用列表推导式的诀窍，你就能轻易使用任意一种推导式了。</p> <h3 id="列表推导式-list-comprehensions"><a href="#列表推导式-list-comprehensions" class="header-anchor">#</a> 列表推导式（<code>list</code> comprehensions）</h3> <p>列表推导式（又称列表解析式）提供了一种简明扼要的方法来创建列表。
它的结构是在一个中括号里包含一个表达式，然后是一个<code>for</code>语句，然后是0个或多个<code>for</code>或者<code>if</code>语句。那个表达式可以是任意的，意思是你可以在列表中放入任意类型的对象。返回结果将是一个新的列表，在这个以<code>if</code>和<code>for</code>语句为上下文的表达式运行完成之后产生。</p> <h4 id="规范"><a href="#规范" class="header-anchor">#</a> 规范</h4> <div class="language-python line-numbers-mode"><pre class="language-python"><code>variable <span class="token operator">=</span> <span class="token punctuation">[</span>out_exp <span class="token keyword">for</span> out_exp <span class="token keyword">in</span> input_list <span class="token keyword">if</span> out_exp <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这里是另外一个简明例子:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>multiples <span class="token operator">=</span> <span class="token punctuation">[</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token keyword">if</span> i <span class="token operator">%</span> <span class="token number">3</span> <span class="token keyword">is</span> <span class="token number">0</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>multiples<span class="token punctuation">)</span>
<span class="token comment"># Output: [0, 3, 6, 9, 12, 15, 18, 21, 24, 27]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这将对快速生成列表非常有用。
有些人甚至更喜欢使用它而不是<code>filter</code>函数。
列表推导式在有些情况下超赞，特别是当你需要使用<code>for</code>循环来生成一个新列表。举个例子，你通常会这样做：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>squared <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    squared<span class="token punctuation">.</span>append<span class="token punctuation">(</span>x<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>你可以使用列表推导式来简化它，就像这样：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>squared <span class="token operator">=</span> <span class="token punctuation">[</span>x<span class="token operator">**</span><span class="token number">2</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="字典推导式-dict-comprehensions"><a href="#字典推导式-dict-comprehensions" class="header-anchor">#</a> 字典推导式（<code>dict</code> comprehensions）</h3> <p>字典推导和列表推导的使用方法是类似的。这里有个我最近发现的例子：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>mcase <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">'Z'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span>

mcase_frequency <span class="token operator">=</span> <span class="token punctuation">{</span>
    k<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> mcase<span class="token punctuation">.</span>get<span class="token punctuation">(</span>k<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> mcase<span class="token punctuation">.</span>get<span class="token punctuation">(</span>k<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> k <span class="token keyword">in</span> mcase<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment"># mcase_frequency == {'a': 17, 'z': 3, 'b': 34}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>在上面的例子中我们把同一个字母但不同大小写的值合并起来了。</p> <p>就我个人来说没有大量使用字典推导式。</p> <p>你还可以快速对换一个字典的键和值：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token punctuation">{</span>v<span class="token punctuation">:</span> k <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> some_dict<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="集合推导式-set-comprehensions"><a href="#集合推导式-set-comprehensions" class="header-anchor">#</a> 集合推导式（<code>set</code> comprehensions）</h3> <p>它们跟列表推导式也是类似的。 唯一的区别在于它们使用大括号<code>{}</code>。 举个例子：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>squared <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">**</span><span class="token number">2</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>squared<span class="token punctuation">)</span>
<span class="token comment"># Output: {1, 4}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/jonsam-ng/fancy-machine-learnning/edit/master/docs/10.基础/30.Python/10.IntermediatePython/30.第 3 节.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/04/13, 23:38:30</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/basic/python/intermediatePy/part2/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Python 进阶 —— 第二节</div></a> <a href="/basic/python/intermediatePy/part4/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Python 进阶 —— 第四节</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/basic/python/intermediatePy/part2/" class="prev">Python 进阶 —— 第二节</a></span> <span class="next"><a href="/basic/python/intermediatePy/part4/">Python 进阶 —— 第四节</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/ds/roadmap/"><div>
            Roadmap 路线
            <!----></div></a> <span class="date">04-16</span></dt></dl><dl><dd>02</dd> <dt><a href="/ds/plan/"><div>
            Plan 计划
            <!----></div></a> <span class="date">04-16</span></dt></dl><dl><dd>03</dd> <dt><a href="/basic/python/intermediatePy/index/"><div>
            开始上手
            <!----></div></a> <span class="date">04-13</span></dt></dl> <dl><dd></dd> <dt><a href="/archives" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:jonsam.ng@foxmail.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/jonsam-ng" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://www.jonsam.site" title="博客" target="_blank" class="iconfont icon-mao"></a><a href="http://docs.jonsam.site" title="文档" target="_blank" class="iconfont icon-shuben"></a><a href="https://source.jonsam.site" title="源码" target="_blank" class="iconfont icon-code"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2022
    <span><a href="https://ml.jonsam.site" target="_blank">Fancy ML</a> | Made by <a href="https://www.jonsam.site" target="_blank">Jonsam</a> by ❤</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div><!----><div></div><div></div></div></div>
    <script src="/assets/js/app.350816d5.js" defer></script><script src="/assets/js/2.f530c001.js" defer></script><script src="/assets/js/3.c8b79b2e.js" defer></script><script src="/assets/js/19.37592179.js" defer></script><script src="/assets/js/6.9d0ee351.js" defer></script><script src="/assets/js/4.7d1b4eaf.js" defer></script>
  </body>
</html>
