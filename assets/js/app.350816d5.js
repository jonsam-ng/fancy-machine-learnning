(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(n){function e(e){for(var r,a,s=e[0],l=e[1],c=e[2],p=0,d=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(n[r]=l[r]);for(u&&u(e);d.length;)d.shift()();return o.push.apply(o,c||[]),t()}function t(){for(var n,e=0;e<o.length;e++){for(var t=o[e],r=!0,s=1;s<t.length;s++){var l=t[s];0!==i[l]&&(r=!1)}r&&(o.splice(e--,1),n=a(a.s=t[0]))}return n}var r={},i={1:0},o=[];function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.e=function(n){var e=[],t=i[n];if(0!==t)if(t)e.push(t[2]);else{var r=new Promise((function(e,r){t=i[n]=[e,r]}));e.push(t[2]=r);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(n){return a.p+"assets/js/"+({}[n]||n)+"."+{2:"f530c001",3:"c8b79b2e",4:"7d1b4eaf",5:"ab5cfcbe",6:"9d0ee351",7:"c2df3a97",8:"67cd255d",9:"a32834e6",10:"83707a68",11:"97ebcb24",12:"82e21a59",13:"d74254c1",14:"694217cf",15:"74af29a4",16:"d08855db",17:"46afecee",18:"a52b045e",19:"37592179",20:"1d1933ee",21:"243d5d48",22:"84c049a5",23:"a599874d",24:"b3ab5f20",25:"387272d0",26:"e9480af8",27:"de80e26f",28:"ce416c8e",29:"7127183a",30:"65181c94",31:"7fdf7fdb",32:"76584317",33:"403a30b5",34:"3c64ba10",35:"224fd1f6",36:"11b405c5",37:"a44a0fab",38:"b0e243d6",39:"531c1eb7",40:"7031df39",41:"50514384",42:"f9ee3ee0",43:"3a331ec6"}[n]+".js"}(n);var l=new Error;o=function(e){s.onerror=s.onload=null,clearTimeout(c);var t=i[n];if(0!==t){if(t){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+n+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,t[1](l)}i[n]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(e)},a.m=n,a.c=r,a.d=function(n,e,t){a.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},a.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},a.t=function(n,e){if(1&e&&(n=a(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)a.d(t,r,function(e){return n[e]}.bind(null,r));return t},a.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return a.d(e,"a",e),e},a.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},a.p="/",a.oe=function(n){throw console.error(n),n};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;o.push([106,0]),t()}([function(n,e){n.exports=function(n){return"function"==typeof n}},function(n,e,t){"use strict";function r(n,e,t,r,i,o,a,s){var l,c="function"==typeof n?n.options:n;if(e&&(c.render=e,c.staticRenderFns=t,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),i&&i.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(n,e){return l.call(e),u(n,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:n,options:c}}t.d(e,"a",(function(){return r}))},function(n,e){var t=function(n){return n&&n.Math==Math&&n};n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(n,e,t){var r=t(30),i=Function.prototype,o=i.bind,a=i.call,s=r&&o.bind(a,a);n.exports=r?function(n){return n&&s(n)}:function(n){return n&&function(){return a.apply(n,arguments)}}},function(n,e){n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e,t){var r=t(4);n.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(n,e){var t=Array.isArray;n.exports=t},function(n,e,t){var r=t(3),i=t(32),o=r({}.hasOwnProperty);n.exports=Object.hasOwn||function(n,e){return o(i(n),e)}},function(n,e,t){var r=t(70),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();n.exports=o},function(n,e,t){var r=t(0),i="object"==typeof document&&document.all,o=void 0===i&&void 0!==i;n.exports=o?function(n){return"object"==typeof n?null!==n:r(n)||n===i}:function(n){return"object"==typeof n?null!==n:r(n)}},function(n,e,t){var r=t(165),i=t(168);n.exports=function(n,e){var t=i(n,e);return r(t)?t:void 0}},function(n,e,t){"use strict";t.d(e,"e",(function(){return r})),t.d(e,"b",(function(){return o})),t.d(e,"j",(function(){return a})),t.d(e,"g",(function(){return l})),t.d(e,"h",(function(){return c})),t.d(e,"i",(function(){return u})),t.d(e,"c",(function(){return p})),t.d(e,"f",(function(){return d})),t.d(e,"l",(function(){return h})),t.d(e,"m",(function(){return f})),t.d(e,"d",(function(){return g})),t.d(e,"k",(function(){return y})),t.d(e,"n",(function(){return v})),t.d(e,"a",(function(){return b}));t(16);const r=/#.*$/,i=/\.(md|html)$/,o=/\/$/,a=/^[a-z]+:/i;function s(n){return decodeURI(n).replace(r,"").replace(i,"")}function l(n){return a.test(n)}function c(n){return/^mailto:/.test(n)}function u(n){return/^tel:/.test(n)}function p(n){if(l(n))return n;if(!n)return"404";const e=n.match(r),t=e?e[0]:"",i=s(n);return o.test(i)?n:i+".html"+t}function d(n,e){const t=n.hash,i=function(n){const e=null==n?void 0:n.match(r);if(e)return e[0]}(e);if(i&&t!==i)return!1;return s(n.path)===s(e)}function h(n,e,t){if(l(e))return{type:"external",path:e};t&&(e=function(n,e,t){const r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;const i=e.split("/");t&&i[i.length-1]||i.pop();const o=n.replace(/^\//,"").split("/");for(let n=0;n<o.length;n++){const e=o[n];".."===e?i.pop():"."!==e&&i.push(e)}""!==i[0]&&i.unshift("");return i.join("/")}(e,t));const r=s(e);for(let e=0;e<n.length;e++)if(s(n[e].regularPath)===r)return Object.assign({},n[e],{type:"page",path:p(n[e].path)});return console.error(`[vuepress] No matching page found for sidebar item "${e}"`),{}}function f(n,e,t,r){const{pages:i,themeConfig:o}=t,a=r&&o.locales&&o.locales[r]||o;if("auto"===(n.frontmatter.sidebar||a.sidebar||o.sidebar))return m(n);const s=a.sidebar||o.sidebar;if(s){const{base:t,config:r}=function(n,e){if(Array.isArray(e))return{base:"/",config:e};for(const r in e)if(0===(t=n,/(\.html|\/)$/.test(t)?t:t+"/").indexOf(encodeURI(r)))return{base:r,config:e[r]};var t;return{}}(e,s);return"auto"===r?m(n):r?r.map(n=>function n(e,t,r,i=1){if("string"==typeof e)return h(t,e,r);if(Array.isArray(e))return Object.assign(h(t,e[0],r),{title:e[1]});{i>3&&console.error("[vuepress] detected a too deep nested sidebar group.");const o=e.children||[];return 0===o.length&&e.path?Object.assign(h(t,e.path,r),{title:e.title}):{type:"group",path:e.path,title:e.title,sidebarDepth:e.sidebarDepth,initialOpenGroupIndex:e.initialOpenGroupIndex,children:o.map(e=>n(e,t,r,i+1)),collapsable:!1!==e.collapsable}}}(n,i,t)):[]}return[]}function m(n){const e=g(n.headers||[]);return[{type:"group",collapsable:!1,title:n.title,path:null,children:e.map(e=>({type:"auto",title:e.title,basePath:n.path,path:n.path+"#"+e.slug,children:e.children||[]}))}]}function g(n){let e;return(n=n.map(n=>Object.assign({},n))).forEach(n=>{2===n.level?e=n:e&&(e.children||(e.children=[])).push(n)}),n.filter(n=>2===n.level)}function y(n){return Object.assign(n,{type:n.items&&n.items.length?"links":"link"})}function v(n){return Object.prototype.toString.call(n).match(/\[object (.*?)\]/)[1].toLowerCase()}function _(n){let e=n.frontmatter.date||n.lastUpdated||new Date,t=new Date(e);return"Invalid Date"==t&&e&&(t=new Date(e.replace(/-/g,"/"))),t.getTime()}function b(n,e){return _(e)-_(n)}},function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,e,t){var r=t(5),i=t(65),o=t(101),a=t(29),s=t(56),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor;e.f=r?o?function(n,e,t){if(a(n),e=s(e),a(t),"function"==typeof n&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var r=u(n,e);r&&r.writable&&(n[e]=t.value,t={configurable:"configurable"in t?t.configurable:r.configurable,enumerable:"enumerable"in t?t.enumerable:r.enumerable,writable:!1})}return c(n,e,t)}:c:function(n,e,t){if(a(n),e=s(e),a(t),i)try{return c(n,e,t)}catch(n){}if("get"in t||"set"in t)throw l("Accessors not supported");return"value"in t&&(n[e]=t.value),n}},function(n,e,t){var r=t(15),i=t(150),o=t(151),a=r?r.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":a&&a in Object(n)?i(n):o(n)}},function(n,e,t){var r=t(8).Symbol;n.exports=r},function(n,e,t){"use strict";var r=t(17),i=t(32),o=t(33),a=t(131),s=t(133),l=t(4)((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(n){return n instanceof TypeError}}();r({target:"Array",proto:!0,arity:1,forced:l||c},{push:function(n){var e=i(this),t=o(e),r=arguments.length;s(t+r);for(var l=0;l<r;l++)e[t]=arguments[l],t++;return a(e,t),t}})},function(n,e,t){var r=t(2),i=t(53).f,o=t(21),a=t(114),s=t(37),l=t(66),c=t(127);n.exports=function(n,e){var t,u,p,d,h,f=n.target,m=n.global,g=n.stat;if(t=m?r:g?r[f]||s(f,{}):(r[f]||{}).prototype)for(u in e){if(d=e[u],p=n.dontCallGetSet?(h=i(t,u))&&h.value:t[u],!c(m?u:f+(g?".":"#")+u,n.forced)&&void 0!==p){if(typeof d==typeof p)continue;l(d,p)}(n.sham||p&&p.sham)&&o(d,"sham",!0),a(t,u,d,n)}}},function(n,e,t){var r=t(2),i=t(0),o=function(n){return i(n)?n:void 0};n.exports=function(n,e){return arguments.length<2?o(r[n]):r[n]&&r[n][e]}},function(n,e,t){var r=t(2),i=t(62),o=t(7),a=t(64),s=t(60),l=t(59),c=i("wks"),u=r.Symbol,p=u&&u.for,d=l?u:u&&u.withoutSetter||a;n.exports=function(n){if(!o(c,n)||!s&&"string"!=typeof c[n]){var e="Symbol."+n;s&&o(u,n)?c[n]=u[n]:c[n]=l&&p?p(e):d(e)}return c[n]}},function(n,e,t){var r=t(3),i=r({}.toString),o=r("".slice);n.exports=function(n){return o(i(n),8,-1)}},function(n,e,t){var r=t(5),i=t(13),o=t(35);n.exports=r?function(n,e,t){return i.f(n,e,o(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e,t){var r=t(155),i=t(156),o=t(157),a=t(158),s=t(159);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,n.exports=l},function(n,e,t){var r=t(72);n.exports=function(n,e){for(var t=n.length;t--;)if(r(n[t][0],e))return t;return-1}},function(n,e,t){var r=t(10)(Object,"create");n.exports=r},function(n,e,t){var r=t(177);n.exports=function(n,e){var t=n.__data__;return r(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(n,e,t){var r=t(45);n.exports=function(n){if("string"==typeof n||r(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(n,e,t){var r,i;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(i="function"==typeof(r=function(){var n,e,t={version:"0.2.0"},r=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function i(n,e,t){return n<e?e:n>t?t:n}function o(n){return 100*(-1+n)}t.configure=function(n){var e,t;for(e in n)void 0!==(t=n[e])&&n.hasOwnProperty(e)&&(r[e]=t);return this},t.status=null,t.set=function(n){var e=t.isStarted();n=i(n,r.minimum,1),t.status=1===n?null:n;var l=t.render(!e),c=l.querySelector(r.barSelector),u=r.speed,p=r.easing;return l.offsetWidth,a((function(e){""===r.positionUsing&&(r.positionUsing=t.getPositioningCSS()),s(c,function(n,e,t){var i;return(i="translate3d"===r.positionUsing?{transform:"translate3d("+o(n)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+o(n)+"%,0)"}:{"margin-left":o(n)+"%"}).transition="all "+e+"ms "+t,i}(n,u,p)),1===n?(s(l,{transition:"none",opacity:1}),l.offsetWidth,setTimeout((function(){s(l,{transition:"all "+u+"ms linear",opacity:0}),setTimeout((function(){t.remove(),e()}),u)}),u)):setTimeout(e,u)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),r.trickleSpeed)};return r.trickle&&n(),this},t.done=function(n){return n||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(n){var e=t.status;return e?("number"!=typeof n&&(n=(1-e)*i(Math.random()*e,.1,.95)),e=i(e+n,0,.994),t.set(e)):t.start()},t.trickle=function(){return t.inc(Math.random()*r.trickleRate)},n=0,e=0,t.promise=function(r){return r&&"resolved"!==r.state()?(0===e&&t.start(),n++,e++,r.always((function(){0==--e?(n=0,t.done()):t.set((n-e)/n)})),this):this},t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=r.template;var i,a=e.querySelector(r.barSelector),l=n?"-100":o(t.status||0),u=document.querySelector(r.parent);return s(a,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),r.showSpinner||(i=e.querySelector(r.spinnerSelector))&&d(i),u!=document.body&&c(u,"nprogress-custom-parent"),u.appendChild(e),e},t.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(r.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&d(n)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var a=function(){var n=[];function e(){var t=n.shift();t&&t(e)}return function(t){n.push(t),1==n.length&&e()}}(),s=function(){var n=["Webkit","O","Moz","ms"],e={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(n,e){return e.toUpperCase()})),e[t]||(e[t]=function(e){var t=document.body.style;if(e in t)return e;for(var r,i=n.length,o=e.charAt(0).toUpperCase()+e.slice(1);i--;)if((r=n[i]+o)in t)return r;return e}(t))}function r(n,e,r){e=t(e),n.style[e]=r}return function(n,e){var t,i,o=arguments;if(2==o.length)for(t in e)void 0!==(i=e[t])&&e.hasOwnProperty(t)&&r(n,t,i);else r(n,o[1],o[2])}}();function l(n,e){return("string"==typeof n?n:p(n)).indexOf(" "+e+" ")>=0}function c(n,e){var t=p(n),r=t+e;l(t,e)||(n.className=r.substring(1))}function u(n,e){var t,r=p(n);l(n,e)&&(t=r.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function p(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function d(n){n&&n.parentNode&&n.parentNode.removeChild(n)}return t})?r.call(e,t,e,n):r)||(n.exports=i)},function(n){n.exports=JSON.parse('{"_from":"vuepress-plugin-comment@^0.7.3","_id":"vuepress-plugin-comment@0.7.3","_inBundle":false,"_integrity":"sha512-CvuBST37snmQGzGD5lMxyw0u2eXWKVPjegfuwlI2+CTs2qWarKX16dVHHLR8DVa/yL5UGT3VuoNETH/zEexl8A==","_location":"/vuepress-plugin-comment","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"vuepress-plugin-comment@^0.7.3","name":"vuepress-plugin-comment","escapedName":"vuepress-plugin-comment","rawSpec":"^0.7.3","saveSpec":null,"fetchSpec":"^0.7.3"},"_requiredBy":["#DEV:/"],"_resolved":"https://registry.npmjs.org/vuepress-plugin-comment/-/vuepress-plugin-comment-0.7.3.tgz","_shasum":"2cff36b8f90896a7f88d494d78458398b1510249","_spec":"vuepress-plugin-comment@^0.7.3","_where":"/home/runner/work/fancy-machine-learnning/fancy-machine-learnning","author":{"name":"dongyuanxin"},"bugs":{"url":"https://github.com/dongyuanxin/vuepress-plugin-comment/issues"},"bundleDependencies":false,"dependencies":{"ejs":"^2.6.1","gitalk":"^1.5.0","gitalk-fix":"^1.5.2","i":"^0.3.6","npm":"^6.9.0","valine":"^1.3.9"},"deprecated":false,"description":"Comment plugin in vuepress, such as Gitalk, Valine...","homepage":"https://github.com/dongyuanxin/vuepress-plugin-comment#readme","keywords":["vuepress","comment","plugin","vue","gitalk","valine"],"license":"MIT","main":"index.js","name":"vuepress-plugin-comment","repository":{"type":"git","url":"git+ssh://git@github.com/dongyuanxin/vuepress-plugin-comment.git"},"scripts":{"test":"echo \\"Error: no test specified\\" && exit 1"},"version":"0.7.3"}')},function(n,e,t){var r=t(9),i=String,o=TypeError;n.exports=function(n){if(r(n))return n;throw o(i(n)+" is not an object")}},function(n,e,t){var r=t(4);n.exports=!r((function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}))},function(n,e,t){var r=t(48),i=t(54);n.exports=function(n){return r(i(n))}},function(n,e,t){var r=t(54),i=Object;n.exports=function(n){return i(r(n))}},function(n,e,t){var r=t(125);n.exports=function(n){return r(n.length)}},function(n,e,t){var r=t(30),i=Function.prototype.call;n.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},function(n,e){n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e,t){var r=t(2),i=t(37),o=r["__core-js_shared__"]||i("__core-js_shared__",{});n.exports=o},function(n,e,t){var r=t(2),i=Object.defineProperty;n.exports=function(n,e){try{i(r,n,{value:e,configurable:!0,writable:!0})}catch(t){r[n]=e}return e}},function(n,e,t){var r=t(149),i=t(12),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(n){return i(n)&&a.call(n,"callee")&&!s.call(n,"callee")};n.exports=l},function(n,e,t){var r=t(10)(t(8),"Map");n.exports=r},function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},function(n,e,t){var r=t(169),i=t(176),o=t(178),a=t(179),s=t(180);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,n.exports=l},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n){t[++e]=n})),t}},function(n,e){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,e,t){var r=t(6),i=t(45),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;n.exports=function(n,e){if(r(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!i(n))||(a.test(n)||!o.test(n)||null!=e&&n in Object(e))}},function(n,e,t){var r=t(14),i=t(12);n.exports=function(n){return"symbol"==typeof n||i(n)&&"[object Symbol]"==r(n)}},function(n,e){n.exports=function(n){return n}},function(n,e,t){"use strict";t.r(e);var r={name:"LastReadingPopup",data:()=>({lastReading:null,show:!1}),computed:{popupConfig(){const n={"/":{message:"检测到您上一次阅读的位置，是否移至该位置？",sureButtonText:"确定",cancelButtonText:"取消"},"/zh/":{message:"检测到您上一次阅读的位置，是否移至该位置？",sureButtonText:"前往",cancelButtonText:"取消"}};return n[`/${this.$lang.split("-")[0]}/`]||n[this.$localePath]||n},message(){const n=this.popupConfig;return n&&n.message||n["/"].message},sureButtonText(){const n=this.popupConfig;return n&&n.sureButtonText||n["/"].sureButtonText},cancelButtonText(){const n=this.popupConfig;return n&&n.cancelButtonText||n["/"].cancelButtonText}},mounted(){window.ActiveXObject||"ActiveXObject"in window?setTimeout(()=>{window.addEventListener("load",this.init())},1e3):setTimeout(()=>{window.addEventListener("load",this.init)},1e3)},methods:{init(){this.lastReading=JSON.parse(localStorage.getItem("lastReading")),this.lastReading&&(this.$route.path===this.lastReading.path?this.goto():(this.show=!0,setTimeout(this.clean,1e4)))},goto(){this.$route.path!==this.lastReading.path?this.$router.replace(this.lastReading.path).then(()=>{document.documentElement.scrollTop=this.lastReading.scrollTop,this.clean()}):this.$nextTick(()=>{document.documentElement.scrollTop=this.lastReading.scrollTop})},dontgoto(){this.clean()},clean(){this.show=!1,localStorage.removeItem("lastReading")}}},i=(t(244),t(1)),o=Object(i.a)(r,(function(){var n=this,e=n._self._c;return e("transition",{attrs:{name:"sw-update-popup"}},[n.show?e("div",{staticClass:"sw-update-popup"},[n._v("\n    "+n._s(n.message)+"\n\n    "),e("br"),n._v(" "),e("button",{on:{click:n.goto}},[n._v("\n      "+n._s(n.sureButtonText)+"\n    ")]),n._v(" "),e("button",{on:{click:n.dontgoto}},[n._v("\n      "+n._s(n.cancelButtonText)+"\n    ")])]):n._e()])}),[],!1,null,"181714f2",null);e.default=o.exports},function(n,e,t){var r=t(3),i=t(4),o=t(20),a=Object,s=r("".split);n.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(n){return"String"==o(n)?s(n,""):a(n)}:a},function(n,e,t){var r=t(0),i=t(112),o=TypeError;n.exports=function(n){if(r(n))return n;throw o(i(n)+" is not a function")}},function(n,e){n.exports={}},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,e){var t=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),u=Object.prototype.toString,p=Math.max,d=Math.min,h=function(){return c.Date.now()};function f(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function m(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==u.call(n)}(n))return NaN;if(f(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=f(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(t,"");var s=i.test(n);return s||o.test(n)?a(n.slice(2),s?2:8):r.test(n)?NaN:+n}n.exports=function(n,e,t){var r,i,o,a,s,l,c=0,u=!1,g=!1,y=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function v(e){var t=r,o=i;return r=i=void 0,c=e,a=n.apply(o,t)}function _(n){return c=n,s=setTimeout(x,e),u?v(n):a}function b(n){var t=n-l;return void 0===l||t>=e||t<0||g&&n-c>=o}function x(){var n=h();if(b(n))return w(n);s=setTimeout(x,function(n){var t=e-(n-l);return g?d(t,o-(n-c)):t}(n))}function w(n){return s=void 0,y&&r?v(n):(r=i=void 0,a)}function k(){var n=h(),t=b(n);if(r=arguments,i=this,l=n,t){if(void 0===s)return _(l);if(g)return s=setTimeout(x,e),v(l)}return void 0===s&&(s=setTimeout(x,e)),a}return e=m(e)||0,f(t)&&(u=!!t.leading,o=(g="maxWait"in t)?p(m(t.maxWait)||0,e):o,y="trailing"in t?!!t.trailing:y),k.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},k.flush=function(){return void 0===s?a:w(h())},k}},function(n,e,t){var r=t(5),i=t(34),o=t(108),a=t(35),s=t(31),l=t(56),c=t(7),u=t(65),p=Object.getOwnPropertyDescriptor;e.f=r?p:function(n,e){if(n=s(n),e=l(e),u)try{return p(n,e)}catch(n){}if(c(n,e))return a(!i(o.f,n,e),n[e])}},function(n,e,t){var r=t(55),i=TypeError;n.exports=function(n){if(r(n))throw i("Can't call method on "+n);return n}},function(n,e){n.exports=function(n){return null==n}},function(n,e,t){var r=t(109),i=t(57);n.exports=function(n){var e=r(n,"string");return i(e)?e:e+""}},function(n,e,t){var r=t(18),i=t(0),o=t(58),a=t(59),s=Object;n.exports=a?function(n){return"symbol"==typeof n}:function(n){var e=r("Symbol");return i(e)&&o(e.prototype,s(n))}},function(n,e,t){var r=t(3);n.exports=r({}.isPrototypeOf)},function(n,e,t){var r=t(60);n.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(n,e,t){var r=t(61),i=t(4);n.exports=!!Object.getOwnPropertySymbols&&!i((function(){var n=Symbol();return!String(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(n,e,t){var r,i,o=t(2),a=t(110),s=o.process,l=o.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),n.exports=i},function(n,e,t){var r=t(63),i=t(36);(n.exports=function(n,e){return i[n]||(i[n]=void 0!==e?e:{})})("versions",[]).push({version:"3.25.1",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(n,e){n.exports=!1},function(n,e,t){var r=t(3),i=0,o=Math.random(),a=r(1..toString);n.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+a(++i+o,36)}},function(n,e,t){var r=t(5),i=t(4),o=t(100);n.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(n,e,t){var r=t(7),i=t(120),o=t(53),a=t(13);n.exports=function(n,e,t){for(var s=i(e),l=a.f,c=o.f,u=0;u<s.length;u++){var p=s[u];r(n,p)||t&&r(t,p)||l(n,p,c(e,p))}}},function(n,e,t){var r=t(124);n.exports=function(n){var e=+n;return e!=e||0===e?0:r(e)}},function(n,e,t){var r=t(3),i=t(29),o=t(137);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),e=t instanceof Array}catch(n){}return function(t,r){return i(t),o(r),e?n(t,r):t.__proto__=r,t}}():void 0)},function(n,e){n.exports=function(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}},function(n,e){var t="object"==typeof global&&global&&global.Object===Object&&global;n.exports=t},function(n,e,t){var r=t(22),i=t(160),o=t(161),a=t(162),s=t(163),l=t(164);function c(n){var e=this.__data__=new r(n);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,n.exports=c},function(n,e){n.exports=function(n,e){return n===e||n!=n&&e!=e}},function(n,e,t){var r=t(14),i=t(40);n.exports=function(n){if(!i(n))return!1;var e=r(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(n,e){var t=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return t.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,e,t){var r=t(181),i=t(12);n.exports=function n(e,t,o,a,s){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!=e&&t!=t:r(e,t,o,a,n,s))}},function(n,e,t){var r=t(77),i=t(184),o=t(78);n.exports=function(n,e,t,a,s,l){var c=1&t,u=n.length,p=e.length;if(u!=p&&!(c&&p>u))return!1;var d=l.get(n),h=l.get(e);if(d&&h)return d==e&&h==n;var f=-1,m=!0,g=2&t?new r:void 0;for(l.set(n,e),l.set(e,n);++f<u;){var y=n[f],v=e[f];if(a)var _=c?a(v,y,f,e,n,l):a(y,v,f,n,e,l);if(void 0!==_){if(_)continue;m=!1;break}if(g){if(!i(e,(function(n,e){if(!o(g,e)&&(y===n||s(y,n,t,a,l)))return g.push(e)}))){m=!1;break}}else if(y!==v&&!s(y,v,t,a,l)){m=!1;break}}return l.delete(n),l.delete(e),m}},function(n,e,t){var r=t(41),i=t(182),o=t(183);function a(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new r;++e<t;)this.add(n[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,n.exports=a},function(n,e){n.exports=function(n,e){return n.has(e)}},function(n,e,t){var r=t(194),i=t(200),o=t(83);n.exports=function(n){return o(n)?r(n):i(n)}},function(n,e,t){(function(n){var r=t(8),i=t(196),o=e&&!e.nodeType&&e,a=o&&"object"==typeof n&&n&&!n.nodeType&&n,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;n.exports=l}).call(this,t(51)(n))},function(n,e){var t=/^(?:0|[1-9]\d*)$/;n.exports=function(n,e){var r=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&t.test(n))&&n>-1&&n%1==0&&n<e}},function(n,e,t){var r=t(197),i=t(198),o=t(199),a=o&&o.isTypedArray,s=a?i(a):r;n.exports=s},function(n,e,t){var r=t(73),i=t(43);n.exports=function(n){return null!=n&&i(n.length)&&!r(n)}},function(n,e,t){var r=t(10)(t(8),"Set");n.exports=r},function(n,e,t){var r=t(40);n.exports=function(n){return n==n&&!r(n)}},function(n,e){n.exports=function(n,e){return function(t){return null!=t&&(t[n]===e&&(void 0!==e||n in Object(t)))}}},function(n,e,t){var r=t(88),i=t(26);n.exports=function(n,e){for(var t=0,o=(e=r(e,n)).length;null!=n&&t<o;)n=n[i(e[t++])];return t&&t==o?n:void 0}},function(n,e,t){var r=t(6),i=t(44),o=t(211),a=t(214);n.exports=function(n,e){return r(n)?n:i(n,e)?[n]:o(a(n))}},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){var r=t(147),i=t(152),o=t(223),a=t(231),s=t(240),l=t(104),c=o((function(n){var e=l(n);return s(e)&&(e=void 0),a(r(n,1,s,!0),i(e,2))}));n.exports=c},function(n,e,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;n.exports=function(n){var e,t=""+n,i=r.exec(t);if(!i)return t;var o="",a=0,s=0;for(a=i.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}s!==a&&(o+=t.substring(s,a)),s=a+1,o+=e}return s!==a?o+t.substring(s,a):o}},function(n,e,t){"use strict";
/**
 * @file Embedded JavaScript templating engine. {@link http://ejs.co}
 * @author Matthew Eernisse <mde@fleegix.org>
 * @author Tiancheng "Timothy" Gu <timothygu99@gmail.com>
 * @project EJS
 * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}
 */var r=t(251),i=t(252),o=t(253),a=!1,s=t(254).version,l=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],c=l.concat("cache"),u=/^\uFEFF/;function p(n,t){var i,o,a=t.views,s=/^[A-Za-z]+:\\|^\//.exec(n);if(s&&s.length)i=e.resolveInclude(n.replace(/^\/*/,""),t.root||"/",!0);else if(t.filename&&(o=e.resolveInclude(n,t.filename),r.existsSync(o)&&(i=o)),i||Array.isArray(a)&&a.some((function(t){return o=e.resolveInclude(n,t,!0),r.existsSync(o)}))&&(i=o),!i)throw new Error('Could not find the include file "'+t.escapeFunction(n)+'"');return i}function d(n,t){var r,i=n.filename,o=arguments.length>1;if(n.cache){if(!i)throw new Error("cache option requires a filename");if(r=e.cache.get(i))return r;o||(t=f(i).toString().replace(u,""))}else if(!o){if(!i)throw new Error("Internal EJS error: no file name or template provided");t=f(i).toString().replace(u,"")}return r=e.compile(t,n),n.cache&&e.cache.set(i,r),r}function h(n,t,r){var i;if(!r){if("function"==typeof e.promiseImpl)return new e.promiseImpl((function(e,r){try{e(i=d(n)(t))}catch(n){r(n)}}));throw new Error("Please provide a callback function")}try{i=d(n)(t)}catch(n){return r(n)}r(null,i)}function f(n){return e.fileLoader(n)}function m(n,e,t,r,i){var o=e.split("\n"),a=Math.max(r-3,0),s=Math.min(o.length,r+3),l=i(t),c=o.slice(a,s).map((function(n,e){var t=e+a+1;return(t==r?" >> ":"    ")+t+"| "+n})).join("\n");throw n.path=l,n.message=(l||"ejs")+":"+r+"\n"+c+"\n\n"+n.message,n}function g(n){return n.replace(/;(\s*$)/,"$1")}function y(n,t){t=t||{};var r={};this.templateText=n,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",this.dependencies=[],r.client=t.client||!1,r.escapeFunction=t.escape||t.escapeFunction||o.escapeXML,r.compileDebug=!1!==t.compileDebug,r.debug=!!t.debug,r.filename=t.filename,r.openDelimiter=t.openDelimiter||e.openDelimiter||"<",r.closeDelimiter=t.closeDelimiter||e.closeDelimiter||">",r.delimiter=t.delimiter||e.delimiter||"%",r.strict=t.strict||!1,r.context=t.context,r.cache=t.cache||!1,r.rmWhitespace=t.rmWhitespace,r.root=t.root,r.outputFunctionName=t.outputFunctionName,r.localsName=t.localsName||e.localsName||"locals",r.views=t.views,r.async=t.async,r.destructuredLocals=t.destructuredLocals,r.legacyInclude=void 0===t.legacyInclude||!!t.legacyInclude,r.strict?r._with=!1:r._with=void 0===t._with||t._with,this.opts=r,this.regex=this.createRegex()}e.cache=o.cache,e.fileLoader=r.readFileSync,e.localsName="locals",e.promiseImpl=new Function("return this;")().Promise,e.resolveInclude=function(n,e,t){var r=i.dirname,o=i.extname,a=(0,i.resolve)(t?e:r(e),n);return o(n)||(a+=".ejs"),a},e.compile=function(n,e){return e&&e.scope&&(a||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),a=!0),e.context||(e.context=e.scope),delete e.scope),new y(n,e).compile()},e.render=function(n,e,t){var r=e||{},i=t||{};return 2==arguments.length&&o.shallowCopyFromList(i,r,l),d(i,n)(r)},e.renderFile=function(){var n,e,t,r=Array.prototype.slice.call(arguments),i=r.shift(),a={filename:i};return"function"==typeof arguments[arguments.length-1]&&(n=r.pop()),r.length?(e=r.shift(),r.length?o.shallowCopy(a,r.pop()):(e.settings&&(e.settings.views&&(a.views=e.settings.views),e.settings["view cache"]&&(a.cache=!0),(t=e.settings["view options"])&&o.shallowCopy(a,t)),o.shallowCopyFromList(a,e,c)),a.filename=i):e={},h(a,e,n)},e.Template=y,e.clearCache=function(){e.cache.reset()},y.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},y.prototype={createRegex:function(){var n="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",e=o.escapeRegExpChars(this.opts.delimiter),t=o.escapeRegExpChars(this.opts.openDelimiter),r=o.escapeRegExpChars(this.opts.closeDelimiter);return n=n.replace(/%/g,e).replace(/</g,t).replace(/>/g,r),new RegExp(n)},compile:function(){var n,e,t,r=this.opts,a="",s="",l=r.escapeFunction;if(!this.source){if(this.generateSource(),a+='  var __output = "";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n',r.outputFunctionName&&(a+="  var "+r.outputFunctionName+" = __append;\n"),r.destructuredLocals&&r.destructuredLocals.length){for(var c="  var __locals = ("+r.localsName+" || {}),\n",u=0;u<r.destructuredLocals.length;u++){var h=r.destructuredLocals[u];u>0&&(c+=",\n  "),c+=h+" = __locals."+h}a+=c+";\n"}!1!==r._with&&(a+="  with ("+r.localsName+" || {}) {\n",s+="  }\n"),s+="  return __output;\n",this.source=a+this.source+s}n=r.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+(r.filename?JSON.stringify(r.filename):"undefined")+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,r.client&&(n="escapeFn = escapeFn || "+l.toString()+";\n"+n,r.compileDebug&&(n="rethrow = rethrow || "+m.toString()+";\n"+n)),r.strict&&(n='"use strict";\n'+n),r.debug&&console.log(n),r.compileDebug&&r.filename&&(n=n+"\n//# sourceURL="+r.filename+"\n");try{if(r.async)try{t=new Function("return (async function(){}).constructor;")()}catch(n){throw n instanceof SyntaxError?new Error("This environment does not support async/await"):n}else t=Function;e=new t(r.localsName+", escapeFn, include, rethrow",n)}catch(n){throw n instanceof SyntaxError&&(r.filename&&(n.message+=" in "+r.filename),n.message+=" while compiling ejs\n\n",n.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",n.message+="https://github.com/RyanZim/EJS-Lint",r.async||(n.message+="\n",n.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),n}var f=r.client?e:function(n){return e.apply(r.context,[n||{},l,function(e,t){var i=o.shallowCopy({},n);return t&&(i=o.shallowCopy(i,t)),function(n,e){var t=o.shallowCopy({},e);return t.filename=p(n,t),d(t)}(e,r)(i)},m])};if(f.dependencies=this.dependencies,r.filename&&"function"==typeof Object.defineProperty){var g=r.filename,y=i.basename(g,i.extname(g));try{Object.defineProperty(f,"name",{value:y,writable:!1,enumerable:!1,configurable:!0})}catch(n){}}return f},generateSource:function(){var n=this.opts;n.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var t=this,r=this.parseTemplateText(),i=this.opts.delimiter,a=this.opts.openDelimiter,s=this.opts.closeDelimiter;r&&r.length&&r.forEach((function(l,c){var d,h,m,g,v,_;if(0===l.indexOf(a+i)&&0!==l.indexOf(a+i+i)&&(h=r[c+2])!=i+s&&h!="-"+i+s&&h!="_"+i+s)throw new Error('Could not find matching close tag for "'+l+'".');if(n.legacyInclude&&(m=l.match(/^\s*include\s+(\S+)/))&&(d=r[c-1])&&(d==a+i||d==a+i+"-"||d==a+i+"_"))return g=o.shallowCopy({},t.opts),v=function(n,e){var t,r,i=o.shallowCopy({},e);r=f(t=p(n,i)).toString().replace(u,""),i.filename=t;var a=new y(r,i);return a.generateSource(),{source:a.source,filename:t,template:r}}(m[1],g),_=t.opts.compileDebug?"    ; (function(){\n      var __line = 1\n      , __lines = "+JSON.stringify(v.template)+"\n      , __filename = "+JSON.stringify(v.filename)+";\n      try {\n"+v.source+"      } catch (e) {\n        rethrow(e, __lines, __filename, __line, escapeFn);\n      }\n    ; }).call(this)\n":"    ; (function(){\n"+v.source+"    ; }).call(this)\n",t.source+=_,void t.dependencies.push(e.resolveInclude(m[1],g.filename));t.scanLine(l)}))},parseTemplateText:function(){for(var n,e=this.templateText,t=this.regex,r=t.exec(e),i=[];r;)0!==(n=r.index)&&(i.push(e.substring(0,n)),e=e.slice(n)),i.push(r[0]),e=e.slice(r[0].length),r=t.exec(e);return e&&i.push(e),i},_addOutput:function(n){if(this.truncate&&(n=n.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!n)return n;n=(n=(n=(n=n.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+n+'")\n'},scanLine:function(n){var e,t=this.opts.delimiter,r=this.opts.openDelimiter,i=this.opts.closeDelimiter;switch(e=n.split("\n").length-1,n){case r+t:case r+t+"_":this.mode=y.modes.EVAL;break;case r+t+"=":this.mode=y.modes.ESCAPED;break;case r+t+"-":this.mode=y.modes.RAW;break;case r+t+"#":this.mode=y.modes.COMMENT;break;case r+t+t:this.mode=y.modes.LITERAL,this.source+='    ; __append("'+n.replace(r+t+t,r+t)+'")\n';break;case t+t+i:this.mode=y.modes.LITERAL,this.source+='    ; __append("'+n.replace(t+t+i,t+i)+'")\n';break;case t+i:case"-"+t+i:case"_"+t+i:this.mode==y.modes.LITERAL&&this._addOutput(n),this.mode=null,this.truncate=0===n.indexOf("-")||0===n.indexOf("_");break;default:if(this.mode){switch(this.mode){case y.modes.EVAL:case y.modes.ESCAPED:case y.modes.RAW:n.lastIndexOf("//")>n.lastIndexOf("\n")&&(n+="\n")}switch(this.mode){case y.modes.EVAL:this.source+="    ; "+n+"\n";break;case y.modes.ESCAPED:this.source+="    ; __append(escapeFn("+g(n)+"))\n";break;case y.modes.RAW:this.source+="    ; __append("+g(n)+")\n";break;case y.modes.COMMENT:break;case y.modes.LITERAL:this._addOutput(n)}}else this._addOutput(n)}this.opts.compileDebug&&e&&(this.currentLine+=e,this.source+="    ; __line = "+this.currentLine+"\n")}},e.escapeXML=o.escapeXML,e.__express=e.renderFile,e.VERSION=s,e.name="ejs","undefined"!=typeof window&&(window.ejs=e)},function(n,e,t){"use strict";t.r(e);var r={name:"CodeBlock",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1}}},i=(t(245),t(1)),o=Object(i.a)(r,(function(){return(0,this._self._c)("div",{staticClass:"theme-code-block",class:{"theme-code-block__active":this.active}},[this._t("default")],2)}),[],!1,null,"5a3e6e86",null);e.default=o.exports},function(n,e,t){"use strict";t.r(e);var r={name:"CodeGroup",data:()=>({codeTabs:[],activeCodeTabIndex:-1}),watch:{activeCodeTabIndex(n){this.codeTabs.forEach(n=>{n.elm.classList.remove("theme-code-block__active")}),this.codeTabs[n].elm.classList.add("theme-code-block__active")}},mounted(){this.codeTabs=(this.$slots.default||[]).filter(n=>Boolean(n.componentOptions)).map((n,e)=>(""===n.componentOptions.propsData.active&&(this.activeCodeTabIndex=e),{title:n.componentOptions.propsData.title,elm:n.elm})),-1===this.activeCodeTabIndex&&this.codeTabs.length>0&&(this.activeCodeTabIndex=0)},methods:{changeCodeTab(n){this.activeCodeTabIndex=n}}},i=(t(246),t(1)),o=Object(i.a)(r,(function(){var n=this,e=n._self._c;return e("div",{staticClass:"theme-code-group"},[e("div",{staticClass:"theme-code-group__nav"},[e("ul",{staticClass:"theme-code-group__ul"},n._l(n.codeTabs,(function(t,r){return e("li",{key:t.title,staticClass:"theme-code-group__li"},[e("button",{staticClass:"theme-code-group__nav-tab",class:{"theme-code-group__nav-tab-active":r===n.activeCodeTabIndex},on:{click:function(e){return n.changeCodeTab(r)}}},[n._v("\n            "+n._s(t.title)+"\n          ")])])})),0)]),n._v(" "),n._t("default"),n._v(" "),n.codeTabs.length<1?e("pre",{staticClass:"pre-blank"},[n._v("// Make sure to add code blocks to your code group")]):n._e()],2)}),[],!1,null,"392329f0",null);e.default=o.exports},function(n,e){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,e,t){var r=t(2),i=t(9),o=r.document,a=i(o)&&i(o.createElement);n.exports=function(n){return a?o.createElement(n):{}}},function(n,e,t){var r=t(5),i=t(4);n.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(n,e,t){var r=t(62),i=t(64),o=r("keys");n.exports=function(n){return o[n]||(o[n]=i(n))}},function(n,e,t){var r=t(3),i=t(7),o=t(31),a=t(122).indexOf,s=t(50),l=r([].push);n.exports=function(n,e){var t,r=o(n),c=0,u=[];for(t in r)!i(s,t)&&i(r,t)&&l(u,t);for(;e.length>c;)i(r,t=e[c++])&&(~a(u,t)||l(u,t));return u}},function(n,e){n.exports=function(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}},function(n,e,t){n.exports=t(243)},function(n,e,t){n.exports=t(259)},function(n,e,t){"use strict";var r=t(17),i=t(128).left,o=t(129),a=t(61),s=t(130);r({target:"Array",proto:!0,forced:!o("reduce")||!s&&a>79&&a<83},{reduce:function(n){var e=arguments.length;return i(this,n,e,e>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(n){var e=i(this,n);return!!e&&e.enumerable}:r},function(n,e,t){var r=t(34),i=t(9),o=t(57),a=t(111),s=t(113),l=t(19),c=TypeError,u=l("toPrimitive");n.exports=function(n,e){if(!i(n)||o(n))return n;var t,l=a(n,u);if(l){if(void 0===e&&(e="default"),t=r(l,n,e),!i(t)||o(t))return t;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(n,e)}},function(n,e,t){var r=t(18);n.exports=r("navigator","userAgent")||""},function(n,e,t){var r=t(49),i=t(55);n.exports=function(n,e){var t=n[e];return i(t)?void 0:r(t)}},function(n,e){var t=String;n.exports=function(n){try{return t(n)}catch(n){return"Object"}}},function(n,e,t){var r=t(34),i=t(0),o=t(9),a=TypeError;n.exports=function(n,e){var t,s;if("string"===e&&i(t=n.toString)&&!o(s=r(t,n)))return s;if(i(t=n.valueOf)&&!o(s=r(t,n)))return s;if("string"!==e&&i(t=n.toString)&&!o(s=r(t,n)))return s;throw a("Can't convert object to primitive value")}},function(n,e,t){var r=t(0),i=t(13),o=t(115),a=t(37);n.exports=function(n,e,t,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:e;if(r(t)&&o(t,c,s),s.global)l?n[e]=t:a(e,t);else{try{s.unsafe?n[e]&&(l=!0):delete n[e]}catch(n){}l?n[e]=t:i.f(n,e,{value:t,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return n}},function(n,e,t){var r=t(4),i=t(0),o=t(7),a=t(5),s=t(116).CONFIGURABLE,l=t(117),c=t(118),u=c.enforce,p=c.get,d=Object.defineProperty,h=a&&!r((function(){return 8!==d((function(){}),"length",{value:8}).length})),f=String(String).split("String"),m=n.exports=function(n,e,t){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!o(n,"name")||s&&n.name!==e)&&(a?d(n,"name",{value:e,configurable:!0}):n.name=e),h&&t&&o(t,"arity")&&n.length!==t.arity&&d(n,"length",{value:t.arity});try{t&&o(t,"constructor")&&t.constructor?a&&d(n,"prototype",{writable:!1}):n.prototype&&(n.prototype=void 0)}catch(n){}var r=u(n);return o(r,"source")||(r.source=f.join("string"==typeof e?e:"")),n};Function.prototype.toString=m((function(){return i(this)&&p(this).source||l(this)}),"toString")},function(n,e,t){var r=t(5),i=t(7),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),l=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);n.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},function(n,e,t){var r=t(3),i=t(0),o=t(36),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(n){return a(n)}),n.exports=o.inspectSource},function(n,e,t){var r,i,o,a=t(119),s=t(2),l=t(3),c=t(9),u=t(21),p=t(7),d=t(36),h=t(102),f=t(50),m=s.TypeError,g=s.WeakMap;if(a||d.state){var y=d.state||(d.state=new g),v=l(y.get),_=l(y.has),b=l(y.set);r=function(n,e){if(_(y,n))throw m("Object already initialized");return e.facade=n,b(y,n,e),e},i=function(n){return v(y,n)||{}},o=function(n){return _(y,n)}}else{var x=h("state");f[x]=!0,r=function(n,e){if(p(n,x))throw m("Object already initialized");return e.facade=n,u(n,x,e),e},i=function(n){return p(n,x)?n[x]:{}},o=function(n){return p(n,x)}}n.exports={set:r,get:i,has:o,enforce:function(n){return o(n)?i(n):r(n,{})},getterFor:function(n){return function(e){var t;if(!c(e)||(t=i(e)).type!==n)throw m("Incompatible receiver, "+n+" required");return t}}}},function(n,e,t){var r=t(2),i=t(0),o=r.WeakMap;n.exports=i(o)&&/native code/.test(String(o))},function(n,e,t){var r=t(18),i=t(3),o=t(121),a=t(126),s=t(29),l=i([].concat);n.exports=r("Reflect","ownKeys")||function(n){var e=o.f(s(n)),t=a.f;return t?l(e,t(n)):e}},function(n,e,t){var r=t(103),i=t(99).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(n){return r(n,i)}},function(n,e,t){var r=t(31),i=t(123),o=t(33),a=function(n){return function(e,t,a){var s,l=r(e),c=o(l),u=i(a,c);if(n&&t!=t){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((n||u in l)&&l[u]===t)return n||u||0;return!n&&-1}};n.exports={includes:a(!0),indexOf:a(!1)}},function(n,e,t){var r=t(67),i=Math.max,o=Math.min;n.exports=function(n,e){var t=r(n);return t<0?i(t+e,0):o(t,e)}},function(n,e){var t=Math.ceil,r=Math.floor;n.exports=Math.trunc||function(n){var e=+n;return(e>0?r:t)(e)}},function(n,e,t){var r=t(67),i=Math.min;n.exports=function(n){return n>0?i(r(n),9007199254740991):0}},function(n,e){e.f=Object.getOwnPropertySymbols},function(n,e,t){var r=t(4),i=t(0),o=/#|\.prototype\./,a=function(n,e){var t=l[s(n)];return t==u||t!=c&&(i(e)?r(e):!!e)},s=a.normalize=function(n){return String(n).replace(o,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";n.exports=a},function(n,e,t){var r=t(49),i=t(32),o=t(48),a=t(33),s=TypeError,l=function(n){return function(e,t,l,c){r(t);var u=i(e),p=o(u),d=a(u),h=n?d-1:0,f=n?-1:1;if(l<2)for(;;){if(h in p){c=p[h],h+=f;break}if(h+=f,n?h<0:d<=h)throw s("Reduce of empty array with no initial value")}for(;n?h>=0:d>h;h+=f)h in p&&(c=t(c,p[h],h,u));return c}};n.exports={left:l(!1),right:l(!0)}},function(n,e,t){"use strict";var r=t(4);n.exports=function(n,e){var t=[][n];return!!t&&r((function(){t.call(null,e||function(){return 1},1)}))}},function(n,e,t){var r=t(20),i=t(2);n.exports="process"==r(i.process)},function(n,e,t){"use strict";var r=t(5),i=t(132),o=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(n){return n instanceof TypeError}}();n.exports=s?function(n,e){if(i(n)&&!a(n,"length").writable)throw o("Cannot set read only .length");return n.length=e}:function(n,e){return n.length=e}},function(n,e,t){var r=t(20);n.exports=Array.isArray||function(n){return"Array"==r(n)}},function(n,e){var t=TypeError;n.exports=function(n){if(n>9007199254740991)throw t("Maximum allowed index exceeded");return n}},function(n,e,t){var r=t(17),i=t(2),o=t(135),a=t(136),s=i.WebAssembly,l=7!==Error("e",{cause:7}).cause,c=function(n,e){var t={};t[n]=a(n,e,l),r({global:!0,constructor:!0,arity:1,forced:l},t)},u=function(n,e){if(s&&s[n]){var t={};t[n]=a("WebAssembly."+n,e,l),r({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:l},t)}};c("Error",(function(n){return function(e){return o(n,this,arguments)}})),c("EvalError",(function(n){return function(e){return o(n,this,arguments)}})),c("RangeError",(function(n){return function(e){return o(n,this,arguments)}})),c("ReferenceError",(function(n){return function(e){return o(n,this,arguments)}})),c("SyntaxError",(function(n){return function(e){return o(n,this,arguments)}})),c("TypeError",(function(n){return function(e){return o(n,this,arguments)}})),c("URIError",(function(n){return function(e){return o(n,this,arguments)}})),u("CompileError",(function(n){return function(e){return o(n,this,arguments)}})),u("LinkError",(function(n){return function(e){return o(n,this,arguments)}})),u("RuntimeError",(function(n){return function(e){return o(n,this,arguments)}}))},function(n,e,t){var r=t(30),i=Function.prototype,o=i.apply,a=i.call;n.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},function(n,e,t){"use strict";var r=t(18),i=t(7),o=t(21),a=t(58),s=t(68),l=t(66),c=t(138),u=t(139),p=t(140),d=t(144),h=t(145),f=t(146),m=t(5),g=t(63);n.exports=function(n,e,t,y){var v=y?2:1,_=n.split("."),b=_[_.length-1],x=r.apply(null,_);if(x){var w=x.prototype;if(!g&&i(w,"cause")&&delete w.cause,!t)return x;var k=r("Error"),j=e((function(n,e){var t=p(y?e:n,void 0),r=y?new x(n):new x;return void 0!==t&&o(r,"message",t),f&&o(r,"stack",h(r.stack,2)),this&&a(w,this)&&u(r,this,j),arguments.length>v&&d(r,arguments[v]),r}));if(j.prototype=w,"Error"!==b?s?s(j,k):l(j,k,{name:!0}):m&&"stackTraceLimit"in x&&(c(j,x,"stackTraceLimit"),c(j,x,"prepareStackTrace")),l(j,x),!g)try{w.name!==b&&o(w,"name",b),w.constructor=j}catch(n){}return j}}},function(n,e,t){var r=t(0),i=String,o=TypeError;n.exports=function(n){if("object"==typeof n||r(n))return n;throw o("Can't set "+i(n)+" as a prototype")}},function(n,e,t){var r=t(13).f;n.exports=function(n,e,t){t in n||r(n,t,{configurable:!0,get:function(){return e[t]},set:function(n){e[t]=n}})}},function(n,e,t){var r=t(0),i=t(9),o=t(68);n.exports=function(n,e,t){var a,s;return o&&r(a=e.constructor)&&a!==t&&i(s=a.prototype)&&s!==t.prototype&&o(n,s),n}},function(n,e,t){var r=t(141);n.exports=function(n,e){return void 0===n?arguments.length<2?"":e:r(n)}},function(n,e,t){var r=t(142),i=String;n.exports=function(n){if("Symbol"===r(n))throw TypeError("Cannot convert a Symbol value to a string");return i(n)}},function(n,e,t){var r=t(143),i=t(0),o=t(20),a=t(19)("toStringTag"),s=Object,l="Arguments"==o(function(){return arguments}());n.exports=r?o:function(n){var e,t,r;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(n,e){try{return n[e]}catch(n){}}(e=s(n),a))?t:l?o(e):"Object"==(r=o(e))&&i(e.callee)?"Arguments":r}},function(n,e,t){var r={};r[t(19)("toStringTag")]="z",n.exports="[object z]"===String(r)},function(n,e,t){var r=t(9),i=t(21);n.exports=function(n,e){r(e)&&"cause"in e&&i(n,"cause",e.cause)}},function(n,e,t){var r=t(3),i=Error,o=r("".replace),a=String(i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(a);n.exports=function(n,e){if(l&&"string"==typeof n&&!i.prepareStackTrace)for(;e--;)n=o(n,s,"");return n}},function(n,e,t){var r=t(4),i=t(35);n.exports=!r((function(){var n=Error("a");return!("stack"in n)||(Object.defineProperty(n,"stack",i(1,7)),7!==n.stack)}))},function(n,e,t){var r=t(69),i=t(148);n.exports=function n(e,t,o,a,s){var l=-1,c=e.length;for(o||(o=i),s||(s=[]);++l<c;){var u=e[l];t>0&&o(u)?t>1?n(u,t-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},function(n,e,t){var r=t(15),i=t(38),o=t(6),a=r?r.isConcatSpreadable:void 0;n.exports=function(n){return o(n)||i(n)||!!(a&&n&&n[a])}},function(n,e,t){var r=t(14),i=t(12);n.exports=function(n){return i(n)&&"[object Arguments]"==r(n)}},function(n,e,t){var r=t(15),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;n.exports=function(n){var e=o.call(n,s),t=n[s];try{n[s]=void 0;var r=!0}catch(n){}var i=a.call(n);return r&&(e?n[s]=t:delete n[s]),i}},function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},function(n,e,t){var r=t(153),i=t(209),o=t(46),a=t(6),s=t(220);n.exports=function(n){return"function"==typeof n?n:null==n?o:"object"==typeof n?a(n)?i(n[0],n[1]):r(n):s(n)}},function(n,e,t){var r=t(154),i=t(208),o=t(86);n.exports=function(n){var e=i(n);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(t){return t===n||r(t,n,e)}}},function(n,e,t){var r=t(71),i=t(75);n.exports=function(n,e,t,o){var a=t.length,s=a,l=!o;if(null==n)return!s;for(n=Object(n);a--;){var c=t[a];if(l&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++a<s;){var u=(c=t[a])[0],p=n[u],d=c[1];if(l&&c[2]){if(void 0===p&&!(u in n))return!1}else{var h=new r;if(o)var f=o(p,d,u,n,e,h);if(!(void 0===f?i(d,p,3,o,h):f))return!1}}return!0}},function(n,e){n.exports=function(){this.__data__=[],this.size=0}},function(n,e,t){var r=t(23),i=Array.prototype.splice;n.exports=function(n){var e=this.__data__,t=r(e,n);return!(t<0)&&(t==e.length-1?e.pop():i.call(e,t,1),--this.size,!0)}},function(n,e,t){var r=t(23);n.exports=function(n){var e=this.__data__,t=r(e,n);return t<0?void 0:e[t][1]}},function(n,e,t){var r=t(23);n.exports=function(n){return r(this.__data__,n)>-1}},function(n,e,t){var r=t(23);n.exports=function(n,e){var t=this.__data__,i=r(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}},function(n,e,t){var r=t(22);n.exports=function(){this.__data__=new r,this.size=0}},function(n,e){n.exports=function(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}},function(n,e){n.exports=function(n){return this.__data__.get(n)}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e,t){var r=t(22),i=t(39),o=t(41);n.exports=function(n,e){var t=this.__data__;if(t instanceof r){var a=t.__data__;if(!i||a.length<199)return a.push([n,e]),this.size=++t.size,this;t=this.__data__=new o(a)}return t.set(n,e),this.size=t.size,this}},function(n,e,t){var r=t(73),i=t(166),o=t(40),a=t(74),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,p=c.hasOwnProperty,d=RegExp("^"+u.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!o(n)||i(n))&&(r(n)?d:s).test(a(n))}},function(n,e,t){var r,i=t(167),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";n.exports=function(n){return!!o&&o in n}},function(n,e,t){var r=t(8)["__core-js_shared__"];n.exports=r},function(n,e){n.exports=function(n,e){return null==n?void 0:n[e]}},function(n,e,t){var r=t(170),i=t(22),o=t(39);n.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(n,e,t){var r=t(171),i=t(172),o=t(173),a=t(174),s=t(175);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,n.exports=l},function(n,e,t){var r=t(24);n.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(n,e){n.exports=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}},function(n,e,t){var r=t(24),i=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;if(r){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return i.call(e,n)?e[n]:void 0}},function(n,e,t){var r=t(24),i=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;return r?void 0!==e[n]:i.call(e,n)}},function(n,e,t){var r=t(24);n.exports=function(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(n,e,t){var r=t(25);n.exports=function(n){var e=r(this,n).delete(n);return this.size-=e?1:0,e}},function(n,e){n.exports=function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}},function(n,e,t){var r=t(25);n.exports=function(n){return r(this,n).get(n)}},function(n,e,t){var r=t(25);n.exports=function(n){return r(this,n).has(n)}},function(n,e,t){var r=t(25);n.exports=function(n,e){var t=r(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}},function(n,e,t){var r=t(71),i=t(76),o=t(185),a=t(188),s=t(204),l=t(6),c=t(80),u=t(82),p="[object Object]",d=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,h,f,m){var g=l(n),y=l(e),v=g?"[object Array]":s(n),_=y?"[object Array]":s(e),b=(v="[object Arguments]"==v?p:v)==p,x=(_="[object Arguments]"==_?p:_)==p,w=v==_;if(w&&c(n)){if(!c(e))return!1;g=!0,b=!1}if(w&&!b)return m||(m=new r),g||u(n)?i(n,e,t,h,f,m):o(n,e,v,t,h,f,m);if(!(1&t)){var k=b&&d.call(n,"__wrapped__"),j=x&&d.call(e,"__wrapped__");if(k||j){var P=k?n.value():n,T=j?e.value():e;return m||(m=new r),f(P,T,t,h,m)}}return!!w&&(m||(m=new r),a(n,e,t,h,f,m))}},function(n,e){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}},function(n,e,t){var r=t(15),i=t(186),o=t(72),a=t(76),s=t(187),l=t(42),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;n.exports=function(n,e,t,r,c,p,d){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!p(new i(n),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var h=s;case"[object Set]":var f=1&r;if(h||(h=l),n.size!=e.size&&!f)return!1;var m=d.get(n);if(m)return m==e;r|=2,d.set(n,e);var g=a(h(n),h(e),r,c,p,d);return d.delete(n),g;case"[object Symbol]":if(u)return u.call(n)==u.call(e)}return!1}},function(n,e,t){var r=t(8).Uint8Array;n.exports=r},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n,r){t[++e]=[r,n]})),t}},function(n,e,t){var r=t(189),i=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,o,a,s){var l=1&t,c=r(n),u=c.length;if(u!=r(e).length&&!l)return!1;for(var p=u;p--;){var d=c[p];if(!(l?d in e:i.call(e,d)))return!1}var h=s.get(n),f=s.get(e);if(h&&f)return h==e&&f==n;var m=!0;s.set(n,e),s.set(e,n);for(var g=l;++p<u;){var y=n[d=c[p]],v=e[d];if(o)var _=l?o(v,y,d,e,n,s):o(y,v,d,n,e,s);if(!(void 0===_?y===v||a(y,v,t,o,s):_)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var b=n.constructor,x=e.constructor;b==x||!("constructor"in n)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(n),s.delete(e),m}},function(n,e,t){var r=t(190),i=t(191),o=t(79);n.exports=function(n){return r(n,o,i)}},function(n,e,t){var r=t(69),i=t(6);n.exports=function(n,e,t){var o=e(n);return i(n)?o:r(o,t(n))}},function(n,e,t){var r=t(192),i=t(193),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(n){return null==n?[]:(n=Object(n),r(a(n),(function(e){return o.call(n,e)})))}:i;n.exports=s},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,i=0,o=[];++t<r;){var a=n[t];e(a,t,n)&&(o[i++]=a)}return o}},function(n,e){n.exports=function(){return[]}},function(n,e,t){var r=t(195),i=t(38),o=t(6),a=t(80),s=t(81),l=t(82),c=Object.prototype.hasOwnProperty;n.exports=function(n,e){var t=o(n),u=!t&&i(n),p=!t&&!u&&a(n),d=!t&&!u&&!p&&l(n),h=t||u||p||d,f=h?r(n.length,String):[],m=f.length;for(var g in n)!e&&!c.call(n,g)||h&&("length"==g||p&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},function(n,e){n.exports=function(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}},function(n,e){n.exports=function(){return!1}},function(n,e,t){var r=t(14),i=t(43),o=t(12),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,n.exports=function(n){return o(n)&&i(n.length)&&!!a[r(n)]}},function(n,e){n.exports=function(n){return function(e){return n(e)}}},function(n,e,t){(function(n){var r=t(70),i=e&&!e.nodeType&&e,o=i&&"object"==typeof n&&n&&!n.nodeType&&n,a=o&&o.exports===i&&r.process,s=function(){try{var n=o&&o.require&&o.require("util").types;return n||a&&a.binding&&a.binding("util")}catch(n){}}();n.exports=s}).call(this,t(51)(n))},function(n,e,t){var r=t(201),i=t(202),o=Object.prototype.hasOwnProperty;n.exports=function(n){if(!r(n))return i(n);var e=[];for(var t in Object(n))o.call(n,t)&&"constructor"!=t&&e.push(t);return e}},function(n,e){var t=Object.prototype;n.exports=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||t)}},function(n,e,t){var r=t(203)(Object.keys,Object);n.exports=r},function(n,e){n.exports=function(n,e){return function(t){return n(e(t))}}},function(n,e,t){var r=t(205),i=t(39),o=t(206),a=t(84),s=t(207),l=t(14),c=t(74),u=c(r),p=c(i),d=c(o),h=c(a),f=c(s),m=l;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(n){var e=l(n),t="[object Object]"==e?n.constructor:void 0,r=t?c(t):"";if(r)switch(r){case u:return"[object DataView]";case p:return"[object Map]";case d:return"[object Promise]";case h:return"[object Set]";case f:return"[object WeakMap]"}return e}),n.exports=m},function(n,e,t){var r=t(10)(t(8),"DataView");n.exports=r},function(n,e,t){var r=t(10)(t(8),"Promise");n.exports=r},function(n,e,t){var r=t(10)(t(8),"WeakMap");n.exports=r},function(n,e,t){var r=t(85),i=t(79);n.exports=function(n){for(var e=i(n),t=e.length;t--;){var o=e[t],a=n[o];e[t]=[o,a,r(a)]}return e}},function(n,e,t){var r=t(75),i=t(210),o=t(217),a=t(44),s=t(85),l=t(86),c=t(26);n.exports=function(n,e){return a(n)&&s(e)?l(c(n),e):function(t){var a=i(t,n);return void 0===a&&a===e?o(t,n):r(e,a,3)}}},function(n,e,t){var r=t(87);n.exports=function(n,e,t){var i=null==n?void 0:r(n,e);return void 0===i?t:i}},function(n,e,t){var r=t(212),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(i,(function(n,t,r,i){e.push(r?i.replace(o,"$1"):t||n)})),e}));n.exports=a},function(n,e,t){var r=t(213);n.exports=function(n){var e=r(n,(function(n){return 500===t.size&&t.clear(),n})),t=e.cache;return e}},function(n,e,t){var r=t(41);function i(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var a=n.apply(this,r);return t.cache=o.set(i,a)||o,a};return t.cache=new(i.Cache||r),t}i.Cache=r,n.exports=i},function(n,e,t){var r=t(215);n.exports=function(n){return null==n?"":r(n)}},function(n,e,t){var r=t(15),i=t(216),o=t(6),a=t(45),s=r?r.prototype:void 0,l=s?s.toString:void 0;n.exports=function n(e){if("string"==typeof e)return e;if(o(e))return i(e,n)+"";if(a(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}},function(n,e,t){var r=t(218),i=t(219);n.exports=function(n,e){return null!=n&&i(n,e,r)}},function(n,e){n.exports=function(n,e){return null!=n&&e in Object(n)}},function(n,e,t){var r=t(88),i=t(38),o=t(6),a=t(81),s=t(43),l=t(26);n.exports=function(n,e,t){for(var c=-1,u=(e=r(e,n)).length,p=!1;++c<u;){var d=l(e[c]);if(!(p=null!=n&&t(n,d)))break;n=n[d]}return p||++c!=u?p:!!(u=null==n?0:n.length)&&s(u)&&a(d,u)&&(o(n)||i(n))}},function(n,e,t){var r=t(221),i=t(222),o=t(44),a=t(26);n.exports=function(n){return o(n)?r(a(n)):i(n)}},function(n,e){n.exports=function(n){return function(e){return null==e?void 0:e[n]}}},function(n,e,t){var r=t(87);n.exports=function(n){return function(e){return r(e,n)}}},function(n,e,t){var r=t(46),i=t(224),o=t(226);n.exports=function(n,e){return o(i(n,e,r),n+"")}},function(n,e,t){var r=t(225),i=Math.max;n.exports=function(n,e,t){return e=i(void 0===e?n.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),l=Array(s);++a<s;)l[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=t(l),r(n,this,c)}}},function(n,e){n.exports=function(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}},function(n,e,t){var r=t(227),i=t(230)(r);n.exports=i},function(n,e,t){var r=t(228),i=t(229),o=t(46),a=i?function(n,e){return i(n,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;n.exports=a},function(n,e){n.exports=function(n){return function(){return n}}},function(n,e,t){var r=t(10),i=function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=i},function(n,e){var t=Date.now;n.exports=function(n){var e=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}},function(n,e,t){var r=t(77),i=t(232),o=t(237),a=t(78),s=t(238),l=t(42);n.exports=function(n,e,t){var c=-1,u=i,p=n.length,d=!0,h=[],f=h;if(t)d=!1,u=o;else if(p>=200){var m=e?null:s(n);if(m)return l(m);d=!1,u=a,f=new r}else f=e?[]:h;n:for(;++c<p;){var g=n[c],y=e?e(g):g;if(g=t||0!==g?g:0,d&&y==y){for(var v=f.length;v--;)if(f[v]===y)continue n;e&&f.push(y),h.push(g)}else u(f,y,t)||(f!==h&&f.push(y),h.push(g))}return h}},function(n,e,t){var r=t(233);n.exports=function(n,e){return!!(null==n?0:n.length)&&r(n,e,0)>-1}},function(n,e,t){var r=t(234),i=t(235),o=t(236);n.exports=function(n,e,t){return e==e?o(n,e,t):r(n,i,t)}},function(n,e){n.exports=function(n,e,t,r){for(var i=n.length,o=t+(r?1:-1);r?o--:++o<i;)if(e(n[o],o,n))return o;return-1}},function(n,e){n.exports=function(n){return n!=n}},function(n,e){n.exports=function(n,e,t){for(var r=t-1,i=n.length;++r<i;)if(n[r]===e)return r;return-1}},function(n,e){n.exports=function(n,e,t){for(var r=-1,i=null==n?0:n.length;++r<i;)if(t(e,n[r]))return!0;return!1}},function(n,e,t){var r=t(84),i=t(239),o=t(42),a=r&&1/o(new r([,-0]))[1]==1/0?function(n){return new r(n)}:i;n.exports=a},function(n,e){n.exports=function(){}},function(n,e,t){var r=t(83),i=t(12);n.exports=function(n){return i(n)&&r(n)}},function(n,e,t){},function(n,e,t){},function(n,e){var t,r,i,o,a,s,l,c=!1,u=[];"undefined"!=typeof document&&(o=function(n){return c||"interactive"===document.readyState||"complete"===document.readyState?n.call(document):u.push((function(){return n.call(this)})),this},s=function(){for(var n=0,e=u.length;n<e;n++)u[n].apply(document);u=[]},l=function(){c||(c=!0,s.call(window),document.removeEventListener?document.removeEventListener("DOMContentLoaded",l,!1):document.attachEvent&&(document.detachEvent("onreadystatechange",l),window==window.top&&(clearInterval(a),a=null)))},document.addEventListener?document.addEventListener("DOMContentLoaded",l,!1):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){/loaded|complete/.test(document.readyState)&&l()})),window==window.top&&(a=setInterval((function(){try{c||document.documentElement.doScroll("left")}catch(n){return}l()}),5)))),t={fetch:function(n,e){var t="BusuanziCallback_"+Math.floor(1099511627776*Math.random());n=n.replace("=BusuanziCallback","="+t),(i=document.createElement("SCRIPT")).type="text/javascript",i.defer=!0,i.src=n,document.getElementsByTagName("HEAD")[0].appendChild(i),window[t]=this.evalCall(e)},evalCall:function(n){return function(e){o((function(){try{n(e),i&&i.parentElement&&i.parentElement.removeChild&&i.parentElement.removeChild(i)}catch(n){console.log(n),r.hides()}}))}}};const p=()=>{r&&r.hides(),t.fetch("//busuanzi.ibruce.info/busuanzi?jsonpCallback=BusuanziCallback",(function(n){r.texts(n),r.shows()}))};r={bszs:["site_pv","page_pv","site_uv"],texts:function(n){this.bszs.map((function(e){var t=document.getElementById("busuanzi_value_"+e);t&&(t.innerHTML=n[e])}))},hides:function(){this.bszs.map((function(n){var e=document.getElementById("busuanzi_container_"+n);e&&(e.style.display="none")}))},shows:function(){this.bszs.map((function(n){var e=document.getElementById("busuanzi_container_"+n);e&&(e.style.display="inline")}))}},"undefined"!=typeof document&&p(),n.exports={fetch:p}},function(n,e,t){"use strict";t(89)},function(n,e,t){"use strict";t(90)},function(n,e,t){"use strict";t(91)},function(n,e,t){},function(n,e,t){},function(n,e,t){var r=t(17),i=t(2),o=t(250);r({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},function(n,e,t){var r=t(13).f,i=t(7),o=t(19)("toStringTag");n.exports=function(n,e,t){n&&!t&&(n=n.prototype),n&&!i(n,o)&&r(n,o,{configurable:!0,value:e})}},function(n,e){},function(n,e){function t(n,e){for(var t=0,r=n.length-1;r>=0;r--){var i=n[r];"."===i?n.splice(r,1):".."===i?(n.splice(r,1),t++):t&&(n.splice(r,1),t--)}if(e)for(;t--;t)n.unshift("..");return n}function r(n,e){if(n.filter)return n.filter(e);for(var t=[],r=0;r<n.length;r++)e(n[r],r,n)&&t.push(n[r]);return t}e.resolve=function(){for(var n="",e=!1,i=arguments.length-1;i>=-1&&!e;i--){var o=i>=0?arguments[i]:process.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(n=o+"/"+n,e="/"===o.charAt(0))}return(e?"/":"")+(n=t(r(n.split("/"),(function(n){return!!n})),!e).join("/"))||"."},e.normalize=function(n){var o=e.isAbsolute(n),a="/"===i(n,-1);return(n=t(r(n.split("/"),(function(n){return!!n})),!o).join("/"))||o||(n="."),n&&a&&(n+="/"),(o?"/":"")+n},e.isAbsolute=function(n){return"/"===n.charAt(0)},e.join=function(){var n=Array.prototype.slice.call(arguments,0);return e.normalize(r(n,(function(n,e){if("string"!=typeof n)throw new TypeError("Arguments to path.join must be strings");return n})).join("/"))},e.relative=function(n,t){function r(n){for(var e=0;e<n.length&&""===n[e];e++);for(var t=n.length-1;t>=0&&""===n[t];t--);return e>t?[]:n.slice(e,t-e+1)}n=e.resolve(n).substr(1),t=e.resolve(t).substr(1);for(var i=r(n.split("/")),o=r(t.split("/")),a=Math.min(i.length,o.length),s=a,l=0;l<a;l++)if(i[l]!==o[l]){s=l;break}var c=[];for(l=s;l<i.length;l++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(n){if("string"!=typeof n&&(n+=""),0===n.length)return".";for(var e=n.charCodeAt(0),t=47===e,r=-1,i=!0,o=n.length-1;o>=1;--o)if(47===(e=n.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?t?"/":".":t&&1===r?"/":n.slice(0,r)},e.basename=function(n,e){var t=function(n){"string"!=typeof n&&(n+="");var e,t=0,r=-1,i=!0;for(e=n.length-1;e>=0;--e)if(47===n.charCodeAt(e)){if(!i){t=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":n.slice(t,r)}(n);return e&&t.substr(-1*e.length)===e&&(t=t.substr(0,t.length-e.length)),t},e.extname=function(n){"string"!=typeof n&&(n+="");for(var e=-1,t=0,r=-1,i=!0,o=0,a=n.length-1;a>=0;--a){var s=n.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){t=a+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===t+1?"":n.slice(e,r)};var i="b"==="ab".substr(-1)?function(n,e,t){return n.substr(e,t)}:function(n,e,t){return e<0&&(e=n.length+e),n.substr(e,t)}},function(n,e,t){"use strict";var r=/[|\\{}()[\]^$+*?.]/g;e.escapeRegExpChars=function(n){return n?String(n).replace(r,"\\$&"):""};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},o=/[&<>'"]/g;function a(n){return i[n]||n}e.escapeXML=function(n){return null==n?"":String(n).replace(o,a)},e.escapeXML.toString=function(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'},e.shallowCopy=function(n,e){for(var t in e=e||{})n[t]=e[t];return n},e.shallowCopyFromList=function(n,e,t){for(var r=0;r<t.length;r++){var i=t[r];void 0!==e[i]&&(n[i]=e[i])}return n},e.cache={_data:{},set:function(n,e){this._data[n]=e},get:function(n){return this._data[n]},remove:function(n){delete this._data[n]},reset:function(){this._data={}}}},function(n){n.exports=JSON.parse('{"_from":"ejs@^2.6.1","_id":"ejs@2.7.4","_inBundle":false,"_integrity":"sha512-7vmuyh5+kuUyJKePhQfRQBhXV5Ce+RnaeeQArKu1EAMpL3WbgMt5WG6uQZpEVvYSSsxMXRKOewtDk9RaTKXRlA==","_location":"/ejs","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"ejs@^2.6.1","name":"ejs","escapedName":"ejs","rawSpec":"^2.6.1","saveSpec":null,"fetchSpec":"^2.6.1"},"_requiredBy":["/vuepress-plugin-comment"],"_resolved":"https://registry.npmjs.org/ejs/-/ejs-2.7.4.tgz","_shasum":"48661287573dcc53e366c7a1ae52c3a120eec9ba","_spec":"ejs@^2.6.1","_where":"/home/runner/work/fancy-machine-learnning/fancy-machine-learnning/node_modules/vuepress-plugin-comment","author":{"name":"Matthew Eernisse","email":"mde@fleegix.org","url":"http://fleegix.org"},"bugs":{"url":"https://github.com/mde/ejs/issues"},"bundleDependencies":false,"dependencies":{},"deprecated":false,"description":"Embedded JavaScript templates","devDependencies":{"browserify":"^13.1.1","eslint":"^4.14.0","git-directory-deploy":"^1.5.1","jake":"^10.3.1","jsdoc":"^3.4.0","lru-cache":"^4.0.1","mocha":"^5.0.5","uglify-js":"^3.3.16"},"engines":{"node":">=0.10.0"},"homepage":"https://github.com/mde/ejs","keywords":["template","engine","ejs"],"license":"Apache-2.0","main":"./lib/ejs.js","name":"ejs","repository":{"type":"git","url":"git://github.com/mde/ejs.git"},"scripts":{"postinstall":"node ./postinstall.js","test":"mocha"},"version":"2.7.4"}')},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(92)},function(n,e,t){"use strict";t(93)},function(n,e,t){"use strict";t.r(e);
/*!
 * Vue.js v2.7.10
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({}),i=Array.isArray;function o(n){return null==n}function a(n){return null!=n}function s(n){return!0===n}function l(n){return"string"==typeof n||"number"==typeof n||"symbol"==typeof n||"boolean"==typeof n}function c(n){return"function"==typeof n}function u(n){return null!==n&&"object"==typeof n}var p=Object.prototype.toString;function d(n){return"[object Object]"===p.call(n)}function h(n){return"[object RegExp]"===p.call(n)}function f(n){var e=parseFloat(String(n));return e>=0&&Math.floor(e)===e&&isFinite(n)}function m(n){return a(n)&&"function"==typeof n.then&&"function"==typeof n.catch}function g(n){return null==n?"":Array.isArray(n)||d(n)&&n.toString===p?JSON.stringify(n,null,2):String(n)}function y(n){var e=parseFloat(n);return isNaN(e)?n:e}function v(n,e){for(var t=Object.create(null),r=n.split(","),i=0;i<r.length;i++)t[r[i]]=!0;return e?function(n){return t[n.toLowerCase()]}:function(n){return t[n]}}v("slot,component",!0);var _=v("key,ref,slot,slot-scope,is");function b(n,e){if(n.length){var t=n.indexOf(e);if(t>-1)return n.splice(t,1)}}var x=Object.prototype.hasOwnProperty;function w(n,e){return x.call(n,e)}function k(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var j=/-(\w)/g,P=k((function(n){return n.replace(j,(function(n,e){return e?e.toUpperCase():""}))})),T=k((function(n){return n.charAt(0).toUpperCase()+n.slice(1)})),A=/\B([A-Z])/g,C=k((function(n){return n.replace(A,"-$1").toLowerCase()}));var E=Function.prototype.bind?function(n,e){return n.bind(e)}:function(n,e){function t(t){var r=arguments.length;return r?r>1?n.apply(e,arguments):n.call(e,t):n.call(e)}return t._length=n.length,t};function O(n,e){e=e||0;for(var t=n.length-e,r=new Array(t);t--;)r[t]=n[t+e];return r}function I(n,e){for(var t in e)n[t]=e[t];return n}function S(n){for(var e={},t=0;t<n.length;t++)n[t]&&I(e,n[t]);return e}function $(n,e,t){}var z=function(n,e,t){return!1},L=function(n){return n};function B(n,e){if(n===e)return!0;var t=u(n),r=u(e);if(!t||!r)return!t&&!r&&String(n)===String(e);try{var i=Array.isArray(n),o=Array.isArray(e);if(i&&o)return n.length===e.length&&n.every((function(n,t){return B(n,e[t])}));if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();if(i||o)return!1;var a=Object.keys(n),s=Object.keys(e);return a.length===s.length&&a.every((function(t){return B(n[t],e[t])}))}catch(n){return!1}}function M(n,e){for(var t=0;t<n.length;t++)if(B(n[t],e))return t;return-1}function R(n){var e=!1;return function(){e||(e=!0,n.apply(this,arguments))}}function D(n,e){return n===e?0===n&&1/n!=1/e:n==n||e==e}var q=["component","directive","filter"],F=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],N={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:z,isReservedAttr:z,isUnknownElement:z,getTagNamespace:$,parsePlatformTagName:L,mustUseProp:z,async:!0,_lifecycleHooks:F},U=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function X(n){var e=(n+"").charCodeAt(0);return 36===e||95===e}function J(n,e,t,r){Object.defineProperty(n,e,{value:t,enumerable:!!r,writable:!0,configurable:!0})}var V=new RegExp("[^".concat(U.source,".$_\\d]"));var H="__proto__"in{},G="undefined"!=typeof window,W=G&&window.navigator.userAgent.toLowerCase(),K=W&&/msie|trident/.test(W),Z=W&&W.indexOf("msie 9.0")>0,Y=W&&W.indexOf("edge/")>0;W&&W.indexOf("android");var Q=W&&/iphone|ipad|ipod|ios/.test(W);W&&/chrome\/\d+/.test(W),W&&/phantomjs/.test(W);var nn,en=W&&W.match(/firefox\/(\d+)/),tn={}.watch,rn=!1;if(G)try{var on={};Object.defineProperty(on,"passive",{get:function(){rn=!0}}),window.addEventListener("test-passive",null,on)}catch(n){}var an=function(){return void 0===nn&&(nn=!G&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),nn},sn=G&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ln(n){return"function"==typeof n&&/native code/.test(n.toString())}var cn,un="undefined"!=typeof Symbol&&ln(Symbol)&&"undefined"!=typeof Reflect&&ln(Reflect.ownKeys);cn="undefined"!=typeof Set&&ln(Set)?Set:function(){function n(){this.set=Object.create(null)}return n.prototype.has=function(n){return!0===this.set[n]},n.prototype.add=function(n){this.set[n]=!0},n.prototype.clear=function(){this.set=Object.create(null)},n}();var pn=null;function dn(n){void 0===n&&(n=null),n||pn&&pn._scope.off(),pn=n,n&&n._scope.on()}var hn=function(){function n(n,e,t,r,i,o,a,s){this.tag=n,this.data=e,this.children=t,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(n.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),n}(),fn=function(n){void 0===n&&(n="");var e=new hn;return e.text=n,e.isComment=!0,e};function mn(n){return new hn(void 0,void 0,void 0,String(n))}function gn(n){var e=new hn(n.tag,n.data,n.children&&n.children.slice(),n.text,n.elm,n.context,n.componentOptions,n.asyncFactory);return e.ns=n.ns,e.isStatic=n.isStatic,e.key=n.key,e.isComment=n.isComment,e.fnContext=n.fnContext,e.fnOptions=n.fnOptions,e.fnScopeId=n.fnScopeId,e.asyncMeta=n.asyncMeta,e.isCloned=!0,e}var yn=0,vn=function(){function n(){this.id=yn++,this.subs=[]}return n.prototype.addSub=function(n){this.subs.push(n)},n.prototype.removeSub=function(n){b(this.subs,n)},n.prototype.depend=function(e){n.target&&n.target.addDep(this)},n.prototype.notify=function(n){var e=this.subs.slice();for(var t=0,r=e.length;t<r;t++){e[t].update()}},n}();vn.target=null;var _n=[];function bn(n){_n.push(n),vn.target=n}function xn(){_n.pop(),vn.target=_n[_n.length-1]}var wn=Array.prototype,kn=Object.create(wn);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(n){var e=wn[n];J(kn,n,(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i,o=e.apply(this,t),a=this.__ob__;switch(n){case"push":case"unshift":i=t;break;case"splice":i=t.slice(2)}return i&&a.observeArray(i),a.dep.notify(),o}))}));var jn=Object.getOwnPropertyNames(kn),Pn={},Tn=!0;function An(n){Tn=n}var Cn={notify:$,depend:$,addSub:$,removeSub:$},En=function(){function n(n,e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),this.value=n,this.shallow=e,this.mock=t,this.dep=t?Cn:new vn,this.vmCount=0,J(n,"__ob__",this),i(n)){if(!t)if(H)n.__proto__=kn;else for(var r=0,o=jn.length;r<o;r++){J(n,s=jn[r],kn[s])}e||this.observeArray(n)}else{var a=Object.keys(n);for(r=0;r<a.length;r++){var s;In(n,s=a[r],Pn,void 0,e,t)}}}return n.prototype.observeArray=function(n){for(var e=0,t=n.length;e<t;e++)On(n[e],!1,this.mock)},n}();function On(n,e,t){var r;if(!(!u(n)||Rn(n)||n instanceof hn))return w(n,"__ob__")&&n.__ob__ instanceof En?r=n.__ob__:!Tn||!t&&an()||!i(n)&&!d(n)||!Object.isExtensible(n)||n.__v_skip||(r=new En(n,e,t)),r}function In(n,e,t,r,o,a){var s=new vn,l=Object.getOwnPropertyDescriptor(n,e);if(!l||!1!==l.configurable){var c=l&&l.get,u=l&&l.set;c&&!u||t!==Pn&&2!==arguments.length||(t=n[e]);var p=!o&&On(t,!1,a);return Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){var e=c?c.call(n):t;return vn.target&&(s.depend(),p&&(p.dep.depend(),i(e)&&zn(e))),Rn(e)&&!o?e.value:e},set:function(e){var r=c?c.call(n):t;if(D(r,e)){if(u)u.call(n,e);else{if(c)return;if(!o&&Rn(r)&&!Rn(e))return void(r.value=e);t=e}p=!o&&On(e,!1,a),s.notify()}}}),s}}function Sn(n,e,t){if(!Mn(n)){var r=n.__ob__;return i(n)&&f(e)?(n.length=Math.max(n.length,e),n.splice(e,1,t),r&&!r.shallow&&r.mock&&On(t,!1,!0),t):e in n&&!(e in Object.prototype)?(n[e]=t,t):n._isVue||r&&r.vmCount?t:r?(In(r.value,e,t,void 0,r.shallow,r.mock),r.dep.notify(),t):(n[e]=t,t)}}function $n(n,e){if(i(n)&&f(e))n.splice(e,1);else{var t=n.__ob__;n._isVue||t&&t.vmCount||Mn(n)||w(n,e)&&(delete n[e],t&&t.dep.notify())}}function zn(n){for(var e=void 0,t=0,r=n.length;t<r;t++)(e=n[t])&&e.__ob__&&e.__ob__.dep.depend(),i(e)&&zn(e)}function Ln(n){return Bn(n,!0),J(n,"__v_isShallow",!0),n}function Bn(n,e){if(!Mn(n)){On(n,e,an());0}}function Mn(n){return!(!n||!n.__v_isReadonly)}function Rn(n){return!(!n||!0!==n.__v_isRef)}function Dn(n,e,t){Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){var n=e[t];if(Rn(n))return n.value;var r=n&&n.__ob__;return r&&r.dep.depend(),n},set:function(n){var r=e[t];Rn(r)&&!Rn(n)?r.value=n:e[t]=n}})}"".concat("watcher"," callback"),"".concat("watcher"," getter"),"".concat("watcher"," cleanup");var qn;var Fn=function(){function n(n){void 0===n&&(n=!1),this.active=!0,this.effects=[],this.cleanups=[],!n&&qn&&(this.parent=qn,this.index=(qn.scopes||(qn.scopes=[])).push(this)-1)}return n.prototype.run=function(n){if(this.active){var e=qn;try{return qn=this,n()}finally{qn=e}}else 0},n.prototype.on=function(){qn=this},n.prototype.off=function(){qn=this.parent},n.prototype.stop=function(n){if(this.active){var e=void 0,t=void 0;for(e=0,t=this.effects.length;e<t;e++)this.effects[e].teardown();for(e=0,t=this.cleanups.length;e<t;e++)this.cleanups[e]();if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].stop(!0);if(this.parent&&!n){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}},n}();function Nn(n){var e=n._provided,t=n.$parent&&n.$parent._provided;return t===e?n._provided=Object.create(t):e}var Un=k((function(n){var e="&"===n.charAt(0),t="~"===(n=e?n.slice(1):n).charAt(0),r="!"===(n=t?n.slice(1):n).charAt(0);return{name:n=r?n.slice(1):n,once:t,capture:r,passive:e}}));function Xn(n,e){function t(){var n=t.fns;if(!i(n))return Te(n,null,arguments,e,"v-on handler");for(var r=n.slice(),o=0;o<r.length;o++)Te(r[o],null,arguments,e,"v-on handler")}return t.fns=n,t}function Jn(n,e,t,r,i,a){var l,c,u,p;for(l in n)c=n[l],u=e[l],p=Un(l),o(c)||(o(u)?(o(c.fns)&&(c=n[l]=Xn(c,a)),s(p.once)&&(c=n[l]=i(p.name,c,p.capture)),t(p.name,c,p.capture,p.passive,p.params)):c!==u&&(u.fns=c,n[l]=u));for(l in e)o(n[l])&&r((p=Un(l)).name,e[l],p.capture)}function Vn(n,e,t){var r;n instanceof hn&&(n=n.data.hook||(n.data.hook={}));var i=n[e];function l(){t.apply(this,arguments),b(r.fns,l)}o(i)?r=Xn([l]):a(i.fns)&&s(i.merged)?(r=i).fns.push(l):r=Xn([i,l]),r.merged=!0,n[e]=r}function Hn(n,e,t,r,i){if(a(e)){if(w(e,t))return n[t]=e[t],i||delete e[t],!0;if(w(e,r))return n[t]=e[r],i||delete e[r],!0}return!1}function Gn(n){return l(n)?[mn(n)]:i(n)?function n(e,t){var r,c,u,p,d=[];for(r=0;r<e.length;r++)o(c=e[r])||"boolean"==typeof c||(u=d.length-1,p=d[u],i(c)?c.length>0&&(Wn((c=n(c,"".concat(t||"","_").concat(r)))[0])&&Wn(p)&&(d[u]=mn(p.text+c[0].text),c.shift()),d.push.apply(d,c)):l(c)?Wn(p)?d[u]=mn(p.text+c):""!==c&&d.push(mn(c)):Wn(c)&&Wn(p)?d[u]=mn(p.text+c.text):(s(e._isVList)&&a(c.tag)&&o(c.key)&&a(t)&&(c.key="__vlist".concat(t,"_").concat(r,"__")),d.push(c)));return d}(n):void 0}function Wn(n){return a(n)&&a(n.text)&&!1===n.isComment}function Kn(n,e){var t,r,o,s,l=null;if(i(n)||"string"==typeof n)for(l=new Array(n.length),t=0,r=n.length;t<r;t++)l[t]=e(n[t],t);else if("number"==typeof n)for(l=new Array(n),t=0;t<n;t++)l[t]=e(t+1,t);else if(u(n))if(un&&n[Symbol.iterator]){l=[];for(var c=n[Symbol.iterator](),p=c.next();!p.done;)l.push(e(p.value,l.length)),p=c.next()}else for(o=Object.keys(n),l=new Array(o.length),t=0,r=o.length;t<r;t++)s=o[t],l[t]=e(n[s],s,t);return a(l)||(l=[]),l._isVList=!0,l}function Zn(n,e,t,r){var i,o=this.$scopedSlots[n];o?(t=t||{},r&&(t=I(I({},r),t)),i=o(t)||(c(e)?e():e)):i=this.$slots[n]||(c(e)?e():e);var a=t&&t.slot;return a?this.$createElement("template",{slot:a},i):i}function Yn(n){return Et(this.$options,"filters",n,!0)||L}function Qn(n,e){return i(n)?-1===n.indexOf(e):n!==e}function ne(n,e,t,r,i){var o=N.keyCodes[e]||t;return i&&r&&!N.keyCodes[e]?Qn(i,r):o?Qn(o,n):r?C(r)!==e:void 0===n}function ee(n,e,t,r,o){if(t)if(u(t)){i(t)&&(t=S(t));var a=void 0,s=function(i){if("class"===i||"style"===i||_(i))a=n;else{var s=n.attrs&&n.attrs.type;a=r||N.mustUseProp(e,s,i)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}var l=P(i),c=C(i);l in a||c in a||(a[i]=t[i],o&&((n.on||(n.on={}))["update:".concat(i)]=function(n){t[i]=n}))};for(var l in t)s(l)}else;return n}function te(n,e){var t=this._staticTrees||(this._staticTrees=[]),r=t[n];return r&&!e||ie(r=t[n]=this.$options.staticRenderFns[n].call(this._renderProxy,this._c,this),"__static__".concat(n),!1),r}function re(n,e,t){return ie(n,"__once__".concat(e).concat(t?"_".concat(t):""),!0),n}function ie(n,e,t){if(i(n))for(var r=0;r<n.length;r++)n[r]&&"string"!=typeof n[r]&&oe(n[r],"".concat(e,"_").concat(r),t);else oe(n,e,t)}function oe(n,e,t){n.isStatic=!0,n.key=e,n.isOnce=t}function ae(n,e){if(e)if(d(e)){var t=n.on=n.on?I({},n.on):{};for(var r in e){var i=t[r],o=e[r];t[r]=i?[].concat(i,o):o}}else;return n}function se(n,e,t,r){e=e||{$stable:!t};for(var o=0;o<n.length;o++){var a=n[o];i(a)?se(a,e,t):a&&(a.proxy&&(a.fn.proxy=!0),e[a.key]=a.fn)}return r&&(e.$key=r),e}function le(n,e){for(var t=0;t<e.length;t+=2){var r=e[t];"string"==typeof r&&r&&(n[e[t]]=e[t+1])}return n}function ce(n,e){return"string"==typeof n?e+n:n}function ue(n){n._o=re,n._n=y,n._s=g,n._l=Kn,n._t=Zn,n._q=B,n._i=M,n._m=te,n._f=Yn,n._k=ne,n._b=ee,n._v=mn,n._e=fn,n._u=se,n._g=ae,n._d=le,n._p=ce}function pe(n,e){if(!n||!n.length)return{};for(var t={},r=0,i=n.length;r<i;r++){var o=n[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(t.default||(t.default=[])).push(o);else{var s=a.slot,l=t[s]||(t[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in t)t[c].every(de)&&delete t[c];return t}function de(n){return n.isComment&&!n.asyncFactory||" "===n.text}function he(n){return n.isComment&&n.asyncFactory}function fe(n,e,t,i){var o,a=Object.keys(t).length>0,s=e?!!e.$stable:!a,l=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&i&&i!==r&&l===i.$key&&!a&&!i.$hasNormal)return i;for(var c in o={},e)e[c]&&"$"!==c[0]&&(o[c]=me(n,t,c,e[c]))}else o={};for(var u in t)u in o||(o[u]=ge(t,u));return e&&Object.isExtensible(e)&&(e._normalized=o),J(o,"$stable",s),J(o,"$key",l),J(o,"$hasNormal",a),o}function me(n,e,t,r){var o=function(){var e=pn;dn(n);var t=arguments.length?r.apply(null,arguments):r({}),o=(t=t&&"object"==typeof t&&!i(t)?[t]:Gn(t))&&t[0];return dn(e),t&&(!o||1===t.length&&o.isComment&&!he(o))?void 0:t};return r.proxy&&Object.defineProperty(e,t,{get:o,enumerable:!0,configurable:!0}),o}function ge(n,e){return function(){return n[e]}}function ye(n){return{get attrs(){if(!n._attrsProxy){var e=n._attrsProxy={};J(e,"_v_attr_proxy",!0),ve(e,n.$attrs,r,n,"$attrs")}return n._attrsProxy},get listeners(){n._listenersProxy||ve(n._listenersProxy={},n.$listeners,r,n,"$listeners");return n._listenersProxy},get slots(){return function(n){n._slotsProxy||be(n._slotsProxy={},n.$scopedSlots);return n._slotsProxy}(n)},emit:E(n.$emit,n),expose:function(e){e&&Object.keys(e).forEach((function(t){return Dn(n,e,t)}))}}}function ve(n,e,t,r,i){var o=!1;for(var a in e)a in n?e[a]!==t[a]&&(o=!0):(o=!0,_e(n,a,r,i));for(var a in n)a in e||(o=!0,delete n[a]);return o}function _e(n,e,t,r){Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){return t[r][e]}})}function be(n,e){for(var t in e)n[t]=e[t];for(var t in n)t in e||delete n[t]}var xe=null;function we(n,e){return(n.__esModule||un&&"Module"===n[Symbol.toStringTag])&&(n=n.default),u(n)?e.extend(n):n}function ke(n){if(i(n))for(var e=0;e<n.length;e++){var t=n[e];if(a(t)&&(a(t.componentOptions)||he(t)))return t}}function je(n,e,t,r,p,d){return(i(t)||l(t))&&(p=r,r=t,t=void 0),s(d)&&(p=2),function(n,e,t,r,l){if(a(t)&&a(t.__ob__))return fn();a(t)&&a(t.is)&&(e=t.is);if(!e)return fn();0;i(r)&&c(r[0])&&((t=t||{}).scopedSlots={default:r[0]},r.length=0);2===l?r=Gn(r):1===l&&(r=function(n){for(var e=0;e<n.length;e++)if(i(n[e]))return Array.prototype.concat.apply([],n);return n}(r));var p,d;if("string"==typeof e){var h=void 0;d=n.$vnode&&n.$vnode.ns||N.getTagNamespace(e),p=N.isReservedTag(e)?new hn(N.parsePlatformTagName(e),t,r,void 0,void 0,n):t&&t.pre||!a(h=Et(n.$options,"components",e))?new hn(e,t,r,void 0,void 0,n):_t(h,t,n,r,e)}else p=_t(e,t,n,r);return i(p)?p:a(p)?(a(d)&&function n(e,t,r){e.ns=t,"foreignObject"===e.tag&&(t=void 0,r=!0);if(a(e.children))for(var i=0,l=e.children.length;i<l;i++){var c=e.children[i];a(c.tag)&&(o(c.ns)||s(r)&&"svg"!==c.tag)&&n(c,t,r)}}(p,d),a(t)&&function(n){u(n.style)&&Fe(n.style);u(n.class)&&Fe(n.class)}(t),p):fn()}(n,e,t,r,p)}function Pe(n,e,t){bn();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,n,e,t))return}catch(n){Ae(n,r,"errorCaptured hook")}}Ae(n,e,t)}finally{xn()}}function Te(n,e,t,r,i){var o;try{(o=t?n.apply(e,t):n.call(e))&&!o._isVue&&m(o)&&!o._handled&&(o.catch((function(n){return Pe(n,r,i+" (Promise/async)")})),o._handled=!0)}catch(n){Pe(n,r,i)}return o}function Ae(n,e,t){if(N.errorHandler)try{return N.errorHandler.call(null,n,e,t)}catch(e){e!==n&&Ce(e,null,"config.errorHandler")}Ce(n,e,t)}function Ce(n,e,t){if(!G||"undefined"==typeof console)throw n;console.error(n)}var Ee,Oe=!1,Ie=[],Se=!1;function $e(){Se=!1;var n=Ie.slice(0);Ie.length=0;for(var e=0;e<n.length;e++)n[e]()}if("undefined"!=typeof Promise&&ln(Promise)){var ze=Promise.resolve();Ee=function(){ze.then($e),Q&&setTimeout($)},Oe=!0}else if(K||"undefined"==typeof MutationObserver||!ln(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Ee="undefined"!=typeof setImmediate&&ln(setImmediate)?function(){setImmediate($e)}:function(){setTimeout($e,0)};else{var Le=1,Be=new MutationObserver($e),Me=document.createTextNode(String(Le));Be.observe(Me,{characterData:!0}),Ee=function(){Le=(Le+1)%2,Me.data=String(Le)},Oe=!0}function Re(n,e){var t;if(Ie.push((function(){if(n)try{n.call(e)}catch(n){Pe(n,e,"nextTick")}else t&&t(e)})),Se||(Se=!0,Ee()),!n&&"undefined"!=typeof Promise)return new Promise((function(n){t=n}))}function De(n){return function(e,t){if(void 0===t&&(t=pn),t)return function(n,e,t){var r=n.$options;r[e]=Pt(r[e],t)}(t,n,e)}}De("beforeMount"),De("mounted"),De("beforeUpdate"),De("updated"),De("beforeDestroy"),De("destroyed"),De("activated"),De("deactivated"),De("serverPrefetch"),De("renderTracked"),De("renderTriggered"),De("errorCaptured");var qe=new cn;function Fe(n){return function n(e,t){var r,o,a=i(e);if(!a&&!u(e)||Object.isFrozen(e)||e instanceof hn)return;if(e.__ob__){var s=e.__ob__.dep.id;if(t.has(s))return;t.add(s)}if(a)for(r=e.length;r--;)n(e[r],t);else if(Rn(e))n(e.value,t);else for(o=Object.keys(e),r=o.length;r--;)n(e[o[r]],t)}(n,qe),qe.clear(),n}var Ne,Ue=0,Xe=function(){function n(n,e,t,r,i){var o,a;o=this,void 0===(a=qn&&!qn._vm?qn:n?n._scope:void 0)&&(a=qn),a&&a.active&&a.effects.push(o),(this.vm=n)&&i&&(n._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++Ue,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new cn,this.newDepIds=new cn,this.expression="",c(e)?this.getter=e:(this.getter=function(n){if(!V.test(n)){var e=n.split(".");return function(n){for(var t=0;t<e.length;t++){if(!n)return;n=n[e[t]]}return n}}}(e),this.getter||(this.getter=$)),this.value=this.lazy?void 0:this.get()}return n.prototype.get=function(){var n;bn(this);var e=this.vm;try{n=this.getter.call(e,e)}catch(n){if(!this.user)throw n;Pe(n,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&Fe(n),xn(),this.cleanupDeps()}return n},n.prototype.addDep=function(n){var e=n.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(n),this.depIds.has(e)||n.addSub(this))},n.prototype.cleanupDeps=function(){for(var n=this.deps.length;n--;){var e=this.deps[n];this.newDepIds.has(e.id)||e.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},n.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():pt(this)},n.prototype.run=function(){if(this.active){var n=this.get();if(n!==this.value||u(n)||this.deep){var e=this.value;if(this.value=n,this.user){var t='callback for watcher "'.concat(this.expression,'"');Te(this.cb,this.vm,[n,e],this.vm,t)}else this.cb.call(this.vm,n,e)}}},n.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},n.prototype.depend=function(){for(var n=this.deps.length;n--;)this.deps[n].depend()},n.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&b(this.vm._scope.effects,this),this.active){for(var n=this.deps.length;n--;)this.deps[n].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},n}();function Je(n,e){Ne.$on(n,e)}function Ve(n,e){Ne.$off(n,e)}function He(n,e){var t=Ne;return function r(){var i=e.apply(null,arguments);null!==i&&t.$off(n,r)}}function Ge(n,e,t){Ne=n,Jn(e,t||{},Je,Ve,He,n),Ne=void 0}var We=null;function Ke(n){var e=We;return We=n,function(){We=e}}function Ze(n){for(;n&&(n=n.$parent);)if(n._inactive)return!0;return!1}function Ye(n,e){if(e){if(n._directInactive=!1,Ze(n))return}else if(n._directInactive)return;if(n._inactive||null===n._inactive){n._inactive=!1;for(var t=0;t<n.$children.length;t++)Ye(n.$children[t]);Qe(n,"activated")}}function Qe(n,e,t,r){void 0===r&&(r=!0),bn();var i=pn;r&&dn(n);var o=n.$options[e],a="".concat(e," hook");if(o)for(var s=0,l=o.length;s<l;s++)Te(o[s],n,t||null,n,a);n._hasHookEvent&&n.$emit("hook:"+e),r&&dn(i),xn()}var nt=[],et=[],tt={},rt=!1,it=!1,ot=0;var at=0,st=Date.now;if(G&&!K){var lt=window.performance;lt&&"function"==typeof lt.now&&st()>document.createEvent("Event").timeStamp&&(st=function(){return lt.now()})}var ct=function(n,e){if(n.post){if(!e.post)return 1}else if(e.post)return-1;return n.id-e.id};function ut(){var n,e;for(at=st(),it=!0,nt.sort(ct),ot=0;ot<nt.length;ot++)(n=nt[ot]).before&&n.before(),e=n.id,tt[e]=null,n.run();var t=et.slice(),r=nt.slice();ot=nt.length=et.length=0,tt={},rt=it=!1,function(n){for(var e=0;e<n.length;e++)n[e]._inactive=!0,Ye(n[e],!0)}(t),function(n){var e=n.length;for(;e--;){var t=n[e],r=t.vm;r&&r._watcher===t&&r._isMounted&&!r._isDestroyed&&Qe(r,"updated")}}(r),sn&&N.devtools&&sn.emit("flush")}function pt(n){var e=n.id;if(null==tt[e]&&(n!==vn.target||!n.noRecurse)){if(tt[e]=!0,it){for(var t=nt.length-1;t>ot&&nt[t].id>n.id;)t--;nt.splice(t+1,0,n)}else nt.push(n);rt||(rt=!0,Re(ut))}}function dt(n,e){if(n){for(var t=Object.create(null),r=un?Reflect.ownKeys(n):Object.keys(n),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var a=n[o].from;if(a in e._provided)t[o]=e._provided[a];else if("default"in n[o]){var s=n[o].default;t[o]=c(s)?s.call(e):s}else 0}}return t}}function ht(n,e,t,o,a){var l,c=this,u=a.options;w(o,"_uid")?(l=Object.create(o))._original=o:(l=o,o=o._original);var p=s(u._compiled),d=!p;this.data=n,this.props=e,this.children=t,this.parent=o,this.listeners=n.on||r,this.injections=dt(u.inject,o),this.slots=function(){return c.$slots||fe(o,n.scopedSlots,c.$slots=pe(t,o)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return fe(o,n.scopedSlots,this.slots())}}),p&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=fe(o,n.scopedSlots,this.$slots)),u._scopeId?this._c=function(n,e,t,r){var a=je(l,n,e,t,r,d);return a&&!i(a)&&(a.fnScopeId=u._scopeId,a.fnContext=o),a}:this._c=function(n,e,t,r){return je(l,n,e,t,r,d)}}function ft(n,e,t,r,i){var o=gn(n);return o.fnContext=t,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function mt(n,e){for(var t in e)n[P(t)]=e[t]}function gt(n){return n.name||n.__name||n._componentTag}ue(ht.prototype);var yt={init:function(n,e){if(n.componentInstance&&!n.componentInstance._isDestroyed&&n.data.keepAlive){var t=n;yt.prepatch(t,t)}else{(n.componentInstance=function(n,e){var t={_isComponent:!0,_parentVnode:n,parent:e},r=n.data.inlineTemplate;a(r)&&(t.render=r.render,t.staticRenderFns=r.staticRenderFns);return new n.componentOptions.Ctor(t)}(n,We)).$mount(e?n.elm:void 0,e)}},prepatch:function(n,e){var t=e.componentOptions;!function(n,e,t,i,o){var a=i.data.scopedSlots,s=n.$scopedSlots,l=!!(a&&!a.$stable||s!==r&&!s.$stable||a&&n.$scopedSlots.$key!==a.$key||!a&&n.$scopedSlots.$key),c=!!(o||n.$options._renderChildren||l),u=n.$vnode;n.$options._parentVnode=i,n.$vnode=i,n._vnode&&(n._vnode.parent=i),n.$options._renderChildren=o;var p=i.data.attrs||r;n._attrsProxy&&ve(n._attrsProxy,p,u.data&&u.data.attrs||r,n,"$attrs")&&(c=!0),n.$attrs=p,t=t||r;var d=n.$options._parentListeners;if(n._listenersProxy&&ve(n._listenersProxy,t,d||r,n,"$listeners"),n.$listeners=n.$options._parentListeners=t,Ge(n,t,d),e&&n.$options.props){An(!1);for(var h=n._props,f=n.$options._propKeys||[],m=0;m<f.length;m++){var g=f[m],y=n.$options.props;h[g]=Ot(g,y,e,n)}An(!0),n.$options.propsData=e}c&&(n.$slots=pe(o,i.context),n.$forceUpdate())}(e.componentInstance=n.componentInstance,t.propsData,t.listeners,e,t.children)},insert:function(n){var e,t=n.context,r=n.componentInstance;r._isMounted||(r._isMounted=!0,Qe(r,"mounted")),n.data.keepAlive&&(t._isMounted?((e=r)._inactive=!1,et.push(e)):Ye(r,!0))},destroy:function(n){var e=n.componentInstance;e._isDestroyed||(n.data.keepAlive?function n(e,t){if(!(t&&(e._directInactive=!0,Ze(e))||e._inactive)){e._inactive=!0;for(var r=0;r<e.$children.length;r++)n(e.$children[r]);Qe(e,"deactivated")}}(e,!0):e.$destroy())}},vt=Object.keys(yt);function _t(n,e,t,l,c){if(!o(n)){var p=t.$options._base;if(u(n)&&(n=p.extend(n)),"function"==typeof n){var d;if(o(n.cid)&&void 0===(n=function(n,e){if(s(n.error)&&a(n.errorComp))return n.errorComp;if(a(n.resolved))return n.resolved;var t=xe;if(t&&a(n.owners)&&-1===n.owners.indexOf(t)&&n.owners.push(t),s(n.loading)&&a(n.loadingComp))return n.loadingComp;if(t&&!a(n.owners)){var r=n.owners=[t],i=!0,l=null,c=null;t.$on("hook:destroyed",(function(){return b(r,t)}));var p=function(n){for(var e=0,t=r.length;e<t;e++)r[e].$forceUpdate();n&&(r.length=0,null!==l&&(clearTimeout(l),l=null),null!==c&&(clearTimeout(c),c=null))},d=R((function(t){n.resolved=we(t,e),i?r.length=0:p(!0)})),h=R((function(e){a(n.errorComp)&&(n.error=!0,p(!0))})),f=n(d,h);return u(f)&&(m(f)?o(n.resolved)&&f.then(d,h):m(f.component)&&(f.component.then(d,h),a(f.error)&&(n.errorComp=we(f.error,e)),a(f.loading)&&(n.loadingComp=we(f.loading,e),0===f.delay?n.loading=!0:l=setTimeout((function(){l=null,o(n.resolved)&&o(n.error)&&(n.loading=!0,p(!1))}),f.delay||200)),a(f.timeout)&&(c=setTimeout((function(){c=null,o(n.resolved)&&h(null)}),f.timeout)))),i=!1,n.loading?n.loadingComp:n.resolved}}(d=n,p)))return function(n,e,t,r,i){var o=fn();return o.asyncFactory=n,o.asyncMeta={data:e,context:t,children:r,tag:i},o}(d,e,t,l,c);e=e||{},Xt(n),a(e.model)&&function(n,e){var t=n.model&&n.model.prop||"value",r=n.model&&n.model.event||"input";(e.attrs||(e.attrs={}))[t]=e.model.value;var o=e.on||(e.on={}),s=o[r],l=e.model.callback;a(s)?(i(s)?-1===s.indexOf(l):s!==l)&&(o[r]=[l].concat(s)):o[r]=l}(n.options,e);var h=function(n,e,t){var r=e.options.props;if(!o(r)){var i={},s=n.attrs,l=n.props;if(a(s)||a(l))for(var c in r){var u=C(c);Hn(i,l,c,u,!0)||Hn(i,s,c,u,!1)}return i}}(e,n);if(s(n.options.functional))return function(n,e,t,o,s){var l=n.options,c={},u=l.props;if(a(u))for(var p in u)c[p]=Ot(p,u,e||r);else a(t.attrs)&&mt(c,t.attrs),a(t.props)&&mt(c,t.props);var d=new ht(t,c,s,o,n),h=l.render.call(null,d._c,d);if(h instanceof hn)return ft(h,t,d.parent,l,d);if(i(h)){for(var f=Gn(h)||[],m=new Array(f.length),g=0;g<f.length;g++)m[g]=ft(f[g],t,d.parent,l,d);return m}}(n,h,e,t,l);var f=e.on;if(e.on=e.nativeOn,s(n.options.abstract)){var g=e.slot;e={},g&&(e.slot=g)}!function(n){for(var e=n.hook||(n.hook={}),t=0;t<vt.length;t++){var r=vt[t],i=e[r],o=yt[r];i===o||i&&i._merged||(e[r]=i?bt(o,i):o)}}(e);var y=gt(n.options)||c;return new hn("vue-component-".concat(n.cid).concat(y?"-".concat(y):""),e,void 0,void 0,void 0,t,{Ctor:n,propsData:h,listeners:f,tag:c,children:l},d)}}}function bt(n,e){var t=function(t,r){n(t,r),e(t,r)};return t._merged=!0,t}var xt=$,wt=N.optionMergeStrategies;function kt(n,e){if(!e)return n;for(var t,r,i,o=un?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)"__ob__"!==(t=o[a])&&(r=n[t],i=e[t],w(n,t)?r!==i&&d(r)&&d(i)&&kt(r,i):Sn(n,t,i));return n}function jt(n,e,t){return t?function(){var r=c(e)?e.call(t,t):e,i=c(n)?n.call(t,t):n;return r?kt(r,i):i}:e?n?function(){return kt(c(e)?e.call(this,this):e,c(n)?n.call(this,this):n)}:e:n}function Pt(n,e){var t=e?n?n.concat(e):i(e)?e:[e]:n;return t?function(n){for(var e=[],t=0;t<n.length;t++)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(t):t}function Tt(n,e,t,r){var i=Object.create(n||null);return e?I(i,e):i}wt.data=function(n,e,t){return t?jt(n,e,t):e&&"function"!=typeof e?n:jt(n,e)},F.forEach((function(n){wt[n]=Pt})),q.forEach((function(n){wt[n+"s"]=Tt})),wt.watch=function(n,e,t,r){if(n===tn&&(n=void 0),e===tn&&(e=void 0),!e)return Object.create(n||null);if(!n)return e;var o={};for(var a in I(o,n),e){var s=o[a],l=e[a];s&&!i(s)&&(s=[s]),o[a]=s?s.concat(l):i(l)?l:[l]}return o},wt.props=wt.methods=wt.inject=wt.computed=function(n,e,t,r){if(!n)return e;var i=Object.create(null);return I(i,n),e&&I(i,e),i},wt.provide=jt;var At=function(n,e){return void 0===e?n:e};function Ct(n,e,t){if(c(e)&&(e=e.options),function(n,e){var t=n.props;if(t){var r,o,a={};if(i(t))for(r=t.length;r--;)"string"==typeof(o=t[r])&&(a[P(o)]={type:null});else if(d(t))for(var s in t)o=t[s],a[P(s)]=d(o)?o:{type:o};else 0;n.props=a}}(e),function(n,e){var t=n.inject;if(t){var r=n.inject={};if(i(t))for(var o=0;o<t.length;o++)r[t[o]]={from:t[o]};else if(d(t))for(var a in t){var s=t[a];r[a]=d(s)?I({from:a},s):{from:s}}else 0}}(e),function(n){var e=n.directives;if(e)for(var t in e){var r=e[t];c(r)&&(e[t]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(n=Ct(n,e.extends,t)),e.mixins))for(var r=0,o=e.mixins.length;r<o;r++)n=Ct(n,e.mixins[r],t);var a,s={};for(a in n)l(a);for(a in e)w(n,a)||l(a);function l(r){var i=wt[r]||At;s[r]=i(n[r],e[r],t,r)}return s}function Et(n,e,t,r){if("string"==typeof t){var i=n[e];if(w(i,t))return i[t];var o=P(t);if(w(i,o))return i[o];var a=T(o);return w(i,a)?i[a]:i[t]||i[o]||i[a]}}function Ot(n,e,t,r){var i=e[n],o=!w(t,n),a=t[n],s=zt(Boolean,i.type);if(s>-1)if(o&&!w(i,"default"))a=!1;else if(""===a||a===C(n)){var l=zt(String,i.type);(l<0||s<l)&&(a=!0)}if(void 0===a){a=function(n,e,t){if(!w(e,"default"))return;var r=e.default;0;if(n&&n.$options.propsData&&void 0===n.$options.propsData[t]&&void 0!==n._props[t])return n._props[t];return c(r)&&"Function"!==St(e.type)?r.call(n):r}(r,i,n);var u=Tn;An(!0),On(a),An(u)}return a}var It=/^\s*function (\w+)/;function St(n){var e=n&&n.toString().match(It);return e?e[1]:""}function $t(n,e){return St(n)===St(e)}function zt(n,e){if(!i(e))return $t(e,n)?0:-1;for(var t=0,r=e.length;t<r;t++)if($t(e[t],n))return t;return-1}var Lt={enumerable:!0,configurable:!0,get:$,set:$};function Bt(n,e,t){Lt.get=function(){return this[e][t]},Lt.set=function(n){this[e][t]=n},Object.defineProperty(n,t,Lt)}function Mt(n){var e=n.$options;if(e.props&&function(n,e){var t=n.$options.propsData||{},r=n._props=Ln({}),i=n.$options._propKeys=[];n.$parent&&An(!1);var o=function(o){i.push(o);var a=Ot(o,e,t,n);In(r,o,a),o in n||Bt(n,"_props",o)};for(var a in e)o(a);An(!0)}(n,e.props),function(n){var e=n.$options,t=e.setup;if(t){var r=n._setupContext=ye(n);dn(n),bn();var i=Te(t,null,[n._props||Ln({}),r],n,"setup");if(xn(),dn(),c(i))e.render=i;else if(u(i))if(n._setupState=i,i.__sfc){var o=n._setupProxy={};for(var a in i)"__sfc"!==a&&Dn(o,i,a)}else for(var a in i)X(a)||Dn(n,i,a);else 0}}(n),e.methods&&function(n,e){n.$options.props;for(var t in e)n[t]="function"!=typeof e[t]?$:E(e[t],n)}(n,e.methods),e.data)!function(n){var e=n.$options.data;d(e=n._data=c(e)?function(n,e){bn();try{return n.call(e,e)}catch(n){return Pe(n,e,"data()"),{}}finally{xn()}}(e,n):e||{})||(e={});var t=Object.keys(e),r=n.$options.props,i=(n.$options.methods,t.length);for(;i--;){var o=t[i];0,r&&w(r,o)||X(o)||Bt(n,"_data",o)}var a=On(e);a&&a.vmCount++}(n);else{var t=On(n._data={});t&&t.vmCount++}e.computed&&function(n,e){var t=n._computedWatchers=Object.create(null),r=an();for(var i in e){var o=e[i],a=c(o)?o:o.get;0,r||(t[i]=new Xe(n,a||$,$,Rt)),i in n||Dt(n,i,o)}}(n,e.computed),e.watch&&e.watch!==tn&&function(n,e){for(var t in e){var r=e[t];if(i(r))for(var o=0;o<r.length;o++)Nt(n,t,r[o]);else Nt(n,t,r)}}(n,e.watch)}var Rt={lazy:!0};function Dt(n,e,t){var r=!an();c(t)?(Lt.get=r?qt(e):Ft(t),Lt.set=$):(Lt.get=t.get?r&&!1!==t.cache?qt(e):Ft(t.get):$,Lt.set=t.set||$),Object.defineProperty(n,e,Lt)}function qt(n){return function(){var e=this._computedWatchers&&this._computedWatchers[n];if(e)return e.dirty&&e.evaluate(),vn.target&&e.depend(),e.value}}function Ft(n){return function(){return n.call(this,this)}}function Nt(n,e,t,r){return d(t)&&(r=t,t=t.handler),"string"==typeof t&&(t=n[t]),n.$watch(e,t,r)}var Ut=0;function Xt(n){var e=n.options;if(n.super){var t=Xt(n.super);if(t!==n.superOptions){n.superOptions=t;var r=function(n){var e,t=n.options,r=n.sealedOptions;for(var i in t)t[i]!==r[i]&&(e||(e={}),e[i]=t[i]);return e}(n);r&&I(n.extendOptions,r),(e=n.options=Ct(t,n.extendOptions)).name&&(e.components[e.name]=n)}}return e}function Jt(n){this._init(n)}function Vt(n){n.cid=0;var e=1;n.extend=function(n){n=n||{};var t=this,r=t.cid,i=n._Ctor||(n._Ctor={});if(i[r])return i[r];var o=gt(n)||gt(t.options);var a=function(n){this._init(n)};return(a.prototype=Object.create(t.prototype)).constructor=a,a.cid=e++,a.options=Ct(t.options,n),a.super=t,a.options.props&&function(n){var e=n.options.props;for(var t in e)Bt(n.prototype,"_props",t)}(a),a.options.computed&&function(n){var e=n.options.computed;for(var t in e)Dt(n.prototype,t,e[t])}(a),a.extend=t.extend,a.mixin=t.mixin,a.use=t.use,q.forEach((function(n){a[n]=t[n]})),o&&(a.options.components[o]=a),a.superOptions=t.options,a.extendOptions=n,a.sealedOptions=I({},a.options),i[r]=a,a}}function Ht(n){return n&&(gt(n.Ctor.options)||n.tag)}function Gt(n,e){return i(n)?n.indexOf(e)>-1:"string"==typeof n?n.split(",").indexOf(e)>-1:!!h(n)&&n.test(e)}function Wt(n,e){var t=n.cache,r=n.keys,i=n._vnode;for(var o in t){var a=t[o];if(a){var s=a.name;s&&!e(s)&&Kt(t,o,r,i)}}}function Kt(n,e,t,r){var i=n[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),n[e]=null,b(t,e)}!function(n){n.prototype._init=function(n){var e=this;e._uid=Ut++,e._isVue=!0,e.__v_skip=!0,e._scope=new Fn(!0),e._scope._vm=!0,n&&n._isComponent?function(n,e){var t=n.$options=Object.create(n.constructor.options),r=e._parentVnode;t.parent=e.parent,t._parentVnode=r;var i=r.componentOptions;t.propsData=i.propsData,t._parentListeners=i.listeners,t._renderChildren=i.children,t._componentTag=i.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}(e,n):e.$options=Ct(Xt(e.constructor),n||{},e),e._renderProxy=e,e._self=e,function(n){var e=n.$options,t=e.parent;if(t&&!e.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(n)}n.$parent=t,n.$root=t?t.$root:n,n.$children=[],n.$refs={},n._provided=t?t._provided:Object.create(null),n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1}(e),function(n){n._events=Object.create(null),n._hasHookEvent=!1;var e=n.$options._parentListeners;e&&Ge(n,e)}(e),function(n){n._vnode=null,n._staticTrees=null;var e=n.$options,t=n.$vnode=e._parentVnode,i=t&&t.context;n.$slots=pe(e._renderChildren,i),n.$scopedSlots=t?fe(n.$parent,t.data.scopedSlots,n.$slots):r,n._c=function(e,t,r,i){return je(n,e,t,r,i,!1)},n.$createElement=function(e,t,r,i){return je(n,e,t,r,i,!0)};var o=t&&t.data;In(n,"$attrs",o&&o.attrs||r,null,!0),In(n,"$listeners",e._parentListeners||r,null,!0)}(e),Qe(e,"beforeCreate",void 0,!1),function(n){var e=dt(n.$options.inject,n);e&&(An(!1),Object.keys(e).forEach((function(t){In(n,t,e[t])})),An(!0))}(e),Mt(e),function(n){var e=n.$options.provide;if(e){var t=c(e)?e.call(n):e;if(!u(t))return;for(var r=Nn(n),i=un?Reflect.ownKeys(t):Object.keys(t),o=0;o<i.length;o++){var a=i[o];Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))}}}(e),Qe(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Jt),function(n){var e={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(n.prototype,"$data",e),Object.defineProperty(n.prototype,"$props",t),n.prototype.$set=Sn,n.prototype.$delete=$n,n.prototype.$watch=function(n,e,t){if(d(e))return Nt(this,n,e,t);(t=t||{}).user=!0;var r=new Xe(this,n,e,t);if(t.immediate){var i='callback for immediate watcher "'.concat(r.expression,'"');bn(),Te(e,this,[r.value],this,i),xn()}return function(){r.teardown()}}}(Jt),function(n){var e=/^hook:/;n.prototype.$on=function(n,t){var r=this;if(i(n))for(var o=0,a=n.length;o<a;o++)r.$on(n[o],t);else(r._events[n]||(r._events[n]=[])).push(t),e.test(n)&&(r._hasHookEvent=!0);return r},n.prototype.$once=function(n,e){var t=this;function r(){t.$off(n,r),e.apply(t,arguments)}return r.fn=e,t.$on(n,r),t},n.prototype.$off=function(n,e){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(i(n)){for(var r=0,o=n.length;r<o;r++)t.$off(n[r],e);return t}var a,s=t._events[n];if(!s)return t;if(!e)return t._events[n]=null,t;for(var l=s.length;l--;)if((a=s[l])===e||a.fn===e){s.splice(l,1);break}return t},n.prototype.$emit=function(n){var e=this,t=e._events[n];if(t){t=t.length>1?O(t):t;for(var r=O(arguments,1),i='event handler for "'.concat(n,'"'),o=0,a=t.length;o<a;o++)Te(t[o],e,r,e,i)}return e}}(Jt),function(n){n.prototype._update=function(n,e){var t=this,r=t.$el,i=t._vnode,o=Ke(t);t._vnode=n,t.$el=i?t.__patch__(i,n):t.__patch__(t.$el,n,e,!1),o(),r&&(r.__vue__=null),t.$el&&(t.$el.__vue__=t);for(var a=t;a&&a.$vnode&&a.$parent&&a.$vnode===a.$parent._vnode;)a.$parent.$el=a.$el,a=a.$parent},n.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},n.prototype.$destroy=function(){var n=this;if(!n._isBeingDestroyed){Qe(n,"beforeDestroy"),n._isBeingDestroyed=!0;var e=n.$parent;!e||e._isBeingDestroyed||n.$options.abstract||b(e.$children,n),n._scope.stop(),n._data.__ob__&&n._data.__ob__.vmCount--,n._isDestroyed=!0,n.__patch__(n._vnode,null),Qe(n,"destroyed"),n.$off(),n.$el&&(n.$el.__vue__=null),n.$vnode&&(n.$vnode.parent=null)}}}(Jt),function(n){ue(n.prototype),n.prototype.$nextTick=function(n){return Re(n,this)},n.prototype._render=function(){var n,e=this,t=e.$options,r=t.render,o=t._parentVnode;o&&e._isMounted&&(e.$scopedSlots=fe(e.$parent,o.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&be(e._slotsProxy,e.$scopedSlots)),e.$vnode=o;try{dn(e),xe=e,n=r.call(e._renderProxy,e.$createElement)}catch(t){Pe(t,e,"render"),n=e._vnode}finally{xe=null,dn()}return i(n)&&1===n.length&&(n=n[0]),n instanceof hn||(n=fn()),n.parent=o,n}}(Jt);var Zt=[String,RegExp,Array],Yt={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Zt,exclude:Zt,max:[String,Number]},methods:{cacheVNode:function(){var n=this.cache,e=this.keys,t=this.vnodeToCache,r=this.keyToCache;if(t){var i=t.tag,o=t.componentInstance,a=t.componentOptions;n[r]={name:Ht(a),tag:i,componentInstance:o},e.push(r),this.max&&e.length>parseInt(this.max)&&Kt(n,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var n in this.cache)Kt(this.cache,n,this.keys)},mounted:function(){var n=this;this.cacheVNode(),this.$watch("include",(function(e){Wt(n,(function(n){return Gt(e,n)}))})),this.$watch("exclude",(function(e){Wt(n,(function(n){return!Gt(e,n)}))}))},updated:function(){this.cacheVNode()},render:function(){var n=this.$slots.default,e=ke(n),t=e&&e.componentOptions;if(t){var r=Ht(t),i=this.include,o=this.exclude;if(i&&(!r||!Gt(i,r))||o&&r&&Gt(o,r))return e;var a=this.cache,s=this.keys,l=null==e.key?t.Ctor.cid+(t.tag?"::".concat(t.tag):""):e.key;a[l]?(e.componentInstance=a[l].componentInstance,b(s,l),s.push(l)):(this.vnodeToCache=e,this.keyToCache=l),e.data.keepAlive=!0}return e||n&&n[0]}}};!function(n){var e={get:function(){return N}};Object.defineProperty(n,"config",e),n.util={warn:xt,extend:I,mergeOptions:Ct,defineReactive:In},n.set=Sn,n.delete=$n,n.nextTick=Re,n.observable=function(n){return On(n),n},n.options=Object.create(null),q.forEach((function(e){n.options[e+"s"]=Object.create(null)})),n.options._base=n,I(n.options.components,Yt),function(n){n.use=function(n){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(n)>-1)return this;var t=O(arguments,1);return t.unshift(this),c(n.install)?n.install.apply(n,t):c(n)&&n.apply(null,t),e.push(n),this}}(n),function(n){n.mixin=function(n){return this.options=Ct(this.options,n),this}}(n),Vt(n),function(n){q.forEach((function(e){n[e]=function(n,t){return t?("component"===e&&d(t)&&(t.name=t.name||n,t=this.options._base.extend(t)),"directive"===e&&c(t)&&(t={bind:t,update:t}),this.options[e+"s"][n]=t,t):this.options[e+"s"][n]}}))}(n)}(Jt),Object.defineProperty(Jt.prototype,"$isServer",{get:an}),Object.defineProperty(Jt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Jt,"FunctionalRenderContext",{value:ht}),Jt.version="2.7.10";var Qt=v("style,class"),nr=v("input,textarea,option,select,progress"),er=v("contenteditable,draggable,spellcheck"),tr=v("events,caret,typing,plaintext-only"),rr=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),ir="http://www.w3.org/1999/xlink",or=function(n){return":"===n.charAt(5)&&"xlink"===n.slice(0,5)},ar=function(n){return or(n)?n.slice(6,n.length):""},sr=function(n){return null==n||!1===n};function lr(n){for(var e=n.data,t=n,r=n;a(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=cr(r.data,e));for(;a(t=t.parent);)t&&t.data&&(e=cr(e,t.data));return function(n,e){if(a(n)||a(e))return ur(n,pr(e));return""}(e.staticClass,e.class)}function cr(n,e){return{staticClass:ur(n.staticClass,e.staticClass),class:a(n.class)?[n.class,e.class]:e.class}}function ur(n,e){return n?e?n+" "+e:n:e||""}function pr(n){return Array.isArray(n)?function(n){for(var e,t="",r=0,i=n.length;r<i;r++)a(e=pr(n[r]))&&""!==e&&(t&&(t+=" "),t+=e);return t}(n):u(n)?function(n){var e="";for(var t in n)n[t]&&(e&&(e+=" "),e+=t);return e}(n):"string"==typeof n?n:""}var dr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},hr=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),fr=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),mr=function(n){return hr(n)||fr(n)};var gr=Object.create(null);var yr=v("text,number,password,search,email,tel,url");var vr=Object.freeze({__proto__:null,createElement:function(n,e){var t=document.createElement(n);return"select"!==n||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(n,e){return document.createElementNS(dr[n],e)},createTextNode:function(n){return document.createTextNode(n)},createComment:function(n){return document.createComment(n)},insertBefore:function(n,e,t){n.insertBefore(e,t)},removeChild:function(n,e){n.removeChild(e)},appendChild:function(n,e){n.appendChild(e)},parentNode:function(n){return n.parentNode},nextSibling:function(n){return n.nextSibling},tagName:function(n){return n.tagName},setTextContent:function(n,e){n.textContent=e},setStyleScope:function(n,e){n.setAttribute(e,"")}}),_r={create:function(n,e){br(e)},update:function(n,e){n.data.ref!==e.data.ref&&(br(n,!0),br(e))},destroy:function(n){br(n,!0)}};function br(n,e){var t=n.data.ref;if(a(t)){var r=n.context,o=n.componentInstance||n.elm,s=e?null:o,l=e?void 0:o;if(c(t))Te(t,r,[s],r,"template ref function");else{var u=n.data.refInFor,p="string"==typeof t||"number"==typeof t,d=Rn(t),h=r.$refs;if(p||d)if(u){var f=p?h[t]:t.value;e?i(f)&&b(f,o):i(f)?f.includes(o)||f.push(o):p?(h[t]=[o],xr(r,t,h[t])):t.value=[o]}else if(p){if(e&&h[t]!==o)return;h[t]=l,xr(r,t,s)}else if(d){if(e&&t.value!==o)return;t.value=s}else 0}}}function xr(n,e,t){var r=n._setupState;r&&w(r,e)&&(Rn(r[e])?r[e].value=t:r[e]=t)}var wr=new hn("",{},[]),kr=["create","activate","update","remove","destroy"];function jr(n,e){return n.key===e.key&&n.asyncFactory===e.asyncFactory&&(n.tag===e.tag&&n.isComment===e.isComment&&a(n.data)===a(e.data)&&function(n,e){if("input"!==n.tag)return!0;var t,r=a(t=n.data)&&a(t=t.attrs)&&t.type,i=a(t=e.data)&&a(t=t.attrs)&&t.type;return r===i||yr(r)&&yr(i)}(n,e)||s(n.isAsyncPlaceholder)&&o(e.asyncFactory.error))}function Pr(n,e,t){var r,i,o={};for(r=e;r<=t;++r)a(i=n[r].key)&&(o[i]=r);return o}var Tr={create:Ar,update:Ar,destroy:function(n){Ar(n,wr)}};function Ar(n,e){(n.data.directives||e.data.directives)&&function(n,e){var t,r,i,o=n===wr,a=e===wr,s=Er(n.data.directives,n.context),l=Er(e.data.directives,e.context),c=[],u=[];for(t in l)r=s[t],i=l[t],r?(i.oldValue=r.value,i.oldArg=r.arg,Ir(i,"update",e,n),i.def&&i.def.componentUpdated&&u.push(i)):(Ir(i,"bind",e,n),i.def&&i.def.inserted&&c.push(i));if(c.length){var p=function(){for(var t=0;t<c.length;t++)Ir(c[t],"inserted",e,n)};o?Vn(e,"insert",p):p()}u.length&&Vn(e,"postpatch",(function(){for(var t=0;t<u.length;t++)Ir(u[t],"componentUpdated",e,n)}));if(!o)for(t in s)l[t]||Ir(s[t],"unbind",n,n,a)}(n,e)}var Cr=Object.create(null);function Er(n,e){var t,r,i=Object.create(null);if(!n)return i;for(t=0;t<n.length;t++){if((r=n[t]).modifiers||(r.modifiers=Cr),i[Or(r)]=r,e._setupState&&e._setupState.__sfc){var o=r.def||Et(e,"_setupState","v-"+r.name);r.def="function"==typeof o?{bind:o,update:o}:o}r.def=r.def||Et(e.$options,"directives",r.name)}return i}function Or(n){return n.rawName||"".concat(n.name,".").concat(Object.keys(n.modifiers||{}).join("."))}function Ir(n,e,t,r,i){var o=n.def&&n.def[e];if(o)try{o(t.elm,n,t,r,i)}catch(r){Pe(r,t.context,"directive ".concat(n.name," ").concat(e," hook"))}}var Sr=[_r,Tr];function $r(n,e){var t=e.componentOptions;if(!(a(t)&&!1===t.Ctor.options.inheritAttrs||o(n.data.attrs)&&o(e.data.attrs))){var r,i,l=e.elm,c=n.data.attrs||{},u=e.data.attrs||{};for(r in(a(u.__ob__)||s(u._v_attr_proxy))&&(u=e.data.attrs=I({},u)),u)i=u[r],c[r]!==i&&zr(l,r,i,e.data.pre);for(r in(K||Y)&&u.value!==c.value&&zr(l,"value",u.value),c)o(u[r])&&(or(r)?l.removeAttributeNS(ir,ar(r)):er(r)||l.removeAttribute(r))}}function zr(n,e,t,r){r||n.tagName.indexOf("-")>-1?Lr(n,e,t):rr(e)?sr(t)?n.removeAttribute(e):(t="allowfullscreen"===e&&"EMBED"===n.tagName?"true":e,n.setAttribute(e,t)):er(e)?n.setAttribute(e,function(n,e){return sr(e)||"false"===e?"false":"contenteditable"===n&&tr(e)?e:"true"}(e,t)):or(e)?sr(t)?n.removeAttributeNS(ir,ar(e)):n.setAttributeNS(ir,e,t):Lr(n,e,t)}function Lr(n,e,t){if(sr(t))n.removeAttribute(e);else{if(K&&!Z&&"TEXTAREA"===n.tagName&&"placeholder"===e&&""!==t&&!n.__ieph){var r=function(e){e.stopImmediatePropagation(),n.removeEventListener("input",r)};n.addEventListener("input",r),n.__ieph=!0}n.setAttribute(e,t)}}var Br={create:$r,update:$r};function Mr(n,e){var t=e.elm,r=e.data,i=n.data;if(!(o(r.staticClass)&&o(r.class)&&(o(i)||o(i.staticClass)&&o(i.class)))){var s=lr(e),l=t._transitionClasses;a(l)&&(s=ur(s,pr(l))),s!==t._prevClass&&(t.setAttribute("class",s),t._prevClass=s)}}var Rr,Dr={create:Mr,update:Mr};function qr(n,e,t){var r=Rr;return function i(){var o=e.apply(null,arguments);null!==o&&Ur(n,i,t,r)}}var Fr=Oe&&!(en&&Number(en[1])<=53);function Nr(n,e,t,r){if(Fr){var i=at,o=e;e=o._wrapper=function(n){if(n.target===n.currentTarget||n.timeStamp>=i||n.timeStamp<=0||n.target.ownerDocument!==document)return o.apply(this,arguments)}}Rr.addEventListener(n,e,rn?{capture:t,passive:r}:t)}function Ur(n,e,t,r){(r||Rr).removeEventListener(n,e._wrapper||e,t)}function Xr(n,e){if(!o(n.data.on)||!o(e.data.on)){var t=e.data.on||{},r=n.data.on||{};Rr=e.elm||n.elm,function(n){if(a(n.__r)){var e=K?"change":"input";n[e]=[].concat(n.__r,n[e]||[]),delete n.__r}a(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c)}(t),Jn(t,r,Nr,Ur,qr,e.context),Rr=void 0}}var Jr,Vr={create:Xr,update:Xr,destroy:function(n){return Xr(n,wr)}};function Hr(n,e){if(!o(n.data.domProps)||!o(e.data.domProps)){var t,r,i=e.elm,l=n.data.domProps||{},c=e.data.domProps||{};for(t in(a(c.__ob__)||s(c._v_attr_proxy))&&(c=e.data.domProps=I({},c)),l)t in c||(i[t]="");for(t in c){if(r=c[t],"textContent"===t||"innerHTML"===t){if(e.children&&(e.children.length=0),r===l[t])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===t&&"PROGRESS"!==i.tagName){i._value=r;var u=o(r)?"":String(r);Gr(i,u)&&(i.value=u)}else if("innerHTML"===t&&fr(i.tagName)&&o(i.innerHTML)){(Jr=Jr||document.createElement("div")).innerHTML="<svg>".concat(r,"</svg>");for(var p=Jr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;p.firstChild;)i.appendChild(p.firstChild)}else if(r!==l[t])try{i[t]=r}catch(n){}}}}function Gr(n,e){return!n.composing&&("OPTION"===n.tagName||function(n,e){var t=!0;try{t=document.activeElement!==n}catch(n){}return t&&n.value!==e}(n,e)||function(n,e){var t=n.value,r=n._vModifiers;if(a(r)){if(r.number)return y(t)!==y(e);if(r.trim)return t.trim()!==e.trim()}return t!==e}(n,e))}var Wr={create:Hr,update:Hr},Kr=k((function(n){var e={},t=/:(.+)/;return n.split(/;(?![^(]*\))/g).forEach((function(n){if(n){var r=n.split(t);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function Zr(n){var e=Yr(n.style);return n.staticStyle?I(n.staticStyle,e):e}function Yr(n){return Array.isArray(n)?S(n):"string"==typeof n?Kr(n):n}var Qr,ni=/^--/,ei=/\s*!important$/,ti=function(n,e,t){if(ni.test(e))n.style.setProperty(e,t);else if(ei.test(t))n.style.setProperty(C(e),t.replace(ei,""),"important");else{var r=ii(e);if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)n.style[r]=t[i];else n.style[r]=t}},ri=["Webkit","Moz","ms"],ii=k((function(n){if(Qr=Qr||document.createElement("div").style,"filter"!==(n=P(n))&&n in Qr)return n;for(var e=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<ri.length;t++){var r=ri[t]+e;if(r in Qr)return r}}));function oi(n,e){var t=e.data,r=n.data;if(!(o(t.staticStyle)&&o(t.style)&&o(r.staticStyle)&&o(r.style))){var i,s,l=e.elm,c=r.staticStyle,u=r.normalizedStyle||r.style||{},p=c||u,d=Yr(e.data.style)||{};e.data.normalizedStyle=a(d.__ob__)?I({},d):d;var h=function(n,e){var t,r={};if(e)for(var i=n;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(t=Zr(i.data))&&I(r,t);(t=Zr(n.data))&&I(r,t);for(var o=n;o=o.parent;)o.data&&(t=Zr(o.data))&&I(r,t);return r}(e,!0);for(s in p)o(h[s])&&ti(l,s,"");for(s in h)(i=h[s])!==p[s]&&ti(l,s,null==i?"":i)}}var ai={create:oi,update:oi},si=/\s+/;function li(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(si).forEach((function(e){return n.classList.add(e)})):n.classList.add(e);else{var t=" ".concat(n.getAttribute("class")||""," ");t.indexOf(" "+e+" ")<0&&n.setAttribute("class",(t+e).trim())}}function ci(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(si).forEach((function(e){return n.classList.remove(e)})):n.classList.remove(e),n.classList.length||n.removeAttribute("class");else{for(var t=" ".concat(n.getAttribute("class")||""," "),r=" "+e+" ";t.indexOf(r)>=0;)t=t.replace(r," ");(t=t.trim())?n.setAttribute("class",t):n.removeAttribute("class")}}function ui(n){if(n){if("object"==typeof n){var e={};return!1!==n.css&&I(e,pi(n.name||"v")),I(e,n),e}return"string"==typeof n?pi(n):void 0}}var pi=k((function(n){return{enterClass:"".concat(n,"-enter"),enterToClass:"".concat(n,"-enter-to"),enterActiveClass:"".concat(n,"-enter-active"),leaveClass:"".concat(n,"-leave"),leaveToClass:"".concat(n,"-leave-to"),leaveActiveClass:"".concat(n,"-leave-active")}})),di=G&&!Z,hi="transition",fi="transitionend",mi="animation",gi="animationend";di&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(hi="WebkitTransition",fi="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(mi="WebkitAnimation",gi="webkitAnimationEnd"));var yi=G?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(n){return n()};function vi(n){yi((function(){yi(n)}))}function _i(n,e){var t=n._transitionClasses||(n._transitionClasses=[]);t.indexOf(e)<0&&(t.push(e),li(n,e))}function bi(n,e){n._transitionClasses&&b(n._transitionClasses,e),ci(n,e)}function xi(n,e,t){var r=ki(n,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return t();var s="transition"===i?fi:gi,l=0,c=function(){n.removeEventListener(s,u),t()},u=function(e){e.target===n&&++l>=a&&c()};setTimeout((function(){l<a&&c()}),o+1),n.addEventListener(s,u)}var wi=/\b(transform|all)(,|$)/;function ki(n,e){var t,r=window.getComputedStyle(n),i=(r[hi+"Delay"]||"").split(", "),o=(r[hi+"Duration"]||"").split(", "),a=ji(i,o),s=(r[mi+"Delay"]||"").split(", "),l=(r[mi+"Duration"]||"").split(", "),c=ji(s,l),u=0,p=0;return"transition"===e?a>0&&(t="transition",u=a,p=o.length):"animation"===e?c>0&&(t="animation",u=c,p=l.length):p=(t=(u=Math.max(a,c))>0?a>c?"transition":"animation":null)?"transition"===t?o.length:l.length:0,{type:t,timeout:u,propCount:p,hasTransform:"transition"===t&&wi.test(r[hi+"Property"])}}function ji(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max.apply(null,e.map((function(e,t){return Pi(e)+Pi(n[t])})))}function Pi(n){return 1e3*Number(n.slice(0,-1).replace(",","."))}function Ti(n,e){var t=n.elm;a(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var r=ui(n.data.transition);if(!o(r)&&!a(t._enterCb)&&1===t.nodeType){for(var i=r.css,s=r.type,l=r.enterClass,p=r.enterToClass,d=r.enterActiveClass,h=r.appearClass,f=r.appearToClass,m=r.appearActiveClass,g=r.beforeEnter,v=r.enter,_=r.afterEnter,b=r.enterCancelled,x=r.beforeAppear,w=r.appear,k=r.afterAppear,j=r.appearCancelled,P=r.duration,T=We,A=We.$vnode;A&&A.parent;)T=A.context,A=A.parent;var C=!T._isMounted||!n.isRootInsert;if(!C||w||""===w){var E=C&&h?h:l,O=C&&m?m:d,I=C&&f?f:p,S=C&&x||g,$=C&&c(w)?w:v,z=C&&k||_,L=C&&j||b,B=y(u(P)?P.enter:P);0;var M=!1!==i&&!Z,D=Ei($),q=t._enterCb=R((function(){M&&(bi(t,I),bi(t,O)),q.cancelled?(M&&bi(t,E),L&&L(t)):z&&z(t),t._enterCb=null}));n.data.show||Vn(n,"insert",(function(){var e=t.parentNode,r=e&&e._pending&&e._pending[n.key];r&&r.tag===n.tag&&r.elm._leaveCb&&r.elm._leaveCb(),$&&$(t,q)})),S&&S(t),M&&(_i(t,E),_i(t,O),vi((function(){bi(t,E),q.cancelled||(_i(t,I),D||(Ci(B)?setTimeout(q,B):xi(t,s,q)))}))),n.data.show&&(e&&e(),$&&$(t,q)),M||D||q()}}}function Ai(n,e){var t=n.elm;a(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var r=ui(n.data.transition);if(o(r)||1!==t.nodeType)return e();if(!a(t._leaveCb)){var i=r.css,s=r.type,l=r.leaveClass,c=r.leaveToClass,p=r.leaveActiveClass,d=r.beforeLeave,h=r.leave,f=r.afterLeave,m=r.leaveCancelled,g=r.delayLeave,v=r.duration,_=!1!==i&&!Z,b=Ei(h),x=y(u(v)?v.leave:v);0;var w=t._leaveCb=R((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[n.key]=null),_&&(bi(t,c),bi(t,p)),w.cancelled?(_&&bi(t,l),m&&m(t)):(e(),f&&f(t)),t._leaveCb=null}));g?g(k):k()}function k(){w.cancelled||(!n.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[n.key]=n),d&&d(t),_&&(_i(t,l),_i(t,p),vi((function(){bi(t,l),w.cancelled||(_i(t,c),b||(Ci(x)?setTimeout(w,x):xi(t,s,w)))}))),h&&h(t,w),_||b||w())}}function Ci(n){return"number"==typeof n&&!isNaN(n)}function Ei(n){if(o(n))return!1;var e=n.fns;return a(e)?Ei(Array.isArray(e)?e[0]:e):(n._length||n.length)>1}function Oi(n,e){!0!==e.data.show&&Ti(e)}var Ii=function(n){var e,t,r={},c=n.modules,u=n.nodeOps;for(e=0;e<kr.length;++e)for(r[kr[e]]=[],t=0;t<c.length;++t)a(c[t][kr[e]])&&r[kr[e]].push(c[t][kr[e]]);function p(n){var e=u.parentNode(n);a(e)&&u.removeChild(e,n)}function d(n,e,t,i,o,l,c){if(a(n.elm)&&a(l)&&(n=l[c]=gn(n)),n.isRootInsert=!o,!function(n,e,t,i){var o=n.data;if(a(o)){var l=a(n.componentInstance)&&o.keepAlive;if(a(o=o.hook)&&a(o=o.init)&&o(n,!1),a(n.componentInstance))return h(n,e),f(t,n.elm,i),s(l)&&function(n,e,t,i){var o,s=n;for(;s.componentInstance;)if(s=s.componentInstance._vnode,a(o=s.data)&&a(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o](wr,s);e.push(s);break}f(t,n.elm,i)}(n,e,t,i),!0}}(n,e,t,i)){var p=n.data,d=n.children,g=n.tag;a(g)?(n.elm=n.ns?u.createElementNS(n.ns,g):u.createElement(g,n),_(n),m(n,d,e),a(p)&&y(n,e),f(t,n.elm,i)):s(n.isComment)?(n.elm=u.createComment(n.text),f(t,n.elm,i)):(n.elm=u.createTextNode(n.text),f(t,n.elm,i))}}function h(n,e){a(n.data.pendingInsert)&&(e.push.apply(e,n.data.pendingInsert),n.data.pendingInsert=null),n.elm=n.componentInstance.$el,g(n)?(y(n,e),_(n)):(br(n),e.push(n))}function f(n,e,t){a(n)&&(a(t)?u.parentNode(t)===n&&u.insertBefore(n,e,t):u.appendChild(n,e))}function m(n,e,t){if(i(e)){0;for(var r=0;r<e.length;++r)d(e[r],t,n.elm,null,!0,e,r)}else l(n.text)&&u.appendChild(n.elm,u.createTextNode(String(n.text)))}function g(n){for(;n.componentInstance;)n=n.componentInstance._vnode;return a(n.tag)}function y(n,t){for(var i=0;i<r.create.length;++i)r.create[i](wr,n);a(e=n.data.hook)&&(a(e.create)&&e.create(wr,n),a(e.insert)&&t.push(n))}function _(n){var e;if(a(e=n.fnScopeId))u.setStyleScope(n.elm,e);else for(var t=n;t;)a(e=t.context)&&a(e=e.$options._scopeId)&&u.setStyleScope(n.elm,e),t=t.parent;a(e=We)&&e!==n.context&&e!==n.fnContext&&a(e=e.$options._scopeId)&&u.setStyleScope(n.elm,e)}function b(n,e,t,r,i,o){for(;r<=i;++r)d(t[r],o,n,e,!1,t,r)}function x(n){var e,t,i=n.data;if(a(i))for(a(e=i.hook)&&a(e=e.destroy)&&e(n),e=0;e<r.destroy.length;++e)r.destroy[e](n);if(a(e=n.children))for(t=0;t<n.children.length;++t)x(n.children[t])}function w(n,e,t){for(;e<=t;++e){var r=n[e];a(r)&&(a(r.tag)?(k(r),x(r)):p(r.elm))}}function k(n,e){if(a(e)||a(n.data)){var t,i=r.remove.length+1;for(a(e)?e.listeners+=i:e=function(n,e){function t(){0==--t.listeners&&p(n)}return t.listeners=e,t}(n.elm,i),a(t=n.componentInstance)&&a(t=t._vnode)&&a(t.data)&&k(t,e),t=0;t<r.remove.length;++t)r.remove[t](n,e);a(t=n.data.hook)&&a(t=t.remove)?t(n,e):e()}else p(n.elm)}function j(n,e,t,r){for(var i=t;i<r;i++){var o=e[i];if(a(o)&&jr(n,o))return i}}function P(n,e,t,i,l,c){if(n!==e){a(e.elm)&&a(i)&&(e=i[l]=gn(e));var p=e.elm=n.elm;if(s(n.isAsyncPlaceholder))a(e.asyncFactory.resolved)?C(n.elm,e,t):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(n.isStatic)&&e.key===n.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=n.componentInstance;else{var h,f=e.data;a(f)&&a(h=f.hook)&&a(h=h.prepatch)&&h(n,e);var m=n.children,y=e.children;if(a(f)&&g(e)){for(h=0;h<r.update.length;++h)r.update[h](n,e);a(h=f.hook)&&a(h=h.update)&&h(n,e)}o(e.text)?a(m)&&a(y)?m!==y&&function(n,e,t,r,i){var s,l,c,p=0,h=0,f=e.length-1,m=e[0],g=e[f],y=t.length-1,v=t[0],_=t[y],x=!i;for(0;p<=f&&h<=y;)o(m)?m=e[++p]:o(g)?g=e[--f]:jr(m,v)?(P(m,v,r,t,h),m=e[++p],v=t[++h]):jr(g,_)?(P(g,_,r,t,y),g=e[--f],_=t[--y]):jr(m,_)?(P(m,_,r,t,y),x&&u.insertBefore(n,m.elm,u.nextSibling(g.elm)),m=e[++p],_=t[--y]):jr(g,v)?(P(g,v,r,t,h),x&&u.insertBefore(n,g.elm,m.elm),g=e[--f],v=t[++h]):(o(s)&&(s=Pr(e,p,f)),o(l=a(v.key)?s[v.key]:j(v,e,p,f))?d(v,r,n,m.elm,!1,t,h):jr(c=e[l],v)?(P(c,v,r,t,h),e[l]=void 0,x&&u.insertBefore(n,c.elm,m.elm)):d(v,r,n,m.elm,!1,t,h),v=t[++h]);p>f?b(n,o(t[y+1])?null:t[y+1].elm,t,h,y,r):h>y&&w(e,p,f)}(p,m,y,t,c):a(y)?(a(n.text)&&u.setTextContent(p,""),b(p,null,y,0,y.length-1,t)):a(m)?w(m,0,m.length-1):a(n.text)&&u.setTextContent(p,""):n.text!==e.text&&u.setTextContent(p,e.text),a(f)&&a(h=f.hook)&&a(h=h.postpatch)&&h(n,e)}}}function T(n,e,t){if(s(t)&&a(n.parent))n.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var A=v("attrs,class,staticClass,staticStyle,key");function C(n,e,t,r){var i,o=e.tag,l=e.data,c=e.children;if(r=r||l&&l.pre,e.elm=n,s(e.isComment)&&a(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(a(l)&&(a(i=l.hook)&&a(i=i.init)&&i(e,!0),a(i=e.componentInstance)))return h(e,t),!0;if(a(o)){if(a(c))if(n.hasChildNodes())if(a(i=l)&&a(i=i.domProps)&&a(i=i.innerHTML)){if(i!==n.innerHTML)return!1}else{for(var u=!0,p=n.firstChild,d=0;d<c.length;d++){if(!p||!C(p,c[d],t,r)){u=!1;break}p=p.nextSibling}if(!u||p)return!1}else m(e,c,t);if(a(l)){var f=!1;for(var g in l)if(!A(g)){f=!0,y(e,t);break}!f&&l.class&&Fe(l.class)}}else n.data!==e.text&&(n.data=e.text);return!0}return function(n,e,t,i){if(!o(e)){var l,c=!1,p=[];if(o(n))c=!0,d(e,p);else{var h=a(n.nodeType);if(!h&&jr(n,e))P(n,e,p,null,null,i);else{if(h){if(1===n.nodeType&&n.hasAttribute("data-server-rendered")&&(n.removeAttribute("data-server-rendered"),t=!0),s(t)&&C(n,e,p))return T(e,p,!0),n;l=n,n=new hn(u.tagName(l).toLowerCase(),{},[],void 0,l)}var f=n.elm,m=u.parentNode(f);if(d(e,p,f._leaveCb?null:m,u.nextSibling(f)),a(e.parent))for(var y=e.parent,v=g(e);y;){for(var _=0;_<r.destroy.length;++_)r.destroy[_](y);if(y.elm=e.elm,v){for(var b=0;b<r.create.length;++b)r.create[b](wr,y);var k=y.data.hook.insert;if(k.merged)for(var j=1;j<k.fns.length;j++)k.fns[j]()}else br(y);y=y.parent}a(m)?w([n],0,0):a(n.tag)&&x(n)}}return T(e,p,c),e.elm}a(n)&&x(n)}}({nodeOps:vr,modules:[Br,Dr,Vr,Wr,ai,G?{create:Oi,activate:Oi,remove:function(n,e){!0!==n.data.show?Ai(n,e):e()}}:{}].concat(Sr)});Z&&document.addEventListener("selectionchange",(function(){var n=document.activeElement;n&&n.vmodel&&Di(n,"input")}));var Si={inserted:function(n,e,t,r){"select"===t.tag?(r.elm&&!r.elm._vOptions?Vn(t,"postpatch",(function(){Si.componentUpdated(n,e,t)})):$i(n,e,t.context),n._vOptions=[].map.call(n.options,Bi)):("textarea"===t.tag||yr(n.type))&&(n._vModifiers=e.modifiers,e.modifiers.lazy||(n.addEventListener("compositionstart",Mi),n.addEventListener("compositionend",Ri),n.addEventListener("change",Ri),Z&&(n.vmodel=!0)))},componentUpdated:function(n,e,t){if("select"===t.tag){$i(n,e,t.context);var r=n._vOptions,i=n._vOptions=[].map.call(n.options,Bi);if(i.some((function(n,e){return!B(n,r[e])})))(n.multiple?e.value.some((function(n){return Li(n,i)})):e.value!==e.oldValue&&Li(e.value,i))&&Di(n,"change")}}};function $i(n,e,t){zi(n,e,t),(K||Y)&&setTimeout((function(){zi(n,e,t)}),0)}function zi(n,e,t){var r=e.value,i=n.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,l=n.options.length;s<l;s++)if(a=n.options[s],i)o=M(r,Bi(a))>-1,a.selected!==o&&(a.selected=o);else if(B(Bi(a),r))return void(n.selectedIndex!==s&&(n.selectedIndex=s));i||(n.selectedIndex=-1)}}function Li(n,e){return e.every((function(e){return!B(e,n)}))}function Bi(n){return"_value"in n?n._value:n.value}function Mi(n){n.target.composing=!0}function Ri(n){n.target.composing&&(n.target.composing=!1,Di(n.target,"input"))}function Di(n,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}function qi(n){return!n.componentInstance||n.data&&n.data.transition?n:qi(n.componentInstance._vnode)}var Fi={model:Si,show:{bind:function(n,e,t){var r=e.value,i=(t=qi(t)).data&&t.data.transition,o=n.__vOriginalDisplay="none"===n.style.display?"":n.style.display;r&&i?(t.data.show=!0,Ti(t,(function(){n.style.display=o}))):n.style.display=r?o:"none"},update:function(n,e,t){var r=e.value;!r!=!e.oldValue&&((t=qi(t)).data&&t.data.transition?(t.data.show=!0,r?Ti(t,(function(){n.style.display=n.__vOriginalDisplay})):Ai(t,(function(){n.style.display="none"}))):n.style.display=r?n.__vOriginalDisplay:"none")},unbind:function(n,e,t,r,i){i||(n.style.display=n.__vOriginalDisplay)}}},Ni={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Ui(n){var e=n&&n.componentOptions;return e&&e.Ctor.options.abstract?Ui(ke(e.children)):n}function Xi(n){var e={},t=n.$options;for(var r in t.propsData)e[r]=n[r];var i=t._parentListeners;for(var r in i)e[P(r)]=i[r];return e}function Ji(n,e){if(/\d-keep-alive$/.test(e.tag))return n("keep-alive",{props:e.componentOptions.propsData})}var Vi=function(n){return n.tag||he(n)},Hi=function(n){return"show"===n.name},Gi={name:"transition",props:Ni,abstract:!0,render:function(n){var e=this,t=this.$slots.default;if(t&&(t=t.filter(Vi)).length){0;var r=this.mode;0;var i=t[0];if(function(n){for(;n=n.parent;)if(n.data.transition)return!0}(this.$vnode))return i;var o=Ui(i);if(!o)return i;if(this._leaving)return Ji(n,i);var a="__transition-".concat(this._uid,"-");o.key=null==o.key?o.isComment?a+"comment":a+o.tag:l(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var s=(o.data||(o.data={})).transition=Xi(this),c=this._vnode,u=Ui(c);if(o.data.directives&&o.data.directives.some(Hi)&&(o.data.show=!0),u&&u.data&&!function(n,e){return e.key===n.key&&e.tag===n.tag}(o,u)&&!he(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var p=u.data.transition=I({},s);if("out-in"===r)return this._leaving=!0,Vn(p,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Ji(n,i);if("in-out"===r){if(he(o))return c;var d,h=function(){d()};Vn(s,"afterEnter",h),Vn(s,"enterCancelled",h),Vn(p,"delayLeave",(function(n){d=n}))}}return i}}},Wi=I({tag:String,moveClass:String},Ni);function Ki(n){n.elm._moveCb&&n.elm._moveCb(),n.elm._enterCb&&n.elm._enterCb()}function Zi(n){n.data.newPos=n.elm.getBoundingClientRect()}function Yi(n){var e=n.data.pos,t=n.data.newPos,r=e.left-t.left,i=e.top-t.top;if(r||i){n.data.moved=!0;var o=n.elm.style;o.transform=o.WebkitTransform="translate(".concat(r,"px,").concat(i,"px)"),o.transitionDuration="0s"}}delete Wi.mode;var Qi={Transition:Gi,TransitionGroup:{props:Wi,beforeMount:function(){var n=this,e=this._update;this._update=function(t,r){var i=Ke(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,i(),e.call(n,t,r)}},render:function(n){for(var e=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=Xi(this),s=0;s<i.length;s++){if((u=i[s]).tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),t[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(r){var l=[],c=[];for(s=0;s<r.length;s++){var u;(u=r[s]).data.transition=a,u.data.pos=u.elm.getBoundingClientRect(),t[u.key]?l.push(u):c.push(u)}this.kept=n(e,null,l),this.removed=c}return n(e,null,o)},updated:function(){var n=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";n.length&&this.hasMove(n[0].elm,e)&&(n.forEach(Ki),n.forEach(Zi),n.forEach(Yi),this._reflow=document.body.offsetHeight,n.forEach((function(n){if(n.data.moved){var t=n.elm,r=t.style;_i(t,e),r.transform=r.WebkitTransform=r.transitionDuration="",t.addEventListener(fi,t._moveCb=function n(r){r&&r.target!==t||r&&!/transform$/.test(r.propertyName)||(t.removeEventListener(fi,n),t._moveCb=null,bi(t,e))})}})))},methods:{hasMove:function(n,e){if(!di)return!1;if(this._hasMove)return this._hasMove;var t=n.cloneNode();n._transitionClasses&&n._transitionClasses.forEach((function(n){ci(t,n)})),li(t,e),t.style.display="none",this.$el.appendChild(t);var r=ki(t);return this.$el.removeChild(t),this._hasMove=r.hasTransform}}}};function no(n,e){for(var t in e)n[t]=e[t];return n}Jt.config.mustUseProp=function(n,e,t){return"value"===t&&nr(n)&&"button"!==e||"selected"===t&&"option"===n||"checked"===t&&"input"===n||"muted"===t&&"video"===n},Jt.config.isReservedTag=mr,Jt.config.isReservedAttr=Qt,Jt.config.getTagNamespace=function(n){return fr(n)?"svg":"math"===n?"math":void 0},Jt.config.isUnknownElement=function(n){if(!G)return!0;if(mr(n))return!1;if(n=n.toLowerCase(),null!=gr[n])return gr[n];var e=document.createElement(n);return n.indexOf("-")>-1?gr[n]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:gr[n]=/HTMLUnknownElement/.test(e.toString())},I(Jt.options.directives,Fi),I(Jt.options.components,Qi),Jt.prototype.__patch__=G?Ii:$,Jt.prototype.$mount=function(n,e){return function(n,e,t){var r;n.$el=e,n.$options.render||(n.$options.render=fn),Qe(n,"beforeMount"),r=function(){n._update(n._render(),t)},new Xe(n,r,$,{before:function(){n._isMounted&&!n._isDestroyed&&Qe(n,"beforeUpdate")}},!0),t=!1;var i=n._preWatchers;if(i)for(var o=0;o<i.length;o++)i[o].run();return null==n.$vnode&&(n._isMounted=!0,Qe(n,"mounted")),n}(this,n=n&&G?function(n){if("string"==typeof n){var e=document.querySelector(n);return e||document.createElement("div")}return n}(n):void 0,e)},G&&setTimeout((function(){N.devtools&&sn&&sn.emit("init",Jt)}),0);var eo=/[!'()*]/g,to=function(n){return"%"+n.charCodeAt(0).toString(16)},ro=/%2C/g,io=function(n){return encodeURIComponent(n).replace(eo,to).replace(ro,",")};function oo(n){try{return decodeURIComponent(n)}catch(n){0}return n}var ao=function(n){return null==n||"object"==typeof n?n:String(n)};function so(n){var e={};return(n=n.trim().replace(/^(\?|#|&)/,""))?(n.split("&").forEach((function(n){var t=n.replace(/\+/g," ").split("="),r=oo(t.shift()),i=t.length>0?oo(t.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]})),e):e}function lo(n){var e=n?Object.keys(n).map((function(e){var t=n[e];if(void 0===t)return"";if(null===t)return io(e);if(Array.isArray(t)){var r=[];return t.forEach((function(n){void 0!==n&&(null===n?r.push(io(e)):r.push(io(e)+"="+io(n)))})),r.join("&")}return io(e)+"="+io(t)})).filter((function(n){return n.length>0})).join("&"):null;return e?"?"+e:""}var co=/\/?$/;function uo(n,e,t,r){var i=r&&r.options.stringifyQuery,o=e.query||{};try{o=po(o)}catch(n){}var a={name:e.name||n&&n.name,meta:n&&n.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:mo(e,i),matched:n?fo(n):[]};return t&&(a.redirectedFrom=mo(t,i)),Object.freeze(a)}function po(n){if(Array.isArray(n))return n.map(po);if(n&&"object"==typeof n){var e={};for(var t in n)e[t]=po(n[t]);return e}return n}var ho=uo(null,{path:"/"});function fo(n){for(var e=[];n;)e.unshift(n),n=n.parent;return e}function mo(n,e){var t=n.path,r=n.query;void 0===r&&(r={});var i=n.hash;return void 0===i&&(i=""),(t||"/")+(e||lo)(r)+i}function go(n,e,t){return e===ho?n===e:!!e&&(n.path&&e.path?n.path.replace(co,"")===e.path.replace(co,"")&&(t||n.hash===e.hash&&yo(n.query,e.query)):!(!n.name||!e.name)&&(n.name===e.name&&(t||n.hash===e.hash&&yo(n.query,e.query)&&yo(n.params,e.params))))}function yo(n,e){if(void 0===n&&(n={}),void 0===e&&(e={}),!n||!e)return n===e;var t=Object.keys(n).sort(),r=Object.keys(e).sort();return t.length===r.length&&t.every((function(t,i){var o=n[t];if(r[i]!==t)return!1;var a=e[t];return null==o||null==a?o===a:"object"==typeof o&&"object"==typeof a?yo(o,a):String(o)===String(a)}))}function vo(n){for(var e=0;e<n.matched.length;e++){var t=n.matched[e];for(var r in t.instances){var i=t.instances[r],o=t.enteredCbs[r];if(i&&o){delete t.enteredCbs[r];for(var a=0;a<o.length;a++)i._isBeingDestroyed||o[a](i)}}}}var _o={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,e){var t=e.props,r=e.children,i=e.parent,o=e.data;o.routerView=!0;for(var a=i.$createElement,s=t.name,l=i.$route,c=i._routerViewCache||(i._routerViewCache={}),u=0,p=!1;i&&i._routerRoot!==i;){var d=i.$vnode?i.$vnode.data:{};d.routerView&&u++,d.keepAlive&&i._directInactive&&i._inactive&&(p=!0),i=i.$parent}if(o.routerViewDepth=u,p){var h=c[s],f=h&&h.component;return f?(h.configProps&&bo(f,o,h.route,h.configProps),a(f,o,r)):a()}var m=l.matched[u],g=m&&m.components[s];if(!m||!g)return c[s]=null,a();c[s]={component:g},o.registerRouteInstance=function(n,e){var t=m.instances[s];(e&&t!==n||!e&&t===n)&&(m.instances[s]=e)},(o.hook||(o.hook={})).prepatch=function(n,e){m.instances[s]=e.componentInstance},o.hook.init=function(n){n.data.keepAlive&&n.componentInstance&&n.componentInstance!==m.instances[s]&&(m.instances[s]=n.componentInstance),vo(l)};var y=m.props&&m.props[s];return y&&(no(c[s],{route:l,configProps:y}),bo(g,o,l,y)),a(g,o,r)}};function bo(n,e,t,r){var i=e.props=function(n,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(n);case"boolean":return e?n.params:void 0;default:0}}(t,r);if(i){i=e.props=no({},i);var o=e.attrs=e.attrs||{};for(var a in i)n.props&&a in n.props||(o[a]=i[a],delete i[a])}}function xo(n,e,t){var r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;var i=e.split("/");t&&i[i.length-1]||i.pop();for(var o=n.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function wo(n){return n.replace(/\/(?:\s*\/)+/g,"/")}var ko=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)},jo=Ro,Po=Oo,To=function(n,e){return So(Oo(n,e),e)},Ao=So,Co=Mo,Eo=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Oo(n,e){for(var t,r=[],i=0,o=0,a="",s=e&&e.delimiter||"/";null!=(t=Eo.exec(n));){var l=t[0],c=t[1],u=t.index;if(a+=n.slice(o,u),o=u+l.length,c)a+=c[1];else{var p=n[o],d=t[2],h=t[3],f=t[4],m=t[5],g=t[6],y=t[7];a&&(r.push(a),a="");var v=null!=d&&null!=p&&p!==d,_="+"===g||"*"===g,b="?"===g||"*"===g,x=t[2]||s,w=f||m;r.push({name:h||i++,prefix:d||"",delimiter:x,optional:b,repeat:_,partial:v,asterisk:!!y,pattern:w?zo(w):y?".*":"[^"+$o(x)+"]+?"})}}return o<n.length&&(a+=n.substr(o)),a&&r.push(a),r}function Io(n){return encodeURI(n).replace(/[\/?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}))}function So(n,e){for(var t=new Array(n.length),r=0;r<n.length;r++)"object"==typeof n[r]&&(t[r]=new RegExp("^(?:"+n[r].pattern+")$",Bo(e)));return function(e,r){for(var i="",o=e||{},a=(r||{}).pretty?Io:encodeURIComponent,s=0;s<n.length;s++){var l=n[s];if("string"!=typeof l){var c,u=o[l.name];if(null==u){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(ko(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<u.length;p++){if(c=a(u[p]),!t[s].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");i+=(0===p?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(u).replace(/[?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})):a(u),!t[s].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');i+=l.prefix+c}}else i+=l}return i}}function $o(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function zo(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function Lo(n,e){return n.keys=e,n}function Bo(n){return n&&n.sensitive?"":"i"}function Mo(n,e,t){ko(e)||(t=e||t,e=[]);for(var r=(t=t||{}).strict,i=!1!==t.end,o="",a=0;a<n.length;a++){var s=n[a];if("string"==typeof s)o+=$o(s);else{var l=$o(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+l+c+")*"),o+=c=s.optional?s.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var u=$o(t.delimiter||"/"),p=o.slice(-u.length)===u;return r||(o=(p?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=i?"$":r&&p?"":"(?="+u+"|$)",Lo(new RegExp("^"+o,Bo(t)),e)}function Ro(n,e,t){return ko(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?function(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Lo(n,e)}(n,e):ko(n)?function(n,e,t){for(var r=[],i=0;i<n.length;i++)r.push(Ro(n[i],e,t).source);return Lo(new RegExp("(?:"+r.join("|")+")",Bo(t)),e)}(n,e,t):function(n,e,t){return Mo(Oo(n,t),e,t)}(n,e,t)}jo.parse=Po,jo.compile=To,jo.tokensToFunction=Ao,jo.tokensToRegExp=Co;var Do=Object.create(null);function qo(n,e,t){e=e||{};try{var r=Do[n]||(Do[n]=jo.compile(n));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(n){return""}finally{delete e[0]}}function Fo(n,e,t,r){var i="string"==typeof n?{path:n}:n;if(i._normalized)return i;if(i.name){var o=(i=no({},n)).params;return o&&"object"==typeof o&&(i.params=no({},o)),i}if(!i.path&&i.params&&e){(i=no({},i))._normalized=!0;var a=no(no({},e.params),i.params);if(e.name)i.name=e.name,i.params=a;else if(e.matched.length){var s=e.matched[e.matched.length-1].path;i.path=qo(s,a,e.path)}else 0;return i}var l=function(n){var e="",t="",r=n.indexOf("#");r>=0&&(e=n.slice(r),n=n.slice(0,r));var i=n.indexOf("?");return i>=0&&(t=n.slice(i+1),n=n.slice(0,i)),{path:n,query:t,hash:e}}(i.path||""),c=e&&e.path||"/",u=l.path?xo(l.path,c,t||i.append):c,p=function(n,e,t){void 0===e&&(e={});var r,i=t||so;try{r=i(n||"")}catch(n){r={}}for(var o in e){var a=e[o];r[o]=Array.isArray(a)?a.map(ao):ao(a)}return r}(l.query,i.query,r&&r.options.parseQuery),d=i.hash||l.hash;return d&&"#"!==d.charAt(0)&&(d="#"+d),{_normalized:!0,path:u,query:p,hash:d}}var No,Uo=function(){},Xo={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(n){var e=this,t=this.$router,r=this.$route,i=t.resolve(this.to,r,this.append),o=i.location,a=i.route,s=i.href,l={},c=t.options.linkActiveClass,u=t.options.linkExactActiveClass,p=null==c?"router-link-active":c,d=null==u?"router-link-exact-active":u,h=null==this.activeClass?p:this.activeClass,f=null==this.exactActiveClass?d:this.exactActiveClass,m=a.redirectedFrom?uo(null,Fo(a.redirectedFrom),null,t):a;l[f]=go(r,m,this.exactPath),l[h]=this.exact||this.exactPath?l[f]:function(n,e){return 0===n.path.replace(co,"/").indexOf(e.path.replace(co,"/"))&&(!e.hash||n.hash===e.hash)&&function(n,e){for(var t in e)if(!(t in n))return!1;return!0}(n.query,e.query)}(r,m);var g=l[f]?this.ariaCurrentValue:null,y=function(n){Jo(n)&&(e.replace?t.replace(o,Uo):t.push(o,Uo))},v={click:Jo};Array.isArray(this.event)?this.event.forEach((function(n){v[n]=y})):v[this.event]=y;var _={class:l},b=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:s,route:a,navigate:y,isActive:l[h],isExactActive:l[f]});if(b){if(1===b.length)return b[0];if(b.length>1||!b.length)return 0===b.length?n():n("span",{},b)}if("a"===this.tag)_.on=v,_.attrs={href:s,"aria-current":g};else{var x=function n(e){var t;if(e)for(var r=0;r<e.length;r++){if("a"===(t=e[r]).tag)return t;if(t.children&&(t=n(t.children)))return t}}(this.$slots.default);if(x){x.isStatic=!1;var w=x.data=no({},x.data);for(var k in w.on=w.on||{},w.on){var j=w.on[k];k in v&&(w.on[k]=Array.isArray(j)?j:[j])}for(var P in v)P in w.on?w.on[P].push(v[P]):w.on[P]=y;var T=x.data.attrs=no({},x.data.attrs);T.href=s,T["aria-current"]=g}else _.on=v}return n(this.tag,_,this.$slots.default)}};function Jo(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.defaultPrevented||void 0!==n.button&&0!==n.button)){if(n.currentTarget&&n.currentTarget.getAttribute){var e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}var Vo="undefined"!=typeof window;function Ho(n,e,t,r,i){var o=e||[],a=t||Object.create(null),s=r||Object.create(null);n.forEach((function(n){!function n(e,t,r,i,o,a){var s=i.path,l=i.name;0;var c=i.pathToRegexpOptions||{},u=function(n,e,t){t||(n=n.replace(/\/$/,""));if("/"===n[0])return n;if(null==e)return n;return wo(e.path+"/"+n)}(s,o,c.strict);"boolean"==typeof i.caseSensitive&&(c.sensitive=i.caseSensitive);var p={path:u,regex:Go(u,c),components:i.components||{default:i.component},alias:i.alias?"string"==typeof i.alias?[i.alias]:i.alias:[],instances:{},enteredCbs:{},name:l,parent:o,matchAs:a,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};i.children&&i.children.forEach((function(i){var o=a?wo(a+"/"+i.path):void 0;n(e,t,r,i,p,o)}));t[p.path]||(e.push(p.path),t[p.path]=p);if(void 0!==i.alias)for(var d=Array.isArray(i.alias)?i.alias:[i.alias],h=0;h<d.length;++h){0;var f={path:d[h],children:i.children};n(e,t,r,f,o,p.path||"/")}l&&(r[l]||(r[l]=p))}(o,a,s,n,i)}));for(var l=0,c=o.length;l<c;l++)"*"===o[l]&&(o.push(o.splice(l,1)[0]),c--,l--);return{pathList:o,pathMap:a,nameMap:s}}function Go(n,e){return jo(n,[],e)}function Wo(n,e){var t=Ho(n),r=t.pathList,i=t.pathMap,o=t.nameMap;function a(n,t,a){var s=Fo(n,t,!1,e),c=s.name;if(c){var u=o[c];if(!u)return l(null,s);var p=u.regex.keys.filter((function(n){return!n.optional})).map((function(n){return n.name}));if("object"!=typeof s.params&&(s.params={}),t&&"object"==typeof t.params)for(var d in t.params)!(d in s.params)&&p.indexOf(d)>-1&&(s.params[d]=t.params[d]);return s.path=qo(u.path,s.params),l(u,s,a)}if(s.path){s.params={};for(var h=0;h<r.length;h++){var f=r[h],m=i[f];if(Ko(m.regex,s.path,s.params))return l(m,s,a)}}return l(null,s)}function s(n,t){var r=n.redirect,i="function"==typeof r?r(uo(n,t,null,e)):r;if("string"==typeof i&&(i={path:i}),!i||"object"!=typeof i)return l(null,t);var s=i,c=s.name,u=s.path,p=t.query,d=t.hash,h=t.params;if(p=s.hasOwnProperty("query")?s.query:p,d=s.hasOwnProperty("hash")?s.hash:d,h=s.hasOwnProperty("params")?s.params:h,c){o[c];return a({_normalized:!0,name:c,query:p,hash:d,params:h},void 0,t)}if(u){var f=function(n,e){return xo(n,e.parent?e.parent.path:"/",!0)}(u,n);return a({_normalized:!0,path:qo(f,h),query:p,hash:d},void 0,t)}return l(null,t)}function l(n,t,r){return n&&n.redirect?s(n,r||t):n&&n.matchAs?function(n,e,t){var r=a({_normalized:!0,path:qo(t,e.params)});if(r){var i=r.matched,o=i[i.length-1];return e.params=r.params,l(o,e)}return l(null,e)}(0,t,n.matchAs):uo(n,t,r,e)}return{match:a,addRoute:function(n,e){var t="object"!=typeof n?o[n]:void 0;Ho([e||n],r,i,o,t),t&&t.alias.length&&Ho(t.alias.map((function(n){return{path:n,children:[e]}})),r,i,o,t)},getRoutes:function(){return r.map((function(n){return i[n]}))},addRoutes:function(n){Ho(n,r,i,o)}}}function Ko(n,e,t){var r=e.match(n);if(!r)return!1;if(!t)return!0;for(var i=1,o=r.length;i<o;++i){var a=n.keys[i-1];a&&(t[a.name||"pathMatch"]="string"==typeof r[i]?oo(r[i]):r[i])}return!0}var Zo=Vo&&window.performance&&window.performance.now?window.performance:Date;function Yo(){return Zo.now().toFixed(3)}var Qo=Yo();function na(){return Qo}function ea(n){return Qo=n}var ta=Object.create(null);function ra(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(n,""),t=no({},window.history.state);return t.key=na(),window.history.replaceState(t,"",e),window.addEventListener("popstate",aa),function(){window.removeEventListener("popstate",aa)}}function ia(n,e,t,r){if(n.app){var i=n.options.scrollBehavior;i&&n.app.$nextTick((function(){var o=function(){var n=na();if(n)return ta[n]}(),a=i.call(n,e,t,r?o:null);a&&("function"==typeof a.then?a.then((function(n){pa(n,o)})).catch((function(n){0})):pa(a,o))}))}}function oa(){var n=na();n&&(ta[n]={x:window.pageXOffset,y:window.pageYOffset})}function aa(n){oa(),n.state&&n.state.key&&ea(n.state.key)}function sa(n){return ca(n.x)||ca(n.y)}function la(n){return{x:ca(n.x)?n.x:window.pageXOffset,y:ca(n.y)?n.y:window.pageYOffset}}function ca(n){return"number"==typeof n}var ua=/^#\d/;function pa(n,e){var t,r="object"==typeof n;if(r&&"string"==typeof n.selector){var i=ua.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(i){var o=n.offset&&"object"==typeof n.offset?n.offset:{};e=function(n,e){var t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{x:r.left-t.left-e.x,y:r.top-t.top-e.y}}(i,o={x:ca((t=o).x)?t.x:0,y:ca(t.y)?t.y:0})}else sa(n)&&(e=la(n))}else r&&sa(n)&&(e=la(n));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:n.behavior}):window.scrollTo(e.x,e.y))}var da,ha=Vo&&((-1===(da=window.navigator.userAgent).indexOf("Android 2.")&&-1===da.indexOf("Android 4.0")||-1===da.indexOf("Mobile Safari")||-1!==da.indexOf("Chrome")||-1!==da.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function fa(n,e){oa();var t=window.history;try{if(e){var r=no({},t.state);r.key=na(),t.replaceState(r,"",n)}else t.pushState({key:ea(Yo())},"",n)}catch(t){window.location[e?"replace":"assign"](n)}}function ma(n){fa(n,!0)}var ga={redirected:2,aborted:4,cancelled:8,duplicated:16};function ya(n,e){return _a(n,e,ga.redirected,'Redirected when going from "'+n.fullPath+'" to "'+function(n){if("string"==typeof n)return n;if("path"in n)return n.path;var e={};return ba.forEach((function(t){t in n&&(e[t]=n[t])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function va(n,e){return _a(n,e,ga.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function _a(n,e,t,r){var i=new Error(r);return i._isRouter=!0,i.from=n,i.to=e,i.type=t,i}var ba=["params","query","hash"];function xa(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function wa(n,e){return xa(n)&&n._isRouter&&(null==e||n.type===e)}function ka(n,e,t){var r=function(i){i>=n.length?t():n[i]?e(n[i],(function(){r(i+1)})):r(i+1)};r(0)}function ja(n){return function(e,t,r){var i=!1,o=0,a=null;Pa(n,(function(n,e,t,s){if("function"==typeof n&&void 0===n.cid){i=!0,o++;var l,c=Ca((function(e){var i;((i=e).__esModule||Aa&&"Module"===i[Symbol.toStringTag])&&(e=e.default),n.resolved="function"==typeof e?e:No.extend(e),t.components[s]=e,--o<=0&&r()})),u=Ca((function(n){var e="Failed to resolve async component "+s+": "+n;a||(a=xa(n)?n:new Error(e),r(a))}));try{l=n(c,u)}catch(n){u(n)}if(l)if("function"==typeof l.then)l.then(c,u);else{var p=l.component;p&&"function"==typeof p.then&&p.then(c,u)}}})),i||r()}}function Pa(n,e){return Ta(n.map((function(n){return Object.keys(n.components).map((function(t){return e(n.components[t],n.instances[t],n,t)}))})))}function Ta(n){return Array.prototype.concat.apply([],n)}var Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function Ca(n){var e=!1;return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(!e)return e=!0,n.apply(this,t)}}var Ea=function(n,e){this.router=n,this.base=function(n){if(!n)if(Vo){var e=document.querySelector("base");n=(n=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else n="/";"/"!==n.charAt(0)&&(n="/"+n);return n.replace(/\/$/,"")}(e),this.current=ho,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function Oa(n,e,t,r){var i=Pa(n,(function(n,r,i,o){var a=function(n,e){"function"!=typeof n&&(n=No.extend(n));return n.options[e]}(n,e);if(a)return Array.isArray(a)?a.map((function(n){return t(n,r,i,o)})):t(a,r,i,o)}));return Ta(r?i.reverse():i)}function Ia(n,e){if(e)return function(){return n.apply(e,arguments)}}Ea.prototype.listen=function(n){this.cb=n},Ea.prototype.onReady=function(n,e){this.ready?n():(this.readyCbs.push(n),e&&this.readyErrorCbs.push(e))},Ea.prototype.onError=function(n){this.errorCbs.push(n)},Ea.prototype.transitionTo=function(n,e,t){var r,i=this;try{r=this.router.match(n,this.current)}catch(n){throw this.errorCbs.forEach((function(e){e(n)})),n}var o=this.current;this.confirmTransition(r,(function(){i.updateRoute(r),e&&e(r),i.ensureURL(),i.router.afterHooks.forEach((function(n){n&&n(r,o)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(n){n(r)})))}),(function(n){t&&t(n),n&&!i.ready&&(wa(n,ga.redirected)&&o===ho||(i.ready=!0,i.readyErrorCbs.forEach((function(e){e(n)}))))}))},Ea.prototype.confirmTransition=function(n,e,t){var r=this,i=this.current;this.pending=n;var o,a,s=function(n){!wa(n)&&xa(n)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(n)})):console.error(n)),t&&t(n)},l=n.matched.length-1,c=i.matched.length-1;if(go(n,i)&&l===c&&n.matched[l]===i.matched[c])return this.ensureURL(),n.hash&&ia(this.router,i,n,!1),s(((a=_a(o=i,n,ga.duplicated,'Avoided redundant navigation to current location: "'+o.fullPath+'".')).name="NavigationDuplicated",a));var u=function(n,e){var t,r=Math.max(n.length,e.length);for(t=0;t<r&&n[t]===e[t];t++);return{updated:e.slice(0,t),activated:e.slice(t),deactivated:n.slice(t)}}(this.current.matched,n.matched),p=u.updated,d=u.deactivated,h=u.activated,f=[].concat(function(n){return Oa(n,"beforeRouteLeave",Ia,!0)}(d),this.router.beforeHooks,function(n){return Oa(n,"beforeRouteUpdate",Ia)}(p),h.map((function(n){return n.beforeEnter})),ja(h)),m=function(e,t){if(r.pending!==n)return s(va(i,n));try{e(n,i,(function(e){!1===e?(r.ensureURL(!0),s(function(n,e){return _a(n,e,ga.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(i,n))):xa(e)?(r.ensureURL(!0),s(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(s(ya(i,n)),"object"==typeof e&&e.replace?r.replace(e):r.push(e)):t(e)}))}catch(n){s(n)}};ka(f,m,(function(){ka(function(n){return Oa(n,"beforeRouteEnter",(function(n,e,t,r){return function(n,e,t){return function(r,i,o){return n(r,i,(function(n){"function"==typeof n&&(e.enteredCbs[t]||(e.enteredCbs[t]=[]),e.enteredCbs[t].push(n)),o(n)}))}}(n,t,r)}))}(h).concat(r.router.resolveHooks),m,(function(){if(r.pending!==n)return s(va(i,n));r.pending=null,e(n),r.router.app&&r.router.app.$nextTick((function(){vo(n)}))}))}))},Ea.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},Ea.prototype.setupListeners=function(){},Ea.prototype.teardown=function(){this.listeners.forEach((function(n){n()})),this.listeners=[],this.current=ho,this.pending=null};var Sa=function(n){function e(e,t){n.call(this,e,t),this._startLocation=$a(this.base)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router,t=e.options.scrollBehavior,r=ha&&t;r&&this.listeners.push(ra());var i=function(){var t=n.current,i=$a(n.base);n.current===ho&&i===n._startLocation||n.transitionTo(i,(function(n){r&&ia(e,n,t,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},e.prototype.go=function(n){window.history.go(n)},e.prototype.push=function(n,e,t){var r=this,i=this.current;this.transitionTo(n,(function(n){fa(wo(r.base+n.fullPath)),ia(r.router,n,i,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,i=this.current;this.transitionTo(n,(function(n){ma(wo(r.base+n.fullPath)),ia(r.router,n,i,!1),e&&e(n)}),t)},e.prototype.ensureURL=function(n){if($a(this.base)!==this.current.fullPath){var e=wo(this.base+this.current.fullPath);n?fa(e):ma(e)}},e.prototype.getCurrentLocation=function(){return $a(this.base)},e}(Ea);function $a(n){var e=window.location.pathname,t=e.toLowerCase(),r=n.toLowerCase();return!n||t!==r&&0!==t.indexOf(wo(r+"/"))||(e=e.slice(n.length)),(e||"/")+window.location.search+window.location.hash}var za=function(n){function e(e,t,r){n.call(this,e,t),r&&function(n){var e=$a(n);if(!/^\/#/.test(e))return window.location.replace(wo(n+"/#"+e)),!0}(this.base)||La()}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,t=ha&&e;t&&this.listeners.push(ra());var r=function(){var e=n.current;La()&&n.transitionTo(Ba(),(function(r){t&&ia(n.router,r,e,!0),ha||Da(r.fullPath)}))},i=ha?"popstate":"hashchange";window.addEventListener(i,r),this.listeners.push((function(){window.removeEventListener(i,r)}))}},e.prototype.push=function(n,e,t){var r=this,i=this.current;this.transitionTo(n,(function(n){Ra(n.fullPath),ia(r.router,n,i,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,i=this.current;this.transitionTo(n,(function(n){Da(n.fullPath),ia(r.router,n,i,!1),e&&e(n)}),t)},e.prototype.go=function(n){window.history.go(n)},e.prototype.ensureURL=function(n){var e=this.current.fullPath;Ba()!==e&&(n?Ra(e):Da(e))},e.prototype.getCurrentLocation=function(){return Ba()},e}(Ea);function La(){var n=Ba();return"/"===n.charAt(0)||(Da("/"+n),!1)}function Ba(){var n=window.location.href,e=n.indexOf("#");return e<0?"":n=n.slice(e+1)}function Ma(n){var e=window.location.href,t=e.indexOf("#");return(t>=0?e.slice(0,t):e)+"#"+n}function Ra(n){ha?fa(Ma(n)):window.location.hash=n}function Da(n){ha?ma(Ma(n)):window.location.replace(Ma(n))}var qa=function(n){function e(e,t){n.call(this,e,t),this.stack=[],this.index=-1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.push=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index+1).concat(n),r.index++,e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index).concat(n),e&&e(n)}),t)},e.prototype.go=function(n){var e=this,t=this.index+n;if(!(t<0||t>=this.stack.length)){var r=this.stack[t];this.confirmTransition(r,(function(){var n=e.current;e.index=t,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,n)}))}),(function(n){wa(n,ga.duplicated)&&(e.index=t)}))}},e.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Ea),Fa=function(n){void 0===n&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Wo(n.routes||[],this);var e=n.mode||"hash";switch(this.fallback="history"===e&&!ha&&!1!==n.fallback,this.fallback&&(e="hash"),Vo||(e="abstract"),this.mode=e,e){case"history":this.history=new Sa(this,n.base);break;case"hash":this.history=new za(this,n.base,this.fallback);break;case"abstract":this.history=new qa(this,n.base);break;default:0}},Na={currentRoute:{configurable:!0}};Fa.prototype.match=function(n,e,t){return this.matcher.match(n,e,t)},Na.currentRoute.get=function(){return this.history&&this.history.current},Fa.prototype.init=function(n){var e=this;if(this.apps.push(n),n.$once("hook:destroyed",(function(){var t=e.apps.indexOf(n);t>-1&&e.apps.splice(t,1),e.app===n&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=n;var t=this.history;if(t instanceof Sa||t instanceof za){var r=function(n){t.setupListeners(),function(n){var r=t.current,i=e.options.scrollBehavior;ha&&i&&"fullPath"in n&&ia(e,n,r,!1)}(n)};t.transitionTo(t.getCurrentLocation(),r,r)}t.listen((function(n){e.apps.forEach((function(e){e._route=n}))}))}},Fa.prototype.beforeEach=function(n){return Xa(this.beforeHooks,n)},Fa.prototype.beforeResolve=function(n){return Xa(this.resolveHooks,n)},Fa.prototype.afterEach=function(n){return Xa(this.afterHooks,n)},Fa.prototype.onReady=function(n,e){this.history.onReady(n,e)},Fa.prototype.onError=function(n){this.history.onError(n)},Fa.prototype.push=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.push(n,e,t)}));this.history.push(n,e,t)},Fa.prototype.replace=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.replace(n,e,t)}));this.history.replace(n,e,t)},Fa.prototype.go=function(n){this.history.go(n)},Fa.prototype.back=function(){this.go(-1)},Fa.prototype.forward=function(){this.go(1)},Fa.prototype.getMatchedComponents=function(n){var e=n?n.matched?n:this.resolve(n).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(n){return Object.keys(n.components).map((function(e){return n.components[e]}))}))):[]},Fa.prototype.resolve=function(n,e,t){var r=Fo(n,e=e||this.history.current,t,this),i=this.match(r,e),o=i.redirectedFrom||i.fullPath;return{location:r,route:i,href:function(n,e,t){var r="hash"===t?"#"+e:e;return n?wo(n+"/"+r):r}(this.history.base,o,this.mode),normalizedTo:r,resolved:i}},Fa.prototype.getRoutes=function(){return this.matcher.getRoutes()},Fa.prototype.addRoute=function(n,e){this.matcher.addRoute(n,e),this.history.current!==ho&&this.history.transitionTo(this.history.getCurrentLocation())},Fa.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==ho&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Fa.prototype,Na);var Ua=Fa;function Xa(n,e){return n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}Fa.install=function n(e){if(!n.installed||No!==e){n.installed=!0,No=e;var t=function(n){return void 0!==n},r=function(n,e){var r=n.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(n,e)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",_o),e.component("RouterLink",Xo);var i=e.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}},Fa.version="3.6.5",Fa.isNavigationFailure=wa,Fa.NavigationFailureType=ga,Fa.START_LOCATION=ho,Vo&&window.Vue&&window.Vue.use(Fa);t(107);t(16),t(134);var Ja={NotFound:()=>Promise.all([t.e(0),t.e(9)]).then(t.bind(null,355)),Layout:()=>Promise.all([t.e(0),t.e(3),t.e(2)]).then(t.bind(null,353))},Va={"v-2e0e8d96":()=>t.e(10).then(t.bind(null,360)),"v-7ec0aec5":()=>t.e(11).then(t.bind(null,361)),"v-6a85abb7":()=>t.e(12).then(t.bind(null,362)),"v-ebaa2d3a":()=>t.e(13).then(t.bind(null,363)),"v-7f328dd5":()=>t.e(14).then(t.bind(null,364)),"v-90e8d116":()=>t.e(15).then(t.bind(null,365)),"v-00e142d5":()=>t.e(16).then(t.bind(null,366)),"v-407ede6a":()=>t.e(17).then(t.bind(null,367)),"v-10a49a4b":()=>t.e(18).then(t.bind(null,368)),"v-4188a3cb":()=>t.e(19).then(t.bind(null,369)),"v-726cad4b":()=>t.e(20).then(t.bind(null,370)),"v-b95e926a":()=>t.e(21).then(t.bind(null,371)),"v-3c122209":()=>t.e(22).then(t.bind(null,372)),"v-1b88f20b":()=>t.e(23).then(t.bind(null,373)),"v-c70bf8f4":()=>t.e(24).then(t.bind(null,374)),"v-4f3b741f":()=>t.e(25).then(t.bind(null,375)),"v-7a3ee123":()=>t.e(26).then(t.bind(null,376)),"v-90f07c14":()=>t.e(27).then(t.bind(null,377)),"v-279933cf":()=>t.e(28).then(t.bind(null,378)),"v-03ef29f2":()=>t.e(29).then(t.bind(null,379)),"v-76e4cc32":()=>t.e(30).then(t.bind(null,380)),"v-c960d772":()=>t.e(31).then(t.bind(null,381)),"v-6e508167":()=>t.e(32).then(t.bind(null,382)),"v-ebd411f2":()=>t.e(33).then(t.bind(null,383)),"v-1dbd0980":()=>t.e(34).then(t.bind(null,384)),"v-e1201b82":()=>t.e(35).then(t.bind(null,385)),"v-9ca9a9fa":()=>t.e(36).then(t.bind(null,356)),"v-08b25cb1":()=>t.e(37).then(t.bind(null,386)),"v-50f4809f":()=>t.e(38).then(t.bind(null,387)),"v-7c88d6ee":()=>t.e(39).then(t.bind(null,388)),"v-a1390056":()=>t.e(40).then(t.bind(null,389))};function Ha(n){const e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}const Ga=/-(\w)/g,Wa=Ha(n=>n.replace(Ga,(n,e)=>e?e.toUpperCase():"")),Ka=/\B([A-Z])/g,Za=Ha(n=>n.replace(Ka,"-$1").toLowerCase()),Ya=Ha(n=>n.charAt(0).toUpperCase()+n.slice(1));function Qa(n,e){if(!e)return;if(n(e))return n(e);return e.includes("-")?n(Ya(Wa(e))):n(Ya(e))||n(Za(e))}const ns=Object.assign({},Ja,Va),es=n=>ns[n],ts=n=>Va[n],rs=n=>Ja[n],is=n=>Jt.component(n);function os(n){return Qa(ts,n)}function as(n){return Qa(rs,n)}function ss(n){return Qa(es,n)}function ls(n){return Qa(is,n)}function cs(...n){return Promise.all(n.filter(n=>n).map(async n=>{if(!ls(n)&&ss(n)){const e=await ss(n)();Jt.component(n,e.default)}}))}function us(n,e){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[n]=e)}var ps=t(94),ds=t.n(ps),hs=t(95),fs=t.n(hs),ms={created(){if(this.siteMeta=this.$site.headTags.filter(([n])=>"meta"===n).map(([n,e])=>e),this.$ssrContext){const e=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(n=e)?n.map(n=>{let e="<meta";return Object.keys(n).forEach(t=>{e+=` ${t}="${fs()(n[t])}"`}),e+">"}).join("\n    "):"",this.$ssrContext.canonicalLink=ys(this.$canonicalUrl)}var n},mounted(){this.currentMetaTags=[...document.querySelectorAll("meta")],this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta(){document.title=this.$title,document.documentElement.lang=this.$lang;const n=this.getMergedMetaTags();this.currentMetaTags=vs(n,this.currentMetaTags)},getMergedMetaTags(){const n=this.$page.frontmatter.meta||[];return ds()([{name:"description",content:this.$description}],n,this.siteMeta,_s)},updateCanonicalLink(){gs(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",ys(this.$canonicalUrl))}},watch:{$page(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy(){vs(null,this.currentMetaTags),gs()}};function gs(){const n=document.querySelector("link[rel='canonical']");n&&n.remove()}function ys(n=""){return n?`<link href="${n}" rel="canonical" />`:""}function vs(n,e){if(e&&[...e].filter(n=>n.parentNode===document.head).forEach(n=>document.head.removeChild(n)),n)return n.map(n=>{const e=document.createElement("meta");return Object.keys(n).forEach(t=>{e.setAttribute(t,n[t])}),document.head.appendChild(e),e})}function _s(n){for(const e of["name","property","itemprop"])if(n.hasOwnProperty(e))return n[e]+e;return JSON.stringify(n)}var bs=t(52),xs={mounted(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(bs)()((function(){this.setActiveHash()}),300),setActiveHash(){const n=[].slice.call(document.querySelectorAll(".sidebar-link")),e=[].slice.call(document.querySelectorAll(".header-anchor")).filter(e=>n.some(n=>n.hash===e.hash)),t=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),r=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=window.innerHeight+t;for(let n=0;n<e.length;n++){const o=e[n],a=e[n+1],s=0===n&&0===t||t>=o.parentElement.offsetTop+10&&(!a||t<a.parentElement.offsetTop-10),l=decodeURIComponent(this.$route.hash);if(s&&l!==decodeURIComponent(o.hash)){const t=o;if(i===r)for(let t=n+1;t<e.length;t++)if(l===decodeURIComponent(e[t].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(t.hash),()=>{this.$nextTick(()=>{this.$vuepress.$set("disableScrollBehavior",!1)})})}}}},beforeDestroy(){window.removeEventListener("scroll",this.onScroll)}},ws=t(27),ks=t.n(ws),js={mounted(){ks.a.configure({showSpinner:!1}),this.$router.beforeEach((n,e,t)=>{n.path===e.path||Jt.component(n.name)||ks.a.start(),t()}),this.$router.afterEach(()=>{ks.a.done(),this.isSidebarOpen=!1})}};t(241),t(242);class Ps{constructor(){this.containerEl=document.getElementById("message-container"),this.containerEl||(this.containerEl=document.createElement("div"),this.containerEl.id="message-container",document.body.appendChild(this.containerEl))}show({text:n="",duration:e=3e3}){let t=document.createElement("div");t.className="message move-in",t.innerHTML=`\n      <i style="fill: #06a35a;font-size: 14px;display:inline-flex;align-items: center;">\n        <svg style="fill: #06a35a;font-size: 14px;" t="1572421810237" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2323" width="16" height="16"><path d="M822.811993 824.617989c-83.075838 81.99224-188.546032 124.613757-316.049383 127.86455-122.085362-3.250794-223.943563-45.87231-305.935802-127.86455s-124.613757-184.21164-127.86455-305.935802c3.250794-127.503351 45.87231-232.973545 127.86455-316.049383 81.99224-83.075838 184.21164-126.058554 305.935802-129.309347 127.503351 3.250794 232.973545 46.23351 316.049383 129.309347 83.075838 83.075838 126.058554 188.546032 129.309347 316.049383C949.231746 640.406349 905.887831 742.62575 822.811993 824.617989zM432.716755 684.111464c3.973192 3.973192 8.307584 5.779189 13.364374 6.140388 5.05679 0.361199 9.752381-1.444797 13.364374-5.417989l292.571429-287.514638c3.973192-3.973192 5.779189-8.307584 5.779189-13.364374 0-5.05679-1.805996-9.752381-5.779189-13.364374l1.805996 1.805996c-3.973192-3.973192-8.668783-5.779189-14.086772-6.140388-5.417989-0.361199-10.47478 1.444797-14.809171 5.417989l-264.397884 220.33157c-3.973192 3.250794-8.668783 4.695591-14.447972 4.695591-5.779189 0-10.835979-1.444797-15.53157-3.973192l-94.273016-72.962257c-4.334392-3.250794-9.391182-4.334392-14.447972-3.973192s-9.391182 3.250794-12.641975 7.585185l-2.889594 3.973192c-3.250794 4.334392-4.334392 9.391182-3.973192 14.809171 0.722399 5.417989 2.528395 10.11358 5.779189 14.086772L432.716755 684.111464z" p-id="2324"></path></svg>\n      </i>\n      <div class="text">${n}</div>\n    `,this.containerEl.appendChild(t),e>0&&setTimeout(()=>{this.close(t)},e)}close(n){n.className=n.className.replace("move-in",""),n.className+="move-out",n.addEventListener("animationend",()=>{n.remove()})}}var Ts={mounted(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},updated(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},methods:{updateCopy(){setTimeout(()=>{(['div[class*="language-"] pre','div[class*="aside-code"] aside']instanceof Array||Array.isArray(['div[class*="language-"] pre','div[class*="aside-code"] aside']))&&['div[class*="language-"] pre','div[class*="aside-code"] aside'].forEach(n=>{document.querySelectorAll(n).forEach(this.generateCopyButton)})},1e3)},generateCopyButton(n){if(n.classList.contains("codecopy-enabled"))return;const e=document.createElement("i");e.className="code-copy",e.innerHTML='<svg  style="color:#aaa;font-size:14px" t="1572422231464" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3201" width="14" height="14"><path d="M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z" p-id="3202"></path></svg>',e.title="Copy to clipboard",e.addEventListener("click",()=>{this.copyToClipboard(n.innerText)}),n.appendChild(e),n.classList.add("codecopy-enabled")},copyToClipboard(n){const e=document.createElement("textarea");e.value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);const t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy");(new Ps).show({text:"复制成功",duration:1e3}),document.body.removeChild(e),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}}};!function(n,e){void 0===e&&(e={});var t=e.insertAt;if(n&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===t&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}("@media (max-width: 1000px) {\n  .vuepress-plugin-demo-block__h_code {\n    display: none;\n  }\n  .vuepress-plugin-demo-block__app {\n    margin-left: auto !important;\n    margin-right: auto !important;\n  }\n}\n.vuepress-plugin-demo-block__wrapper {\n  margin-top: 10px;\n  border: 1px solid #ebebeb;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display {\n  height: 400px;\n  display: flex;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__app {\n  width: 300px;\n  border: 1px solid #ebebeb;\n  box-shadow: 1px 1px 3px #ebebeb;\n  margin-right: 5px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code {\n  flex: 1;\n  overflow: auto;\n  height: 100%;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code > pre {\n  overflow: visible;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  max-height: 400px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper div {\n  box-sizing: border-box;\n}\n.vuepress-plugin-demo-block__wrapper:hover {\n  box-shadow: 0 0 11px rgba(33, 33, 33, 0.2);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code {\n  overflow: hidden;\n  height: 0;\n  padding: 0 !important;\n  background-color: #282c34;\n  border-radius: 0 !important;\n  transition: height 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code pre {\n  margin: 0 !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  padding: 20px;\n  border-bottom: 1px solid #ebebeb;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer {\n  position: relative;\n  text-align: center;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__codepen {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__expand::before {\n  border-top: none;\n  border-right: 6px solid transparent;\n  border-bottom: 6px solid #ccc;\n  border-left: 6px solid transparent;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__codepen,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand span,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand::before {\n  border-top-color: #3eaf7c !important;\n  border-bottom-color: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover svg {\n  fill: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand-text {\n  transition: all 0.5s;\n  opacity: 0;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:nth-last-child(2) {\n  right: 50px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:last-child {\n  right: 10px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button {\n  border-color: transparent;\n  background-color: transparent;\n  font-size: 14px;\n  color: #3eaf7c;\n  cursor: pointer;\n  outline: none;\n  margin: 0;\n  width: 46px;\n  position: relative;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::before {\n  content: attr(data-tip);\n  white-space: nowrap;\n  position: absolute;\n  top: -30px;\n  left: 50%;\n  color: #eee;\n  line-height: 1;\n  z-index: 1000;\n  border-radius: 4px;\n  padding: 6px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::after {\n  content: '' !important;\n  display: block;\n  position: absolute;\n  left: 50%;\n  top: -5px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  border: 5px solid transparent;\n  border-top-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button svg {\n  width: 34px;\n  height: 20px;\n  fill: #ccc;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__codepen {\n  position: absolute;\n  top: 10px;\n  transition: all 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand {\n  position: relative;\n  width: 100px;\n  height: 40px;\n  margin: 0;\n  color: #3eaf7c;\n  font-size: 14px;\n  background-color: transparent;\n  border-color: transparent;\n  outline: none;\n  transition: all 0.5s;\n  cursor: pointer;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-top: 6px solid #ccc;\n  border-right: 6px solid transparent;\n  border-left: 6px solid transparent;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n");var As={jsLib:[],cssLib:[],jsfiddle:!0,codepen:!0,codepenLayout:"left",codepenJsProcessor:"babel",codepenEditors:"101",horizontal:!1,vue:"https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js",react:"https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js",reactDOM:"https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"},Cs={},Es=function(n){return'<div id="app">\n'.concat(n,"\n</div>")},Os=function(n){return window.$VUEPRESS_DEMO_BLOCK&&void 0!==window.$VUEPRESS_DEMO_BLOCK[n]?window.$VUEPRESS_DEMO_BLOCK[n]:As[n]},Is=function n(e,t,r){var i=document.createElement(e);return t&&Object.keys(t).forEach((function(n){if(n.indexOf("data"))i[n]=t[n];else{var e=n.replace("data","");i.dataset[e]=t[n]}})),r&&r.forEach((function(e){var t=e.tag,r=e.attrs,o=e.children;i.appendChild(n(t,r,o))})),i},Ss=function(n,e,t){var r,i=(r=n.querySelectorAll(".".concat(e)),Array.prototype.slice.call(r));return 1!==i.length||t?i:i[0]},$s=function(n,e){var t,r,i=n.match(/<style>([\s\S]+)<\/style>/),o=n.match(/<template>([\s\S]+)<\/template>/),a=n.match(/<script>([\s\S]+)<\/script>/),s={css:i&&i[1].replace(/^\n|\n$/g,""),html:o&&o[1].replace(/^\n|\n$/g,""),js:a&&a[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};s.htmlTpl=Es(s.html),s.jsTpl=(t=s.js,r=t.replace(/export\s+default\s*?\{\n*/,"").replace(/\n*\}\s*$/,"").trim(),"new Vue({\n  el: '#app',\n  ".concat(r,"\n})")),s.script=function(n,e){var t=n.split(/export\s+default/),r="(function() {".concat(t[0]," ; return ").concat(t[1],"})()"),i=window.Babel?window.Babel.transform(r,{presets:["es2015"]}).code:r,o=[eval][0](i);return o.template=e,o}(s.js,s.html);var l=Os("vue");return s.jsLib.unshift(l),s},zs=function(n,e){var t,r=n.match(/<style>([\s\S]+)<\/style>/),i=n.match(/<html>([\s\S]+)<\/html>/),o=n.match(/<script>([\s\S]+)<\/script>/),a={css:r&&r[1].replace(/^\n|\n$/g,""),html:i&&i[1].replace(/^\n|\n$/g,""),js:o&&o[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};return a.htmlTpl=a.html,a.jsTpl=a.js,a.script=(t=a.js,window.Babel?window.Babel.transform(t,{presets:["es2015"]}).code:t),a},Ls=function(n){return n=n.replace("export default ","").replace(/App\.__style__(\s*)=(\s*)`([\s\S]*)?`/,""),n+='ReactDOM.render(React.createElement(App), document.getElementById("app"))'};function Bs(){var n=Ss(document,"vuepress-plugin-demo-block__wrapper",!0);n.length?n.forEach((function(n){if("true"!==n.dataset.created){n.style.display="block";var e=Ss(n,"vuepress-plugin-demo-block__code"),t=Ss(n,"vuepress-plugin-demo-block__display"),r=Ss(n,"vuepress-plugin-demo-block__footer"),i=Ss(t,"vuepress-plugin-demo-block__app"),o=decodeURIComponent(n.dataset.code),a=decodeURIComponent(n.dataset.config),s=decodeURIComponent(n.dataset.type);a=a?JSON.parse(a):{};var l=e.querySelector("div").clientHeight,c="react"===s?function(n,e){var t=(0,window.Babel.transform)(n,{presets:["es2015","react"]}).code,r="(function(exports){var module={};module.exports=exports;".concat(t,";return module.exports.__esModule?module.exports.default:module.exports;})({})"),i=new Function("return ".concat(r))(),o={js:i,css:i.__style__||"",jsLib:e.jsLib||[],cssLib:e.cssLib||[],jsTpl:Ls(n),htmlTpl:Es("")},a=Os("react"),s=Os("reactDOM");return o.jsLib.unshift(a,s),o}(o,a):"vanilla"===s?zs(o,a):$s(o,a),u=Is("button",{className:"".concat("vuepress-plugin-demo-block__expand")});if(r.appendChild(u),u.addEventListener("click",Ms.bind(null,u,l,e,r)),Os("jsfiddle")&&r.appendChild(function(n){var e=n.css,t=n.htmlTpl,r=n.jsTpl,i=n.jsLib,o=n.cssLib,a=i.concat(o).concat(Os("cssLib")).concat(Os("jsLib")).join(",");return Is("form",{className:"vuepress-plugin-demo-block__jsfiddle",target:"_blank",action:"https://jsfiddle.net/api/post/library/pure/",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"css",value:e}},{tag:"input",attrs:{type:"hidden",name:"html",value:t}},{tag:"input",attrs:{type:"hidden",name:"js",value:r}},{tag:"input",attrs:{type:"hidden",name:"panel_js",value:3}},{tag:"input",attrs:{type:"hidden",name:"wrap",value:1}},{tag:"input",attrs:{type:"hidden",name:"resources",value:a}},{tag:"button",attrs:{type:"submit",className:"vuepress-plugin-demo-block__button",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088289967" class="icon" style="" viewBox="0 0 1170 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1952" xmlns:xlink="http://www.w3.org/1999/xlink" width="228.515625" height="200"><defs><style type="text/css"></style></defs><path d="M1028.571429 441.142857q63.428571 26.285714 102.571428 83.142857T1170.285714 650.857143q0 93.714286-67.428571 160.285714T940 877.714286q-2.285714 0-6.571429-0.285715t-6-0.285714H232q-97.142857-5.714286-164.571429-71.714286T0 645.142857q0-62.857143 31.428571-116t84-84q-6.857143-22.285714-6.857142-46.857143 0-65.714286 46.857142-112t113.714286-46.285714q54.285714 0 98.285714 33.142857 42.857143-88 127.142858-141.714286t186.571428-53.714285q94.857143 0 174.857143 46T982.571429 248.571429t46.571428 172q0 3.428571-0.285714 10.285714t-0.285714 10.285714zM267.428571 593.142857q0 69.714286 48 110.285714t118.857143 40.571429q78.285714 0 137.142857-56.571429-9.142857-11.428571-27.142857-32.285714T519.428571 626.285714q-38.285714 37.142857-82.285714 37.142857-31.428571 0-53.428571-19.142857T361.714286 594.285714q0-30.285714 22-49.714285t52.285714-19.428572q25.142857 0 48.285714 12t41.714286 31.428572 37.142857 42.857142 39.428572 46.857143 44 42.857143 55.428571 31.428572 69.428571 12q69.142857 0 116.857143-40.857143T936 594.857143q0-69.142857-48-109.714286t-118.285714-40.571428q-81.714286 0-137.714286 55.428571l53.142857 61.714286q37.714286-36.571429 81.142857-36.571429 29.714286 0 52.571429 18.857143t22.857143 48q0 32.571429-21.142857 52.285714t-53.714286 19.714286q-24.571429 0-47.142857-12t-41.142857-31.428571-37.428572-42.857143-39.714286-46.857143-44.285714-42.857143-55.142857-31.428571T434.285714 444.571429q-69.714286 0-118.285714 40.285714T267.428571 593.142857z" p-id="1953"></path></svg>',datatip:"JSFiddle"}}])}(c)),Os("codepen")&&r.appendChild(function(n){var e=n.css,t=n.htmlTpl,r=n.jsTpl,i=n.jsLib,o=n.cssLib,a=JSON.stringify({css:e,html:t,js:r,js_external:i.concat(Os("jsLib")).join(";"),css_external:o.concat(Os("cssLib")).join(";"),layout:Os("codepenLayout"),js_pre_processor:Os("codepenJsProcessor"),editors:Os("codepenEditors")});return Is("form",{className:"vuepress-plugin-demo-block__codepen",target:"_blank",action:"https://codepen.io/pen/define",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"data",value:a}},{tag:"button",attrs:{type:"submit",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088271207" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1737" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M123.428571 668l344.571429 229.714286v-205.142857L277.142857 565.142857z m-35.428571-82.285714l110.285714-73.714286-110.285714-73.714286v147.428572z m468 312l344.571429-229.714286-153.714286-102.857143-190.857143 127.428572v205.142857z m-44-281.714286l155.428571-104-155.428571-104-155.428571 104zM277.142857 458.857143l190.857143-127.428572V126.285714L123.428571 356z m548.571429 53.142857l110.285714 73.714286V438.285714z m-78.857143-53.142857l153.714286-102.857143-344.571429-229.714286v205.142857z m277.142857-102.857143v312q0 23.428571-19.428571 36.571429l-468 312q-12 7.428571-24.571429 7.428571t-24.571429-7.428571L19.428571 704.571429q-19.428571-13.142857-19.428571-36.571429V356q0-23.428571 19.428571-36.571429L487.428571 7.428571q12-7.428571 24.571429-7.428571t24.571429 7.428571l468 312q19.428571 13.142857 19.428571 36.571429z" p-id="1738"></path></svg>',className:"vuepress-plugin-demo-block__button",datatip:"Codepen"}}])}(c)),void 0!==a.horizontal?a.horizontal:Os("horizontal")){n.classList.add("vuepress-plugin-demo-block__horizontal");var p=e.firstChild.cloneNode(!0);p.classList.add("vuepress-plugin-demo-block__h_code"),t.appendChild(p)}if(c.css&&function(n){if(!Cs[n]){var e=Is("style",{innerHTML:n});document.body.appendChild(e),Cs[n]=!0}}(c.css),"react"===s)ReactDOM.render(React.createElement(c.js),i);else if("vue"===s){var d=(new(Vue.extend(c.script))).$mount();i.appendChild(d.$el)}else"vanilla"===s&&(i.innerHTML=c.html,new Function("return (function(){".concat(c.script,"})()"))());n.dataset.created="true"}})):setTimeout((function(n){Bs()}),300)}function Ms(n,e,t,r){var i="1"!==n.dataset.isExpand;t.style.height=i?"".concat(e,"px"):0,i?r.classList.add("vuepress-plugin-demo-block__show-link"):r.classList.remove("vuepress-plugin-demo-block__show-link"),n.dataset.isExpand=i?"1":"0"}var Rs={mounted:function(){window.$VUEPRESS_DEMO_BLOCK={jsfiddle:!1,codepen:!0,horizontal:!1},Bs()},updated:function(){Bs()}},Ds="auto",qs="zoom-in",Fs="zoom-out",Ns="grab",Us="move";function Xs(n,e,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={passive:!1};r?n.addEventListener(e,t,i):n.removeEventListener(e,t,i)}function Js(n,e){if(n){var t=new Image;t.onload=function(){e&&e(t)},t.src=n}}function Vs(n){return n.dataset.original?n.dataset.original:"A"===n.parentNode.tagName?n.parentNode.getAttribute("href"):null}function Hs(n,e,t){!function(n){var e=Gs,t=Ws;if(n.transition){var r=n.transition;delete n.transition,n[e]=r}if(n.transform){var i=n.transform;delete n.transform,n[t]=i}}(e);var r=n.style,i={};for(var o in e)t&&(i[o]=r[o]||""),r[o]=e[o];return i}var Gs="transition",Ws="transform",Ks="transform",Zs="transitionend";var Ys=function(){},Qs={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:Ys,onClose:Ys,onGrab:Ys,onMove:Ys,onRelease:Ys,onBeforeOpen:Ys,onBeforeClose:Ys,onBeforeGrab:Ys,onBeforeRelease:Ys,onImageLoading:Ys,onImageLoaded:Ys},nl={init:function(n){var e,t;e=this,t=n,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){e[n]=e[n].bind(t)}))},click:function(n){if(n.preventDefault(),tl(n))return window.open(this.target.srcOriginal||n.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(n.currentTarget)},scroll:function(){var n=document.documentElement||document.body.parentNode||document.body,e=window.pageXOffset||n.scrollLeft,t=window.pageYOffset||n.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:e,y:t});var r=this.lastScrollPosition.x-e,i=this.lastScrollPosition.y-t,o=this.options.scrollThreshold;(Math.abs(i)>=o||Math.abs(r)>=o)&&(this.lastScrollPosition=null,this.close())},keydown:function(n){(function(n){return"Escape"===(n.key||n.code)||27===n.keyCode})(n)&&(this.released?this.close():this.release(this.close))},mousedown:function(n){if(el(n)&&!tl(n)){n.preventDefault();var e=n.clientX,t=n.clientY;this.pressTimer=setTimeout(function(){this.grab(e,t)}.bind(this),200)}},mousemove:function(n){this.released||this.move(n.clientX,n.clientY)},mouseup:function(n){el(n)&&!tl(n)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(n){n.preventDefault();var e=n.touches[0],t=e.clientX,r=e.clientY;this.pressTimer=setTimeout(function(){this.grab(t,r)}.bind(this),200)},touchmove:function(n){if(!this.released){var e=n.touches[0],t=e.clientX,r=e.clientY;this.move(t,r)}},touchend:function(n){(function(n){n.targetTouches.length})(n)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function el(n){return 0===n.button}function tl(n){return n.metaKey||n.ctrlKey}var rl={init:function(n){this.el=document.createElement("div"),this.instance=n,this.parent=document.body,Hs(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(n.options),Xs(this.el,"click",n.handler.clickOverlay.bind(n))},updateStyle:function(n){Hs(this.el,{zIndex:n.zIndex,backgroundColor:n.bgColor,transition:"opacity\n        "+n.transitionDuration+"s\n        "+n.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ol=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),al=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sl={init:function(n,e){this.el=n,this.instance=e,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=Vs(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var n=this.instance.options,e=n.zIndex,t=n.enableGrab,r=n.transitionDuration,i=n.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:e+1,cursor:t?Ns:Fs,transition:Ks+"\n        "+r+"s\n        "+i,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=Hs(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,Hs(this.el,{transform:"none"})},grab:function(n,e,t){var r=ll(),i=r.x-n,o=r.y-e;Hs(this.el,{cursor:Us,transform:"translate3d(\n        "+(this.translate.x+i)+"px, "+(this.translate.y+o)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},move:function(n,e,t){var r=ll(),i=r.x-n,o=r.y-e;Hs(this.el,{transition:Ks,transform:"translate3d(\n        "+(this.translate.x+i)+"px, "+(this.translate.y+o)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},restoreCloseStyle:function(){Hs(this.el,this.styleClose)},restoreOpenStyle:function(){Hs(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var n=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var e=this.el.cloneNode(!1);e.setAttribute("src",this.srcOriginal),e.style.position="fixed",e.style.visibility="hidden",n.appendChild(e),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),n.removeChild(e)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var n=ll(),e=this.rect.left+this.rect.width/2,t=this.rect.top+this.rect.height/2;return{x:n.x-e,y:n.y-t}},calculateScale:function(){var n=this.el.dataset,e=n.zoomingHeight,t=n.zoomingWidth,r=this.instance.options,i=r.customSize,o=r.scaleBase;if(!i&&e&&t)return{x:t/this.rect.width,y:e/this.rect.height};if(i&&"object"===(void 0===i?"undefined":il(i)))return{x:i.width/this.rect.width,y:i.height/this.rect.height};var a=this.rect.width/2,s=this.rect.height/2,l=ll(),c={x:l.x-a,y:l.y-s},u=c.x/a,p=c.y/s,d=o+Math.min(u,p);if(i&&"string"==typeof i){var h=t||this.el.naturalWidth,f=e||this.el.naturalHeight,m=parseFloat(i)*h/(100*this.rect.width),g=parseFloat(i)*f/(100*this.rect.height);if(d>m||d>g)return{x:m,y:g}}return{x:d,y:d}}};function ll(){var n=document.documentElement;return{x:Math.min(n.clientWidth,window.innerWidth)/2,y:Math.min(n.clientHeight,window.innerHeight)/2}}function cl(n,e,t){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(r){Xs(n,r,e[r],t)}))}var ul=function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.target=Object.create(sl),this.overlay=Object.create(rl),this.handler=Object.create(nl),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=al({},Qs,e),this.overlay.init(this),this.handler.init(this)}return ol(n,[{key:"listen",value:function(n){if("string"==typeof n)for(var e=document.querySelectorAll(n),t=e.length;t--;)this.listen(e[t]);else"IMG"===n.tagName&&(n.style.cursor=qs,Xs(n,"click",this.handler.click),this.options.preloadImage&&Js(Vs(n)));return this}},{key:"config",value:function(n){return n?(al(this.options,n),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var r="string"==typeof n?document.querySelector(n):n;if("IMG"===r.tagName){if(this.options.onBeforeOpen(r),this.target.init(r,this),!this.options.preloadImage){var i=this.target.srcOriginal;null!=i&&(this.options.onImageLoading(r),Js(i,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),Xs(document,"scroll",this.handler.scroll),Xs(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&Xs(window,"resize",this.handler.resizeWindow);var o=function n(){Xs(r,Zs,n,!1),e.lock=!1,e.target.upgradeSource(),e.options.enableGrab&&cl(document,e.handler,!0),t(r)};return Xs(r,Zs,o),this}}}},{key:"close",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeClose(t),this.lock=!0,this.body.style.cursor=Ds,this.overlay.fadeOut(),this.target.zoomOut(),Xs(document,"scroll",this.handler.scroll,!1),Xs(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&Xs(window,"resize",this.handler.resizeWindow,!1);var r=function r(){Xs(t,Zs,r,!1),n.shown=!1,n.lock=!1,n.target.downgradeSource(),n.options.enableGrab&&cl(document,n.handler,!1),n.target.restoreCloseStyle(),n.overlay.remove(),e(t)};return Xs(t,Zs,r),this}}},{key:"grab",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var i=this.target.el;this.options.onBeforeGrab(i),this.released=!1,this.target.grab(n,e,t);var o=function n(){Xs(i,Zs,n,!1),r(i)};return Xs(i,Zs,o),this}}},{key:"move",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=Us,this.target.move(n,e,t);var i=this.target.el,o=function n(){Xs(i,Zs,n,!1),r(i)};return Xs(i,Zs,o),this}}},{key:"release",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeRelease(t),this.lock=!0,this.body.style.cursor=Ds,this.target.restoreOpenStyle();var r=function r(){Xs(t,Zs,r,!1),n.lock=!1,n.released=!0,e(t)};return Xs(t,Zs,r),this}}}]),n}();const pl=JSON.parse('{"bgColor":"rgba(0,0,0,0.6)"}'),dl=Number("500");class hl{constructor(){this.instance=new ul(pl)}update(n=".theme-vdoing-content img:not(.no-zoom)"){"undefined"!=typeof window&&this.instance.listen(n)}updateDelay(n=".theme-vdoing-content img:not(.no-zoom)",e=dl){setTimeout(()=>this.update(n),e)}}var fl=[ms,xs,js,Ts,Rs,{watch:{"$page.path"(){void 0!==this.$vuepress.zooming&&this.$vuepress.zooming.updateDelay()}},mounted(){this.$vuepress.zooming=new hl,this.$vuepress.zooming.updateDelay()}}],ml={name:"GlobalLayout",computed:{layout(){const n=this.getLayout();return us("layout",n),Jt.component(n)}},methods:{getLayout(){if(this.$page.path){const n=this.$page.frontmatter.layout;return n&&(this.$vuepress.getLayoutAsyncComponent(n)||this.$vuepress.getVueComponent(n))?n:"Layout"}return"NotFound"}}},gl=t(1),yl=Object(gl.a)(ml,(function(){return(0,this._self._c)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;!function(n,e,t){switch(e){case"components":n[e]||(n[e]={}),Object.assign(n[e],t);break;case"mixins":n[e]||(n[e]=[]),n[e].push(...t);break;default:throw new Error("Unknown option name.")}}(yl,"mixins",fl);const vl=[{name:"v-2e0e8d96",path:"/pages/index/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-2e0e8d96").then(t)}},{path:"/pages/index/index.html",redirect:"/pages/index/"},{path:"/10.基础/0.index.html",redirect:"/pages/index/"},{name:"v-7ec0aec5",path:"/ds/plan/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-7ec0aec5").then(t)}},{path:"/ds/plan/index.html",redirect:"/ds/plan/"},{path:"/10.基础/1.plan.html",redirect:"/ds/plan/"},{name:"v-6a85abb7",path:"/basic/roadmap/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-6a85abb7").then(t)}},{path:"/basic/roadmap/index.html",redirect:"/basic/roadmap/"},{path:"/10.基础/10.roadmap.html",redirect:"/basic/roadmap/"},{name:"v-ebaa2d3a",path:"/basic/math/index/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-ebaa2d3a").then(t)}},{path:"/basic/math/index/index.html",redirect:"/basic/math/index/"},{path:"/10.基础/20.数理基础/0.index.html",redirect:"/basic/math/index/"},{name:"v-7f328dd5",path:"/ds/roadmap/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-7f328dd5").then(t)}},{path:"/ds/roadmap/index.html",redirect:"/ds/roadmap/"},{path:"/10.基础/3.roadmap.html",redirect:"/ds/roadmap/"},{name:"v-90e8d116",path:"/basic/python/index/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-90e8d116").then(t)}},{path:"/basic/python/index/index.html",redirect:"/basic/python/index/"},{path:"/10.基础/30.Python/0.index.html",redirect:"/basic/python/index/"},{name:"v-00e142d5",path:"/basic/python/intermediatePy/index/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-00e142d5").then(t)}},{path:"/basic/python/intermediatePy/index/index.html",redirect:"/basic/python/intermediatePy/index/"},{path:"/10.基础/30.Python/10.IntermediatePython/0.index.html",redirect:"/basic/python/intermediatePy/index/"},{name:"v-407ede6a",path:"/basic/python/intermediatePy/part1/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-407ede6a").then(t)}},{path:"/basic/python/intermediatePy/part1/index.html",redirect:"/basic/python/intermediatePy/part1/"},{path:"/10.基础/30.Python/10.IntermediatePython/10.第 1 节.html",redirect:"/basic/python/intermediatePy/part1/"},{name:"v-10a49a4b",path:"/basic/python/intermediatePy/part2/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-10a49a4b").then(t)}},{path:"/basic/python/intermediatePy/part2/index.html",redirect:"/basic/python/intermediatePy/part2/"},{path:"/10.基础/30.Python/10.IntermediatePython/20.第 2 节.html",redirect:"/basic/python/intermediatePy/part2/"},{name:"v-4188a3cb",path:"/basic/python/intermediatePy/part3/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-4188a3cb").then(t)}},{path:"/basic/python/intermediatePy/part3/index.html",redirect:"/basic/python/intermediatePy/part3/"},{path:"/10.基础/30.Python/10.IntermediatePython/30.第 3 节.html",redirect:"/basic/python/intermediatePy/part3/"},{name:"v-726cad4b",path:"/basic/python/intermediatePy/part4/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-726cad4b").then(t)}},{path:"/basic/python/intermediatePy/part4/index.html",redirect:"/basic/python/intermediatePy/part4/"},{path:"/10.基础/30.Python/10.IntermediatePython/40.第 4 节.html",redirect:"/basic/python/intermediatePy/part4/"},{name:"v-b95e926a",path:"/basic/python/intermediatePy/part5/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-b95e926a").then(t)}},{path:"/basic/python/intermediatePy/part5/index.html",redirect:"/basic/python/intermediatePy/part5/"},{path:"/10.基础/30.Python/10.IntermediatePython/50.第 5 节.html",redirect:"/basic/python/intermediatePy/part5/"},{name:"v-3c122209",path:"/pages/8a1564/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-3c122209").then(t)}},{path:"/pages/8a1564/index.html",redirect:"/pages/8a1564/"},{path:"/20.机器学习/0.index.html",redirect:"/pages/8a1564/"},{name:"v-1b88f20b",path:"/ml/course/index/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-1b88f20b").then(t)}},{path:"/ml/course/index/index.html",redirect:"/ml/course/index/"},{path:"/20.机器学习/10.教程/0.index.html",redirect:"/ml/course/index/"},{name:"v-c70bf8f4",path:"/ml/course/ml-andrew/index/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-c70bf8f4").then(t)}},{path:"/ml/course/ml-andrew/index/index.html",redirect:"/ml/course/ml-andrew/index/"},{path:"/20.机器学习/10.教程/10.斯坦福大学2014（吴恩达）机器学习教程/0.index.html",redirect:"/ml/course/ml-andrew/index/"},{name:"v-4f3b741f",path:"/ml/course/ml-andrew/week1/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-4f3b741f").then(t)}},{path:"/ml/course/ml-andrew/week1/index.html",redirect:"/ml/course/ml-andrew/week1/"},{path:"/20.机器学习/10.教程/10.斯坦福大学2014（吴恩达）机器学习教程/10.第1周.html",redirect:"/ml/course/ml-andrew/week1/"},{name:"v-7a3ee123",path:"/ml/course/ml-andrew/week2/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-7a3ee123").then(t)}},{path:"/ml/course/ml-andrew/week2/index.html",redirect:"/ml/course/ml-andrew/week2/"},{path:"/20.机器学习/10.教程/10.斯坦福大学2014（吴恩达）机器学习教程/20.第2周.html",redirect:"/ml/course/ml-andrew/week2/"},{name:"v-90f07c14",path:"/pages/b03d34/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-90f07c14").then(t)}},{path:"/pages/b03d34/index.html",redirect:"/pages/b03d34/"},{path:"/30.深度学习/0.index.html",redirect:"/pages/b03d34/"},{name:"v-279933cf",path:"/pages/4f8104/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-279933cf").then(t)}},{path:"/pages/4f8104/index.html",redirect:"/pages/4f8104/"},{path:"/40.自然语言处理/0.index.html",redirect:"/pages/4f8104/"},{name:"v-03ef29f2",path:"/pages/0af6c9/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-03ef29f2").then(t)}},{path:"/pages/0af6c9/index.html",redirect:"/pages/0af6c9/"},{path:"/50.AI/0.index.html",redirect:"/pages/0af6c9/"},{name:"v-76e4cc32",path:"/archives/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-76e4cc32").then(t)}},{path:"/archives/index.html",redirect:"/archives/"},{path:"/@pages/archivesPage.html",redirect:"/archives/"},{name:"v-c960d772",path:"/categories/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-c960d772").then(t)}},{path:"/categories/index.html",redirect:"/categories/"},{path:"/@pages/categoriesPage.html",redirect:"/categories/"},{name:"v-6e508167",path:"/tags/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-6e508167").then(t)}},{path:"/tags/index.html",redirect:"/tags/"},{path:"/@pages/tagsPage.html",redirect:"/tags/"},{name:"v-ebd411f2",path:"/qa/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-ebd411f2").then(t)}},{path:"/qa/index.html",redirect:"/qa/"},{path:"/Q&A.html",redirect:"/qa/"},{name:"v-1dbd0980",path:"/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-1dbd0980").then(t)}},{path:"/index.html",redirect:"/"},{name:"v-e1201b82",path:"/about/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-e1201b82").then(t)}},{path:"/about/index.html",redirect:"/about/"},{path:"/关于.html",redirect:"/about/"},{name:"v-9ca9a9fa",path:"/link/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-9ca9a9fa").then(t)}},{path:"/link/index.html",redirect:"/link/"},{path:"/导航站.html",redirect:"/link/"},{name:"v-08b25cb1",path:"/basic/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-08b25cb1").then(t)}},{path:"/basic/index.html",redirect:"/basic/"},{path:"/目录/10.基础.html",redirect:"/basic/"},{name:"v-50f4809f",path:"/ml/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-50f4809f").then(t)}},{path:"/ml/index.html",redirect:"/ml/"},{path:"/目录/20.机器学习.html",redirect:"/ml/"},{name:"v-7c88d6ee",path:"/dl/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-7c88d6ee").then(t)}},{path:"/dl/index.html",redirect:"/dl/"},{path:"/目录/30. 深度学习.html",redirect:"/dl/"},{name:"v-a1390056",path:"/more/",component:yl,beforeEnter:(n,e,t)=>{cs("Layout","v-a1390056").then(t)}},{path:"/more/index.html",redirect:"/more/"},{path:"/目录/40. 更多.html",redirect:"/more/"},{path:"*",component:yl}],_l={title:"",description:"",base:"/",headTags:[["link",{rel:"icon",href:"/img/favicon32x32.ico"}],["meta",{name:"referrer",content:"no-referrer-when-downgrade"}],["meta",{name:"keywords",content:"机器学习,深度学习"}],["meta",{name:"theme-color",content:"#A0CEC7"}],["link",{rel:"stylesheet",href:"//at.alicdn.com/t/font_3314748_9xij1pv3h4i.css"}]],pages:[{title:"开始上手",frontmatter:{title:"开始上手",date:"2022-04-09T19:37:08.000Z",permalink:"/pages/index/",categories:["基础"],tags:[null]},regularPath:"/10.%E5%9F%BA%E7%A1%80/0.index.html",relativePath:"10.基础/0.index.md",key:"v-2e0e8d96",path:"/pages/index/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/10, 17:36:37",lastUpdatedTimestamp:1649583397e3},{title:"Plan 计划",frontmatter:{title:"Plan 计划",date:"2022-04-16T16:44:07.000Z",permalink:"/ds/plan/",categories:["数据结构"],tags:[null]},regularPath:"/10.%E5%9F%BA%E7%A1%80/1.plan.html",relativePath:"10.基础/1.plan.md",key:"v-7ec0aec5",path:"/ds/plan/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/09/16, 10:07:48",lastUpdatedTimestamp:1663294068e3},{title:"RoadMap 机器学习路线",frontmatter:{title:"RoadMap 机器学习路线",date:"2022-04-09T14:18:01.000Z",permalink:"/basic/roadmap/",categories:["基础","RoadMap"],tags:[null]},regularPath:"/10.%E5%9F%BA%E7%A1%80/10.roadmap.html",relativePath:"10.基础/10.roadmap.md",key:"v-6a85abb7",path:"/basic/roadmap/",headers:[{level:2,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:2},{level:2,title:"资料",slug:"资料",normalizedTitle:"资料",charIndex:123},{level:2,title:"建站初衷",slug:"建站初衷",normalizedTitle:"建站初衷",charIndex:287},{level:2,title:"推荐的学习路径",slug:"推荐的学习路径",normalizedTitle:"推荐的学习路径",charIndex:310}],headersStr:"参考 资料 建站初衷 推荐的学习路径",content:"# 参考\n\n * NLP-RoadMap\n * AlphaTree : DNN && GAN && NLP && BIG DATA 从新手到深度学习应用工程师\n * ApacheCN AI 路线图（知识树）\n * AI learning\n\n\n# 资料\n\n * 机器学习初学者-AI入门的宝典\n * 机器学习爱好者 - 知乎\n * fengdu78/WZU-machine-learning-course: 温州大学《机器学习》课程资料（代码、课件等）\n * fengdu78/Coursera-ML-AndrewNg-Notes: 吴恩达老师的机器学习课程个人笔记\n\n\n# 建站初衷\n\n参见：关于 | 建站初衷\n\n\n# 推荐的学习路径",normalizedContent:"# 参考\n\n * nlp-roadmap\n * alphatree : dnn && gan && nlp && big data 从新手到深度学习应用工程师\n * apachecn ai 路线图（知识树）\n * ai learning\n\n\n# 资料\n\n * 机器学习初学者-ai入门的宝典\n * 机器学习爱好者 - 知乎\n * fengdu78/wzu-machine-learning-course: 温州大学《机器学习》课程资料（代码、课件等）\n * fengdu78/coursera-ml-andrewng-notes: 吴恩达老师的机器学习课程个人笔记\n\n\n# 建站初衷\n\n参见：关于 | 建站初衷\n\n\n# 推荐的学习路径",charsets:{cjk:!0},lastUpdated:"2022/04/13, 23:38:30",lastUpdatedTimestamp:164986431e4},{title:"开始上手",frontmatter:{title:"开始上手",date:"2022-04-09T14:51:06.000Z",permalink:"/basic/math/index/",categories:["基础","数理基础"],tags:[null]},regularPath:"/10.%E5%9F%BA%E7%A1%80/20.%E6%95%B0%E7%90%86%E5%9F%BA%E7%A1%80/0.index.html",relativePath:"10.基础/20.数理基础/0.index.md",key:"v-ebaa2d3a",path:"/basic/math/index/",excerpt:"",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/10, 10:10:39",lastUpdatedTimestamp:1649556639e3},{title:"Roadmap 路线",frontmatter:{title:"Roadmap 路线",date:"2022-04-16T16:44:46.000Z",permalink:"/ds/roadmap/",categories:["数据结构"],tags:[null]},regularPath:"/10.%E5%9F%BA%E7%A1%80/3.roadmap.html",relativePath:"10.基础/3.roadmap.md",key:"v-7f328dd5",path:"/ds/roadmap/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/09/16, 10:07:48",lastUpdatedTimestamp:1663294068e3},{title:"开始上手",frontmatter:{title:"开始上手",date:"2022-04-09T14:51:06.000Z",permalink:"/basic/python/index/",categories:["编程基础","Python"],tags:[null]},regularPath:"/10.%E5%9F%BA%E7%A1%80/30.Python/0.index.html",relativePath:"10.基础/30.Python/0.index.md",key:"v-90e8d116",path:"/basic/python/index/",headers:[{level:2,title:"RoadMap",slug:"roadmap",normalizedTitle:"roadmap",charIndex:2},{level:2,title:"声明",slug:"声明",normalizedTitle:"声明",charIndex:16},{level:3,title:"Python 基础",slug:"python-基础",normalizedTitle:"python 基础",charIndex:23},{level:2,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:130}],headersStr:"RoadMap 声明 Python 基础 参考",content:"# RoadMap\n\n\n\n\n# 声明\n\n\n# Python 基础\n\n * Python 教程 — Python 3.10.4 文档\n * Python 入门指南 — Python3 中文手册 3.5.2 文档\n * 《零基础学python》（第二版）\n\n\n# 参考\n\n * 《Python进阶》\n * python进阶教程 — python_advance v1.0 文档\n * Awesome Python\n * jackfrued/Python-100-Days: Python - 100天从新手到大师",normalizedContent:"# roadmap\n\n\n\n\n# 声明\n\n\n# python 基础\n\n * python 教程 — python 3.10.4 文档\n * python 入门指南 — python3 中文手册 3.5.2 文档\n * 《零基础学python》（第二版）\n\n\n# 参考\n\n * 《python进阶》\n * python进阶教程 — python_advance v1.0 文档\n * awesome python\n * jackfrued/python-100-days: python - 100天从新手到大师",charsets:{cjk:!0},lastUpdated:"2022/09/16, 10:07:48",lastUpdatedTimestamp:1663294068e3},{title:"开始上手",frontmatter:{title:"开始上手",date:"2022-04-13T14:51:06.000Z",permalink:"/basic/python/intermediatePy/index/",categories:["编程基础","Python","Python 进阶"],tags:[null]},regularPath:"/10.%E5%9F%BA%E7%A1%80/30.Python/10.IntermediatePython/0.index.html",relativePath:"10.基础/30.Python/10.IntermediatePython/0.index.md",key:"v-00e142d5",path:"/basic/python/intermediatePy/index/",headers:[{level:2,title:"前言",slug:"前言",normalizedTitle:"前言",charIndex:74},{level:2,title:"原书作者",slug:"原书作者",normalizedTitle:"原书作者",charIndex:572},{level:2,title:"译者",slug:"译者",normalizedTitle:"译者",charIndex:305},{level:2,title:"欢迎建议指正或直接贡献代码",slug:"欢迎建议指正或直接贡献代码",normalizedTitle:"欢迎建议指正或直接贡献代码",charIndex:696},{level:2,title:"关于原作者",slug:"关于原作者",normalizedTitle:"关于原作者",charIndex:765},{level:2,title:"作者前言",slug:"作者前言",normalizedTitle:"作者前言",charIndex:1052},{level:2,title:"开源公告",slug:"开源公告",normalizedTitle:"开源公告",charIndex:1505}],excerpt:"<p>《Python进阶》是《Intermediate Python》的中文译本, 谨以此献给进击的 Python 和 Python 程序员们!</p>\n",headersStr:"前言 原书作者 译者 欢迎建议指正或直接贡献代码 关于原作者 作者前言 开源公告",content:'《Python进阶》是《Intermediate Python》的中文译本, 谨以此献给进击的 Python 和 Python 程序员们!\n\n\n# 前言\n\nPython，作为一个"老练"、"小清新"的开发语言，已受到广大才男俊女的喜爱。我们也从最基础的Python粉，经过时间的摧残慢慢的变成了Python老鬼。\n\nIntermediatePython这本书具有如下几个优点：\n\n 1. 简单\n 2. 易读\n 3. 易译\n\n这些都不是重点，重点是： 它是一本开脑洞的书 。无论你是Python初学者，还是Python高手，它显现给你的永远是Python里最美好的事物。\n\n> 世上语言千万种 美好事物藏其中\n\n译者在翻译过程中，慢慢发现，本书作者的行文方式有着科普作家的风范，--那就是能将晦涩难懂的技术用比较清晰简洁的方式进行呈现，深入浅出的风格在每个章节的讨论中都得到了体现： - 每个章节都非常精简，5分钟就能看完，用最简洁的例子精辟地展现了原理 - 每个章节都会通过疑问，来引导读者主动思考答案 - 每个章节都引导读者做延伸阅读，让有兴趣的读者能进一步举一反三 - 每个章节都是独立的，你可以挑选任意的章节开始阅读，而不受影响。\n\n总之，这本书非常方便随时选取一个章节进行阅读，而且每次阅读一个章节，你都可能会有一些新的发现。\n\n\n# 原书作者\n\n感谢英文原著作者 @yasoob《Intermediate Python》，有了他才有了这里的一切\n\n\n# 译者\n\n老高 @spawnris 刘宇 @liuyu 明源 @muxueqz 大牙 @suqi 蒋委员长 @jiedo\n\n\n# 欢迎建议指正或直接贡献代码\n\nhttps://github.com/eastlakeside/interpy-zh/issues\n\n\n# 关于原作者\n\n我是 Muhammad Yasoob Ullah Khalid.\n\n我已经广泛使用 Python 编程3年多了. 同时参与了很多开源项目. 并定期在我的博客里写一些关于Python有趣的话题.\n\n2014年我在柏林举办的欧洲最大的Python会议EuroPython上做过精彩的演讲.\n\n> 译者注：分享的主题为：《Session: Web Scraping in Python 101》 地址：https://ep2014.europython.eu/en/schedule/sessions/20/\n\n如果你能给我有意思的工作机会, 请联系我哦.\n\n\n# 作者前言\n\nHello 大家好! 我非常自豪地宣布我自己创作的书完成啦. 经过很多辛苦工作和决心, 终于将不可能变成了可能, "Intermediate Python"终于杀青. ps: 它还将持续更新 😃\n\nPython 是一门奇妙的语言, 还有一个强大而友爱的程序员社区. 然而, 在你理解消化掉 Python 的基础后, 关于下一步学习什么的资料比较缺乏. 而我正是要通过本书来解决这一问题. 我会给你一些可以进一步探索的有趣的话题的信息.\n\n本书讨论的这些话题将会打开你的脑洞, 将你引导至 Python 语言的一些美好的地方. 我最开始学习 Python 时, 渴望见到Python最优雅的地方, 而本书正是这些渴望的结果.\n\n无论你是个初学者, 中级或者甚至高级程序员, 你都会在这本书里有所收获.\n\n请注意本书不是一个指导手册, 也不会教你 Python. 因为书中的话题并没有进行基础解释, 而只提供了展开讨论前所需的最少信息.\n\n好啦，你肯定也和我一样兴奋, 那让我们开始吧!\n\n\n# 开源公告\n\n注意: 这本书是开源的, 也是一个持续进展中的工作. 如果你发现typo, 或者想添加更多内容进来, 或者可以改进的任意地方(我知道你会发现很多), 那么请慷慨地提交一个 pull request, 我会无比高兴地合并进来. 😃\n\n另外, 我决定将这本书免费发布! 我相信它会帮助到那些需要帮助的人. 祝你们好运!',normalizedContent:'《python进阶》是《intermediate python》的中文译本, 谨以此献给进击的 python 和 python 程序员们!\n\n\n# 前言\n\npython，作为一个"老练"、"小清新"的开发语言，已受到广大才男俊女的喜爱。我们也从最基础的python粉，经过时间的摧残慢慢的变成了python老鬼。\n\nintermediatepython这本书具有如下几个优点：\n\n 1. 简单\n 2. 易读\n 3. 易译\n\n这些都不是重点，重点是： 它是一本开脑洞的书 。无论你是python初学者，还是python高手，它显现给你的永远是python里最美好的事物。\n\n> 世上语言千万种 美好事物藏其中\n\n译者在翻译过程中，慢慢发现，本书作者的行文方式有着科普作家的风范，--那就是能将晦涩难懂的技术用比较清晰简洁的方式进行呈现，深入浅出的风格在每个章节的讨论中都得到了体现： - 每个章节都非常精简，5分钟就能看完，用最简洁的例子精辟地展现了原理 - 每个章节都会通过疑问，来引导读者主动思考答案 - 每个章节都引导读者做延伸阅读，让有兴趣的读者能进一步举一反三 - 每个章节都是独立的，你可以挑选任意的章节开始阅读，而不受影响。\n\n总之，这本书非常方便随时选取一个章节进行阅读，而且每次阅读一个章节，你都可能会有一些新的发现。\n\n\n# 原书作者\n\n感谢英文原著作者 @yasoob《intermediate python》，有了他才有了这里的一切\n\n\n# 译者\n\n老高 @spawnris 刘宇 @liuyu 明源 @muxueqz 大牙 @suqi 蒋委员长 @jiedo\n\n\n# 欢迎建议指正或直接贡献代码\n\nhttps://github.com/eastlakeside/interpy-zh/issues\n\n\n# 关于原作者\n\n我是 muhammad yasoob ullah khalid.\n\n我已经广泛使用 python 编程3年多了. 同时参与了很多开源项目. 并定期在我的博客里写一些关于python有趣的话题.\n\n2014年我在柏林举办的欧洲最大的python会议europython上做过精彩的演讲.\n\n> 译者注：分享的主题为：《session: web scraping in python 101》 地址：https://ep2014.europython.eu/en/schedule/sessions/20/\n\n如果你能给我有意思的工作机会, 请联系我哦.\n\n\n# 作者前言\n\nhello 大家好! 我非常自豪地宣布我自己创作的书完成啦. 经过很多辛苦工作和决心, 终于将不可能变成了可能, "intermediate python"终于杀青. ps: 它还将持续更新 😃\n\npython 是一门奇妙的语言, 还有一个强大而友爱的程序员社区. 然而, 在你理解消化掉 python 的基础后, 关于下一步学习什么的资料比较缺乏. 而我正是要通过本书来解决这一问题. 我会给你一些可以进一步探索的有趣的话题的信息.\n\n本书讨论的这些话题将会打开你的脑洞, 将你引导至 python 语言的一些美好的地方. 我最开始学习 python 时, 渴望见到python最优雅的地方, 而本书正是这些渴望的结果.\n\n无论你是个初学者, 中级或者甚至高级程序员, 你都会在这本书里有所收获.\n\n请注意本书不是一个指导手册, 也不会教你 python. 因为书中的话题并没有进行基础解释, 而只提供了展开讨论前所需的最少信息.\n\n好啦，你肯定也和我一样兴奋, 那让我们开始吧!\n\n\n# 开源公告\n\n注意: 这本书是开源的, 也是一个持续进展中的工作. 如果你发现typo, 或者想添加更多内容进来, 或者可以改进的任意地方(我知道你会发现很多), 那么请慷慨地提交一个 pull request, 我会无比高兴地合并进来. 😃\n\n另外, 我决定将这本书免费发布! 我相信它会帮助到那些需要帮助的人. 祝你们好运!',charsets:{cjk:!0},lastUpdated:"2022/09/16, 10:07:48",lastUpdatedTimestamp:1663294068e3},{title:"Python 进阶 —— 第一节",frontmatter:{title:"Python 进阶 —— 第一节",date:"2022-04-13T14:51:06.000Z",permalink:"/basic/python/intermediatePy/part1/",categories:["编程基础","Python","Python 进阶"],tags:[null]},regularPath:"/10.%E5%9F%BA%E7%A1%80/30.Python/10.IntermediatePython/10.%E7%AC%AC%201%20%E8%8A%82.html",relativePath:"10.基础/30.Python/10.IntermediatePython/10.第 1 节.md",key:"v-407ede6a",path:"/basic/python/intermediatePy/part1/",headers:[{level:2,title:"*args 和 **kwargs",slug:"args-和-kwargs",normalizedTitle:"*args 和 **kwargs",charIndex:2},{level:3,title:"*args 的用法",slug:"args-的用法",normalizedTitle:"*args 的用法",charIndex:214},{level:3,title:"**kwargs 的用法",slug:"kwargs-的用法",normalizedTitle:"**kwargs 的用法",charIndex:771},{level:3,title:"使用 *args 和 **kwargs 来调用函数",slug:"使用-args-和-kwargs-来调用函数",normalizedTitle:"使用 *args 和 **kwargs 来调用函数",charIndex:1165},{level:3,title:"标准参数与*args、**kwargs在使用时的顺序",slug:"标准参数与-args、-kwargs在使用时的顺序",normalizedTitle:"标准参数与*args、**kwargs在使用时的顺序",charIndex:1666},{level:3,title:"什么时候使用它们？",slug:"什么时候使用它们",normalizedTitle:"什么时候使用它们？",charIndex:1729},{level:2,title:"调试（Debugging）",slug:"调试-debugging",normalizedTitle:"调试（debugging）",charIndex:2062},{level:3,title:"从命令行运行",slug:"从命令行运行",normalizedTitle:"从命令行运行",charIndex:2270},{level:3,title:"从脚本内部运行",slug:"从脚本内部运行",normalizedTitle:"从脚本内部运行",charIndex:2424},{level:5,title:"命令列表：",slug:"命令列表",normalizedTitle:"命令列表：",charIndex:2695},{level:2,title:"生成器（Generators）",slug:"生成器-generators",normalizedTitle:"生成器（generators）",charIndex:2965},{level:3,title:"可迭代对象(Iterable)",slug:"可迭代对象-iterable",normalizedTitle:"可迭代对象(iterable)",charIndex:3109},{level:3,title:"迭代器(Iterator)",slug:"迭代器-iterator",normalizedTitle:"迭代器(iterator)",charIndex:3128},{level:3,title:"迭代(Iteration)",slug:"迭代-iteration",normalizedTitle:"迭代(iteration)",charIndex:3145},{level:3,title:"生成器(Generators)",slug:"生成器-generators-2",normalizedTitle:"生成器(generators)",charIndex:3573},{level:2,title:"Map，Filter 和 Reduce",slug:"map-filter-和-reduce",normalizedTitle:"map，filter 和 reduce",charIndex:5671},{level:3,title:"Map",slug:"map",normalizedTitle:"map",charIndex:5671},{level:3,title:"Filter",slug:"filter",normalizedTitle:"filter",charIndex:5675},{level:3,title:"Reduce",slug:"reduce",normalizedTitle:"reduce",charIndex:5684},{level:2,title:"set(集合)数据结构",slug:"set-集合-数据结构",normalizedTitle:"set(集合)数据结构",charIndex:7302},{level:2,title:"交集",slug:"交集",normalizedTitle:"交集",charIndex:7935},{level:2,title:"差集",slug:"差集",normalizedTitle:"差集",charIndex:8133},{level:2,title:"三元运算符",slug:"三元运算符",normalizedTitle:"三元运算符",charIndex:8482}],headersStr:"*args 和 **kwargs *args 的用法 **kwargs 的用法 使用 *args 和 **kwargs 来调用函数 标准参数与*args、**kwargs在使用时的顺序 什么时候使用它们？ 调试（Debugging） 从命令行运行 从脚本内部运行 命令列表： 生成器（Generators） 可迭代对象(Iterable) 迭代器(Iterator) 迭代(Iteration) 生成器(Generators) Map，Filter 和 Reduce Map Filter Reduce set(集合)数据结构 交集 差集 三元运算符",content:"# *args 和 **kwargs\n\n我观察到，大部分新的Python程序员都需要花上大量时间理解清楚 *args 和**kwargs这两个魔法变量。那么它们到底是什么?\n\n首先让我告诉你, 其实并不是必须写成*args 和**kwargs。 只有变量前面的 *(星号)才是必须的. 你也可以写成*var 和**vars。而写成*args 和**kwargs只是一个通俗的命名约定。 那就让我们先看一下*args吧。\n\n\n# *args 的用法\n\n*args 和 **kwargs 主要用于函数定义。 你可以将不定数量的参数传递给一个函数。\n\n这里的不定的意思是：预先并不知道, 函数使用者会传递多少个参数给你, 所以在这个场景下使用这两个关键字。 *args 是用来发送一个非键值对的可变数量的参数列表给一个函数.\n\n这里有个例子帮你理解这个概念:\n\ndef test_var_args(f_arg, *argv):\n    print(\"first normal arg:\", f_arg)\n    for arg in argv:\n        print(\"another arg through *argv:\", arg)\n\ntest_var_args('yasoob', 'python', 'eggs', 'test')\n\n\n1\n2\n3\n4\n5\n6\n\n\n这会产生如下输出:\n\nfirst normal arg: yasoob\nanother arg through *argv: python\nanother arg through *argv: eggs\nanother arg through *argv: test\n\n\n1\n2\n3\n4\n\n\n我希望这解决了你所有的困惑. 那接下来让我们谈谈 **kwargs。\n\n\n# **kwargs 的用法\n\n**kwargs 允许你将不定长度的 键值对 , 作为参数传递给一个函数。 如果你想要在一个函数里处理 带名字的参数 , 你应该使用**kwargs。\n\n这里有个让你上手的例子:\n\ndef greet_me(**kwargs):\n    for key, value in kwargs.items():\n        print(\"{0} == {1}\".format(key, value))\n\n\n>>> greet_me(name=\"yasoob\")\nname == yasoob\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n现在你可以看出我们怎样在一个函数里, 处理了一个键值对参数了。\n\n这就是**kwargs的基础, 而且你可以看出它有多么管用。 接下来让我们谈谈，你怎样使用*args 和 **kwargs来调用一个参数为列表或者字典的函数。\n\n\n# 使用 *args 和 **kwargs 来调用函数\n\n那现在我们将看到怎样使用*args和**kwargs 来调用一个函数。 假设，你有这样一个小函数：\n\ndef test_args_kwargs(arg1, arg2, arg3):\n    print(\"arg1:\", arg1)\n    print(\"arg2:\", arg2)\n    print(\"arg3:\", arg3)\n\n\n1\n2\n3\n4\n\n\n你可以使用*args或**kwargs来给这个小函数传递参数。 下面是怎样做：\n\n# 首先使用 *args\n>>> args = (\"two\", 3, 5)\n>>> test_args_kwargs(*args)\narg1: two\narg2: 3\narg3: 5\n\n# 现在使用 **kwargs:\n>>> kwargs = {\"arg3\": 3, \"arg2\": \"two\", \"arg1\": 5}\n>>> test_args_kwargs(**kwargs)\narg1: 5\narg2: two\narg3: 3\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 标准参数与*args、**kwargs在使用时的顺序\n\n那么如果你想在函数里同时使用所有这三种参数， 顺序是这样的：\n\n\n# 什么时候使用它们？\n\n这还真的要看你的需求而定。\n\n最常见的用例是在写函数装饰器的时候（会在另一章里讨论）。\n\n此外它也可以用来做猴子补丁(monkey patching)。猴子补丁的意思是在程序运行时(runtime)修改某些代码。 打个比方，你有一个类，里面有个叫get_info的函数会调用一个API并返回相应的数据。如果我们想测试它，可以把API调用替换成一些测试数据。例如：\n\nimport someclass\n\ndef get_info(self, *args):\n    return \"Test data\"\n\nsomeclass.get_info = get_info\n\n\n1\n2\n3\n4\n5\n6\n\n\n我敢肯定你也可以想象到一些其他的用例。\n\n\n# 调试（Debugging）\n\n利用好调试，能大大提高你捕捉代码Bug的。大部分新人忽略了Python debugger(pdb)的重要性。 在这个章节我只会告诉你一些重要的命令，你可以从官方文档中学习到更多。\n\n> 译者注，参考：https://docs.python.org/2/library/pdb.html Or https://docs.python.org/3/library/pdb.html\n\n\n# 从命令行运行\n\n你可以在命令行使用Python debugger运行一个脚本， 举个例子：\n\n$ python -m pdb my_script.py\n\n\n1\n\n\n这会触发debugger在脚本第一行指令处停止执行。这在脚本很短时会很有帮助。你可以通过(Pdb)模式接着查看变量信息，并且逐行调试。\n\n\n# 从脚本内部运行\n\n同时，你也可以在脚本内部设置断点，这样就可以在某些特定点查看变量信息和各种执行时信息了。这里将使用pdb.set_trace()方法来实现。举个例子：\n\nimport pdb\n\ndef make_bread():\n    pdb.set_trace()\n    return \"I don't have time\"\n\nprint(make_bread())\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n试下保存上面的脚本后运行之。你会在运行时马上进入debugger模式。现在是时候了解下debugger模式下的一些命令了。\n\n# 命令列表：\n\n * c: 继续执行\n * w: 显示当前正在执行的代码行的上下文信息\n * a: 打印当前函数的参数列表\n * s: 执行当前代码行，并停在第一个能停的地方（相当于单步进入）\n * n: 继续执行到当前函数的下一行，或者当前行直接返回（单步跳过）\n\n单步跳过（next）和单步进入（step）的区别在于， 单步进入会进入当前行调用的函数内部并停在里面， 而单步跳过会（几乎）全速执行完当前行调用的函数，并停在当前函数的下一行。\n\npdb真的是一个很方便的功能，上面仅列举少量用法，更多的命令强烈推荐你去看官方文档。\n\n\n# 生成器（Generators）\n\n首先我们要理解迭代器(iterators)。根据维基百科，迭代器是一个让程序员可以遍历一个容器（特别是列表）的对象。然而，一个迭代器在遍历并读取一个容器的数据元素时，并不会执行一个迭代。你可能有点晕了，那我们来个慢动作。换句话说这里有三个部分：\n\n * 可迭代对象(Iterable)\n * 迭代器(Iterator)\n * 迭代(Iteration)\n\n上面这些部分互相联系。我们会先各个击破来讨论他们，然后再讨论生成器(generators).\n\n\n# 可迭代对象(Iterable)\n\nPython中任意的对象，只要它定义了可以返回一个迭代器的__iter__方法，或者定义了可以支持下标索引的__getitem__方法(这些双下划线方法会在其他章节中全面解释)，那么它就是一个可迭代对象。简单说，可迭代对象就是能提供迭代器的任意对象。那迭代器又是什么呢？\n\n\n# 迭代器(Iterator)\n\n任意对象，只要定义了next(Python2) 或者__next__方法，它就是一个迭代器。就这么简单。现在我们来理解迭代(iteration)。\n\n\n# 迭代(Iteration)\n\n用简单的话讲，它就是从某个地方（比如一个列表）取出一个元素的过程。当我们使用一个循环来遍历某个东西时，这个过程本身就叫迭代。现在既然我们有了这些术语的基本理解，那我们开始理解生成器吧。\n\n\n# 生成器(Generators)\n\n生成器也是一种迭代器，但是你只能对其迭代一次。这是因为它们并没有把所有的值存在内存中，而是在运行时生成值。你通过遍历来使用它们，要么用一个“for”循环，要么将它们传递给任意可以进行迭代的函数和结构。大多数时候生成器是以函数来实现的。然而，它们并不返回一个值，而是yield(暂且译作“生出”)一个值。这里有个生成器函数的简单例子：\n\ndef generator_function():\n    for i in range(10):\n        yield i\n\nfor item in generator_function():\n    print(item)\n\n# Output: 0\n# 1\n# 2\n# 3\n# 4\n# 5\n# 6\n# 7\n# 8\n# 9\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n这个案例并不是非常实用。生成器最佳应用场景是：你不想同一时间将所有计算出来的大量结果集分配到内存当中，特别是结果集里还包含循环。\n\n> 译者注：这样做会消耗大量资源\n\n许多Python 2里的标准库函数都会返回列表，而Python 3都修改成了返回生成器，因为生成器占用更少的资源。\n\n下面是一个计算斐波那契数列的生成器：\n\n# generator version\ndef fibon(n):\n    a = b = 1\n    for i in range(n):\n        yield a\n        a, b = b, a + b\n\n\n1\n2\n3\n4\n5\n6\n\n\n函数使用方法如下：\n\nfor x in fibon(1000000):\n    print(x)\n\n\n1\n2\n\n\n用这种方式，我们可以不用担心它会使用大量资源。然而，之前如果我们这样来实现的话：\n\ndef fibon(n):\n    a = b = 1\n    result = []\n    for i in range(n):\n        result.append(a)\n        a, b = b, a + b\n    return result\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n这也许会在计算很大的输入参数时，用尽所有的资源。我们已经讨论过生成器使用一次迭代，但我们并没有测试过。在测试前你需要再知道一个Python内置函数：next()。它允许我们获取一个序列的下一个元素。那我们来验证下我们的理解：\n\ndef generator_function():\n    for i in range(3):\n        yield i\n\ngen = generator_function()\nprint(next(gen))\n# Output: 0\nprint(next(gen))\n# Output: 1\nprint(next(gen))\n# Output: 2\nprint(next(gen))\n# Output: Traceback (most recent call last):\n#            File \"<stdin>\", line 1, in <module>\n#         StopIteration\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n我们可以看到，在yield掉所有的值后，next()触发了一个StopIteration的异常。基本上这个异常告诉我们，所有的值都已经被yield完了。你也许会奇怪，为什么我们在使用for循环时没有这个异常呢？啊哈，答案很简单。for循环会自动捕捉到这个异常并停止调用next()。你知不知道Python中一些内置数据类型也支持迭代哦？我们这就去看看：\n\nmy_string = \"Yasoob\"\nnext(my_string)\n# Output: Traceback (most recent call last):\n#      File \"<stdin>\", line 1, in <module>\n#    TypeError: str object is not an iterator\n\n\n1\n2\n3\n4\n5\n\n\n好吧，这不是我们预期的。这个异常说那个str对象不是一个迭代器。对，就是这样！它是一个可迭代对象，而不是一个迭代器。这意味着它支持迭代，但我们不能直接对其进行迭代操作。那我们怎样才能对它实施迭代呢？是时候学习下另一个内置函数，iter。它将根据一个可迭代对象返回一个迭代器对象。这里是我们如何使用它：\n\nmy_string = \"Yasoob\"\nmy_iter = iter(my_string)\nnext(my_iter)\n# Output: 'Y'\n\n\n1\n2\n3\n4\n\n\n现在好多啦。我肯定你已经爱上了学习生成器。一定要记住，想要完全掌握这个概念，你只有使用它。确保你按照这个模式，并在生成器对你有意义的任何时候都使用它。你绝对不会失望的！\n\n\n# Map，Filter 和 Reduce\n\nMap，Filter 和 Reduce 三个函数能为函数式编程提供便利。我们会通过实例一个一个讨论并理解它们。\n\n\n# Map\n\nMap会将一个函数映射到一个输入列表的所有元素上。这是它的规范：\n\n规范\n\nmap(function_to_apply, list_of_inputs)\n\n\n1\n\n\n大多数时候，我们要把列表中所有元素一个个地传递给一个函数，并收集输出。比方说：\n\nitems = [1, 2, 3, 4, 5]\nsquared = []\nfor i in items:\n    squared.append(i**2)\n\n\n1\n2\n3\n4\n\n\nMap可以让我们用一种简单而漂亮得多的方式来实现。就是这样：\n\nitems = [1, 2, 3, 4, 5]\nsquared = list(map(lambda x: x**2, items))\n\n\n1\n2\n\n\n大多数时候，我们使用匿名函数(lambdas)来配合map, 所以我在上面也是这么做的。 不仅用于一列表的输入， 我们甚至可以用于一列表的函数！\n\ndef multiply(x):\n        return (x*x)\ndef add(x):\n        return (x+x)\n\nfuncs = [multiply, add]\nfor i in range(5):\n    value = map(lambda x: x(i), funcs)\n    print(list(value))\n    # 译者注：上面print时，加了list转换，是为了python2/3的兼容性\n    #        在python2中map直接返回列表，但在python3中返回迭代器\n    #        因此为了兼容python3, 需要list转换一下\n\n# Output:\n# [0, 0]\n# [1, 2]\n# [4, 4]\n# [9, 6]\n# [16, 8]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# Filter\n\n顾名思义，filter过滤列表中的元素，并且返回一个由所有符合要求的元素所构成的列表，符合要求即函数映射到该元素时返回值为True. 这里是一个简短的例子：\n\nnumber_list = range(-5, 5)\nless_than_zero = filter(lambda x: x < 0, number_list)\nprint(list(less_than_zero))  \n# 译者注：上面print时，加了list转换，是为了python2/3的兼容性\n#        在python2中filter直接返回列表，但在python3中返回迭代器\n#        因此为了兼容python3, 需要list转换一下\n\n# Output: [-5, -4, -3, -2, -1]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n这个filter类似于一个for循环，但它是一个内置函数，并且更快。\n\n注意：如果map和filter对你来说看起来并不优雅的话，那么你可以看看另外一章：列表/字典/元组推导式。\n\n> 译者注：大部分情况下推导式的可读性更好\n\n\n# Reduce\n\n当需要对一个列表进行一些计算并返回结果时，Reduce 是个非常有用的函数。举个例子，当你需要计算一个整数列表的乘积时。\n\n通常在 python 中你可能会使用基本的 for 循环来完成这个任务。\n\n现在我们来试试 reduce：\n\nfrom functools import reduce\nproduct = reduce( (lambda x, y: x * y), [1, 2, 3, 4] )\n\n# Output: 24\n\n\n1\n2\n3\n4\n\n\n\n# set(集合)数据结构\n\nset(集合)是一个非常有用的数据结构。它与列表(list)的行为类似，区别在于set不能包含重复的值。 这在很多情况下非常有用。例如你可能想检查列表中是否包含重复的元素，你有两个选择，第一个需要使用for循环，就像这样：\n\nsome_list = ['a', 'b', 'c', 'b', 'd', 'm', 'n', 'n']\n\nduplicates = []\nfor value in some_list:\n    if some_list.count(value) > 1:\n        if value not in duplicates:\n            duplicates.append(value)\n\nprint(duplicates)\n### 输出: ['b', 'n']\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n但还有一种更简单更优雅的解决方案，那就是使用集合(sets)，你直接这样做：\n\nsome_list = ['a', 'b', 'c', 'b', 'd', 'm', 'n', 'n']\nduplicates = set([x for x in some_list if some_list.count(x) > 1])\nprint(duplicates)\n### 输出: set(['b', 'n'])\n\n\n1\n2\n3\n4\n\n\n集合还有一些其它方法，下面我们介绍其中一部分。\n\n\n# 交集\n\n你可以对比两个集合的交集（两个集合中都有的数据），如下：\n\nvalid = set(['yellow', 'red', 'blue', 'green', 'black'])\ninput_set = set(['red', 'brown'])\nprint(input_set.intersection(valid))\n### 输出: set(['red'])\n\n\n1\n2\n3\n4\n\n\n\n# 差集\n\n你可以用差集(difference)找出无效的数据，相当于用一个集合减去另一个集合的数据，例如：\n\nvalid = set(['yellow', 'red', 'blue', 'green', 'black'])\ninput_set = set(['red', 'brown'])\nprint(input_set.difference(valid))\n### 输出: set(['brown'])\n\n\n1\n2\n3\n4\n\n\n你也可以用符号来创建集合，如：\n\na_set = {'red', 'blue', 'green'}\nprint(type(a_set))\n### 输出: <type 'set'>\n\n\n1\n2\n3\n\n\n集合还有一些其它方法，我会建议访问官方文档并做个快速阅读。\n\n\n# 三元运算符\n\n三元运算符通常在Python里被称为条件表达式，这些表达式基于真(true)/假(not)的条件判断，在Python 2.4以上才有了三元操作。\n\n下面是一个伪代码和例子：\n\n伪代码:\n\n#如果条件为真，返回真 否则返回假\ncondition_is_true if condition else condition_is_false\n\n\n1\n2\n\n\n例子:\n\nis_fat = True\nstate = \"fat\" if is_fat else \"not fat\"\n\n\n1\n2\n\n\n它允许用简单的一行快速判断，而不是使用复杂的多行if语句。 这在大多数时候非常有用，而且可以使代码简单可维护。\n\n另一个晦涩一点的用法比较少见，它使用了元组，请继续看：\n\n伪代码:\n\n#(返回假，返回真)[真或假]\n(if_test_is_false, if_test_is_true)[test]\n\n\n1\n2\n\n\n例子:\n\nfat = True\nfitness = (\"skinny\", \"fat\")[fat]\nprint(\"Ali is \", fitness)\n#输出: Ali is fat\n\n\n1\n2\n3\n4\n\n\n这之所以能正常工作，是因为在Python中，True等于1，而False等于0，这就相当于在元组中使用0和1来选取数据。\n\n上面的例子没有被广泛使用，而且Python玩家一般不喜欢那样，因为没有Python味儿(Pythonic)。这样的用法很容易把真正的数据与true/false弄混。\n\n另外一个不使用元组条件表达式的缘故是因为在元组中会把两个条件都执行，而 if-else 的条件表达式不会这样。\n\n例如:\n\ncondition = True\nprint(2 if condition else 1/0)\n#输出: 2\n\nprint((1/0, 2)[condition])\n#输出ZeroDivisionError异常\n\n\n1\n2\n3\n4\n5\n6\n\n\n这是因为在元组中是先建数据，然后用True(1)/False(0)来索引到数据。 而if-else条件表达式遵循普通的if-else逻辑树， 因此，如果逻辑中的条件异常，或者是重计算型（计算较久）的情况下，最好尽量避免使用元组条件表达式。",normalizedContent:"# *args 和 **kwargs\n\n我观察到，大部分新的python程序员都需要花上大量时间理解清楚 *args 和**kwargs这两个魔法变量。那么它们到底是什么?\n\n首先让我告诉你, 其实并不是必须写成*args 和**kwargs。 只有变量前面的 *(星号)才是必须的. 你也可以写成*var 和**vars。而写成*args 和**kwargs只是一个通俗的命名约定。 那就让我们先看一下*args吧。\n\n\n# *args 的用法\n\n*args 和 **kwargs 主要用于函数定义。 你可以将不定数量的参数传递给一个函数。\n\n这里的不定的意思是：预先并不知道, 函数使用者会传递多少个参数给你, 所以在这个场景下使用这两个关键字。 *args 是用来发送一个非键值对的可变数量的参数列表给一个函数.\n\n这里有个例子帮你理解这个概念:\n\ndef test_var_args(f_arg, *argv):\n    print(\"first normal arg:\", f_arg)\n    for arg in argv:\n        print(\"another arg through *argv:\", arg)\n\ntest_var_args('yasoob', 'python', 'eggs', 'test')\n\n\n1\n2\n3\n4\n5\n6\n\n\n这会产生如下输出:\n\nfirst normal arg: yasoob\nanother arg through *argv: python\nanother arg through *argv: eggs\nanother arg through *argv: test\n\n\n1\n2\n3\n4\n\n\n我希望这解决了你所有的困惑. 那接下来让我们谈谈 **kwargs。\n\n\n# **kwargs 的用法\n\n**kwargs 允许你将不定长度的 键值对 , 作为参数传递给一个函数。 如果你想要在一个函数里处理 带名字的参数 , 你应该使用**kwargs。\n\n这里有个让你上手的例子:\n\ndef greet_me(**kwargs):\n    for key, value in kwargs.items():\n        print(\"{0} == {1}\".format(key, value))\n\n\n>>> greet_me(name=\"yasoob\")\nname == yasoob\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n现在你可以看出我们怎样在一个函数里, 处理了一个键值对参数了。\n\n这就是**kwargs的基础, 而且你可以看出它有多么管用。 接下来让我们谈谈，你怎样使用*args 和 **kwargs来调用一个参数为列表或者字典的函数。\n\n\n# 使用 *args 和 **kwargs 来调用函数\n\n那现在我们将看到怎样使用*args和**kwargs 来调用一个函数。 假设，你有这样一个小函数：\n\ndef test_args_kwargs(arg1, arg2, arg3):\n    print(\"arg1:\", arg1)\n    print(\"arg2:\", arg2)\n    print(\"arg3:\", arg3)\n\n\n1\n2\n3\n4\n\n\n你可以使用*args或**kwargs来给这个小函数传递参数。 下面是怎样做：\n\n# 首先使用 *args\n>>> args = (\"two\", 3, 5)\n>>> test_args_kwargs(*args)\narg1: two\narg2: 3\narg3: 5\n\n# 现在使用 **kwargs:\n>>> kwargs = {\"arg3\": 3, \"arg2\": \"two\", \"arg1\": 5}\n>>> test_args_kwargs(**kwargs)\narg1: 5\narg2: two\narg3: 3\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 标准参数与*args、**kwargs在使用时的顺序\n\n那么如果你想在函数里同时使用所有这三种参数， 顺序是这样的：\n\n\n# 什么时候使用它们？\n\n这还真的要看你的需求而定。\n\n最常见的用例是在写函数装饰器的时候（会在另一章里讨论）。\n\n此外它也可以用来做猴子补丁(monkey patching)。猴子补丁的意思是在程序运行时(runtime)修改某些代码。 打个比方，你有一个类，里面有个叫get_info的函数会调用一个api并返回相应的数据。如果我们想测试它，可以把api调用替换成一些测试数据。例如：\n\nimport someclass\n\ndef get_info(self, *args):\n    return \"test data\"\n\nsomeclass.get_info = get_info\n\n\n1\n2\n3\n4\n5\n6\n\n\n我敢肯定你也可以想象到一些其他的用例。\n\n\n# 调试（debugging）\n\n利用好调试，能大大提高你捕捉代码bug的。大部分新人忽略了python debugger(pdb)的重要性。 在这个章节我只会告诉你一些重要的命令，你可以从官方文档中学习到更多。\n\n> 译者注，参考：https://docs.python.org/2/library/pdb.html or https://docs.python.org/3/library/pdb.html\n\n\n# 从命令行运行\n\n你可以在命令行使用python debugger运行一个脚本， 举个例子：\n\n$ python -m pdb my_script.py\n\n\n1\n\n\n这会触发debugger在脚本第一行指令处停止执行。这在脚本很短时会很有帮助。你可以通过(pdb)模式接着查看变量信息，并且逐行调试。\n\n\n# 从脚本内部运行\n\n同时，你也可以在脚本内部设置断点，这样就可以在某些特定点查看变量信息和各种执行时信息了。这里将使用pdb.set_trace()方法来实现。举个例子：\n\nimport pdb\n\ndef make_bread():\n    pdb.set_trace()\n    return \"i don't have time\"\n\nprint(make_bread())\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n试下保存上面的脚本后运行之。你会在运行时马上进入debugger模式。现在是时候了解下debugger模式下的一些命令了。\n\n# 命令列表：\n\n * c: 继续执行\n * w: 显示当前正在执行的代码行的上下文信息\n * a: 打印当前函数的参数列表\n * s: 执行当前代码行，并停在第一个能停的地方（相当于单步进入）\n * n: 继续执行到当前函数的下一行，或者当前行直接返回（单步跳过）\n\n单步跳过（next）和单步进入（step）的区别在于， 单步进入会进入当前行调用的函数内部并停在里面， 而单步跳过会（几乎）全速执行完当前行调用的函数，并停在当前函数的下一行。\n\npdb真的是一个很方便的功能，上面仅列举少量用法，更多的命令强烈推荐你去看官方文档。\n\n\n# 生成器（generators）\n\n首先我们要理解迭代器(iterators)。根据维基百科，迭代器是一个让程序员可以遍历一个容器（特别是列表）的对象。然而，一个迭代器在遍历并读取一个容器的数据元素时，并不会执行一个迭代。你可能有点晕了，那我们来个慢动作。换句话说这里有三个部分：\n\n * 可迭代对象(iterable)\n * 迭代器(iterator)\n * 迭代(iteration)\n\n上面这些部分互相联系。我们会先各个击破来讨论他们，然后再讨论生成器(generators).\n\n\n# 可迭代对象(iterable)\n\npython中任意的对象，只要它定义了可以返回一个迭代器的__iter__方法，或者定义了可以支持下标索引的__getitem__方法(这些双下划线方法会在其他章节中全面解释)，那么它就是一个可迭代对象。简单说，可迭代对象就是能提供迭代器的任意对象。那迭代器又是什么呢？\n\n\n# 迭代器(iterator)\n\n任意对象，只要定义了next(python2) 或者__next__方法，它就是一个迭代器。就这么简单。现在我们来理解迭代(iteration)。\n\n\n# 迭代(iteration)\n\n用简单的话讲，它就是从某个地方（比如一个列表）取出一个元素的过程。当我们使用一个循环来遍历某个东西时，这个过程本身就叫迭代。现在既然我们有了这些术语的基本理解，那我们开始理解生成器吧。\n\n\n# 生成器(generators)\n\n生成器也是一种迭代器，但是你只能对其迭代一次。这是因为它们并没有把所有的值存在内存中，而是在运行时生成值。你通过遍历来使用它们，要么用一个“for”循环，要么将它们传递给任意可以进行迭代的函数和结构。大多数时候生成器是以函数来实现的。然而，它们并不返回一个值，而是yield(暂且译作“生出”)一个值。这里有个生成器函数的简单例子：\n\ndef generator_function():\n    for i in range(10):\n        yield i\n\nfor item in generator_function():\n    print(item)\n\n# output: 0\n# 1\n# 2\n# 3\n# 4\n# 5\n# 6\n# 7\n# 8\n# 9\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n这个案例并不是非常实用。生成器最佳应用场景是：你不想同一时间将所有计算出来的大量结果集分配到内存当中，特别是结果集里还包含循环。\n\n> 译者注：这样做会消耗大量资源\n\n许多python 2里的标准库函数都会返回列表，而python 3都修改成了返回生成器，因为生成器占用更少的资源。\n\n下面是一个计算斐波那契数列的生成器：\n\n# generator version\ndef fibon(n):\n    a = b = 1\n    for i in range(n):\n        yield a\n        a, b = b, a + b\n\n\n1\n2\n3\n4\n5\n6\n\n\n函数使用方法如下：\n\nfor x in fibon(1000000):\n    print(x)\n\n\n1\n2\n\n\n用这种方式，我们可以不用担心它会使用大量资源。然而，之前如果我们这样来实现的话：\n\ndef fibon(n):\n    a = b = 1\n    result = []\n    for i in range(n):\n        result.append(a)\n        a, b = b, a + b\n    return result\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n这也许会在计算很大的输入参数时，用尽所有的资源。我们已经讨论过生成器使用一次迭代，但我们并没有测试过。在测试前你需要再知道一个python内置函数：next()。它允许我们获取一个序列的下一个元素。那我们来验证下我们的理解：\n\ndef generator_function():\n    for i in range(3):\n        yield i\n\ngen = generator_function()\nprint(next(gen))\n# output: 0\nprint(next(gen))\n# output: 1\nprint(next(gen))\n# output: 2\nprint(next(gen))\n# output: traceback (most recent call last):\n#            file \"<stdin>\", line 1, in <module>\n#         stopiteration\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n我们可以看到，在yield掉所有的值后，next()触发了一个stopiteration的异常。基本上这个异常告诉我们，所有的值都已经被yield完了。你也许会奇怪，为什么我们在使用for循环时没有这个异常呢？啊哈，答案很简单。for循环会自动捕捉到这个异常并停止调用next()。你知不知道python中一些内置数据类型也支持迭代哦？我们这就去看看：\n\nmy_string = \"yasoob\"\nnext(my_string)\n# output: traceback (most recent call last):\n#      file \"<stdin>\", line 1, in <module>\n#    typeerror: str object is not an iterator\n\n\n1\n2\n3\n4\n5\n\n\n好吧，这不是我们预期的。这个异常说那个str对象不是一个迭代器。对，就是这样！它是一个可迭代对象，而不是一个迭代器。这意味着它支持迭代，但我们不能直接对其进行迭代操作。那我们怎样才能对它实施迭代呢？是时候学习下另一个内置函数，iter。它将根据一个可迭代对象返回一个迭代器对象。这里是我们如何使用它：\n\nmy_string = \"yasoob\"\nmy_iter = iter(my_string)\nnext(my_iter)\n# output: 'y'\n\n\n1\n2\n3\n4\n\n\n现在好多啦。我肯定你已经爱上了学习生成器。一定要记住，想要完全掌握这个概念，你只有使用它。确保你按照这个模式，并在生成器对你有意义的任何时候都使用它。你绝对不会失望的！\n\n\n# map，filter 和 reduce\n\nmap，filter 和 reduce 三个函数能为函数式编程提供便利。我们会通过实例一个一个讨论并理解它们。\n\n\n# map\n\nmap会将一个函数映射到一个输入列表的所有元素上。这是它的规范：\n\n规范\n\nmap(function_to_apply, list_of_inputs)\n\n\n1\n\n\n大多数时候，我们要把列表中所有元素一个个地传递给一个函数，并收集输出。比方说：\n\nitems = [1, 2, 3, 4, 5]\nsquared = []\nfor i in items:\n    squared.append(i**2)\n\n\n1\n2\n3\n4\n\n\nmap可以让我们用一种简单而漂亮得多的方式来实现。就是这样：\n\nitems = [1, 2, 3, 4, 5]\nsquared = list(map(lambda x: x**2, items))\n\n\n1\n2\n\n\n大多数时候，我们使用匿名函数(lambdas)来配合map, 所以我在上面也是这么做的。 不仅用于一列表的输入， 我们甚至可以用于一列表的函数！\n\ndef multiply(x):\n        return (x*x)\ndef add(x):\n        return (x+x)\n\nfuncs = [multiply, add]\nfor i in range(5):\n    value = map(lambda x: x(i), funcs)\n    print(list(value))\n    # 译者注：上面print时，加了list转换，是为了python2/3的兼容性\n    #        在python2中map直接返回列表，但在python3中返回迭代器\n    #        因此为了兼容python3, 需要list转换一下\n\n# output:\n# [0, 0]\n# [1, 2]\n# [4, 4]\n# [9, 6]\n# [16, 8]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# filter\n\n顾名思义，filter过滤列表中的元素，并且返回一个由所有符合要求的元素所构成的列表，符合要求即函数映射到该元素时返回值为true. 这里是一个简短的例子：\n\nnumber_list = range(-5, 5)\nless_than_zero = filter(lambda x: x < 0, number_list)\nprint(list(less_than_zero))  \n# 译者注：上面print时，加了list转换，是为了python2/3的兼容性\n#        在python2中filter直接返回列表，但在python3中返回迭代器\n#        因此为了兼容python3, 需要list转换一下\n\n# output: [-5, -4, -3, -2, -1]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n这个filter类似于一个for循环，但它是一个内置函数，并且更快。\n\n注意：如果map和filter对你来说看起来并不优雅的话，那么你可以看看另外一章：列表/字典/元组推导式。\n\n> 译者注：大部分情况下推导式的可读性更好\n\n\n# reduce\n\n当需要对一个列表进行一些计算并返回结果时，reduce 是个非常有用的函数。举个例子，当你需要计算一个整数列表的乘积时。\n\n通常在 python 中你可能会使用基本的 for 循环来完成这个任务。\n\n现在我们来试试 reduce：\n\nfrom functools import reduce\nproduct = reduce( (lambda x, y: x * y), [1, 2, 3, 4] )\n\n# output: 24\n\n\n1\n2\n3\n4\n\n\n\n# set(集合)数据结构\n\nset(集合)是一个非常有用的数据结构。它与列表(list)的行为类似，区别在于set不能包含重复的值。 这在很多情况下非常有用。例如你可能想检查列表中是否包含重复的元素，你有两个选择，第一个需要使用for循环，就像这样：\n\nsome_list = ['a', 'b', 'c', 'b', 'd', 'm', 'n', 'n']\n\nduplicates = []\nfor value in some_list:\n    if some_list.count(value) > 1:\n        if value not in duplicates:\n            duplicates.append(value)\n\nprint(duplicates)\n### 输出: ['b', 'n']\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n但还有一种更简单更优雅的解决方案，那就是使用集合(sets)，你直接这样做：\n\nsome_list = ['a', 'b', 'c', 'b', 'd', 'm', 'n', 'n']\nduplicates = set([x for x in some_list if some_list.count(x) > 1])\nprint(duplicates)\n### 输出: set(['b', 'n'])\n\n\n1\n2\n3\n4\n\n\n集合还有一些其它方法，下面我们介绍其中一部分。\n\n\n# 交集\n\n你可以对比两个集合的交集（两个集合中都有的数据），如下：\n\nvalid = set(['yellow', 'red', 'blue', 'green', 'black'])\ninput_set = set(['red', 'brown'])\nprint(input_set.intersection(valid))\n### 输出: set(['red'])\n\n\n1\n2\n3\n4\n\n\n\n# 差集\n\n你可以用差集(difference)找出无效的数据，相当于用一个集合减去另一个集合的数据，例如：\n\nvalid = set(['yellow', 'red', 'blue', 'green', 'black'])\ninput_set = set(['red', 'brown'])\nprint(input_set.difference(valid))\n### 输出: set(['brown'])\n\n\n1\n2\n3\n4\n\n\n你也可以用符号来创建集合，如：\n\na_set = {'red', 'blue', 'green'}\nprint(type(a_set))\n### 输出: <type 'set'>\n\n\n1\n2\n3\n\n\n集合还有一些其它方法，我会建议访问官方文档并做个快速阅读。\n\n\n# 三元运算符\n\n三元运算符通常在python里被称为条件表达式，这些表达式基于真(true)/假(not)的条件判断，在python 2.4以上才有了三元操作。\n\n下面是一个伪代码和例子：\n\n伪代码:\n\n#如果条件为真，返回真 否则返回假\ncondition_is_true if condition else condition_is_false\n\n\n1\n2\n\n\n例子:\n\nis_fat = true\nstate = \"fat\" if is_fat else \"not fat\"\n\n\n1\n2\n\n\n它允许用简单的一行快速判断，而不是使用复杂的多行if语句。 这在大多数时候非常有用，而且可以使代码简单可维护。\n\n另一个晦涩一点的用法比较少见，它使用了元组，请继续看：\n\n伪代码:\n\n#(返回假，返回真)[真或假]\n(if_test_is_false, if_test_is_true)[test]\n\n\n1\n2\n\n\n例子:\n\nfat = true\nfitness = (\"skinny\", \"fat\")[fat]\nprint(\"ali is \", fitness)\n#输出: ali is fat\n\n\n1\n2\n3\n4\n\n\n这之所以能正常工作，是因为在python中，true等于1，而false等于0，这就相当于在元组中使用0和1来选取数据。\n\n上面的例子没有被广泛使用，而且python玩家一般不喜欢那样，因为没有python味儿(pythonic)。这样的用法很容易把真正的数据与true/false弄混。\n\n另外一个不使用元组条件表达式的缘故是因为在元组中会把两个条件都执行，而 if-else 的条件表达式不会这样。\n\n例如:\n\ncondition = true\nprint(2 if condition else 1/0)\n#输出: 2\n\nprint((1/0, 2)[condition])\n#输出zerodivisionerror异常\n\n\n1\n2\n3\n4\n5\n6\n\n\n这是因为在元组中是先建数据，然后用true(1)/false(0)来索引到数据。 而if-else条件表达式遵循普通的if-else逻辑树， 因此，如果逻辑中的条件异常，或者是重计算型（计算较久）的情况下，最好尽量避免使用元组条件表达式。",charsets:{cjk:!0},lastUpdated:"2022/04/13, 23:38:30",lastUpdatedTimestamp:164986431e4},{title:"Python 进阶 —— 第二节",frontmatter:{title:"Python 进阶 —— 第二节",date:"2022-04-13T14:51:06.000Z",permalink:"/basic/python/intermediatePy/part2/",categories:["编程基础","Python","Python 进阶"],tags:[null]},regularPath:"/10.%E5%9F%BA%E7%A1%80/30.Python/10.IntermediatePython/20.%E7%AC%AC%202%20%E8%8A%82.html",relativePath:"10.基础/30.Python/10.IntermediatePython/20.第 2 节.md",key:"v-10a49a4b",path:"/basic/python/intermediatePy/part2/",headers:[{level:2,title:"装饰器",slug:"装饰器",normalizedTitle:"装饰器",charIndex:2},{level:3,title:"一切皆对象",slug:"一切皆对象",normalizedTitle:"一切皆对象",charIndex:205},{level:3,title:"在函数中定义函数",slug:"在函数中定义函数",normalizedTitle:"在函数中定义函数",charIndex:610},{level:3,title:"从函数中返回函数",slug:"从函数中返回函数",normalizedTitle:"从函数中返回函数",charIndex:1455},{level:3,title:"将函数作为参数传给另一个函数",slug:"将函数作为参数传给另一个函数",normalizedTitle:"将函数作为参数传给另一个函数",charIndex:2297},{level:3,title:"你的第一个装饰器",slug:"你的第一个装饰器",normalizedTitle:"你的第一个装饰器",charIndex:2643},{level:3,title:"使用场景",slug:"使用场景",normalizedTitle:"使用场景",charIndex:5889},{level:4,title:"授权(Authorization)",slug:"授权-authorization",normalizedTitle:"授权(authorization)",charIndex:5942},{level:4,title:"日志(Logging)",slug:"日志-logging",normalizedTitle:"日志(logging)",charIndex:6367},{level:3,title:"带参数的装饰器",slug:"带参数的装饰器",normalizedTitle:"带参数的装饰器",charIndex:6818},{level:4,title:"在函数中嵌入装饰器",slug:"在函数中嵌入装饰器",normalizedTitle:"在函数中嵌入装饰器",charIndex:7005},{level:4,title:"装饰器类",slug:"装饰器类",normalizedTitle:"装饰器类",charIndex:7909},{level:2,title:"Global和Return",slug:"global和return",normalizedTitle:"global和return",charIndex:9391},{level:4,title:"多个return值",slug:"多个return值",normalizedTitle:"多个return值",charIndex:10558},{level:2,title:"对象变动(Mutation)",slug:"对象变动-mutation",normalizedTitle:"对象变动(mutation)",charIndex:11309},{level:2,title:"__slots__魔法",slug:"slots-魔法",normalizedTitle:"__slots__魔法",charIndex:12711}],headersStr:"装饰器 一切皆对象 在函数中定义函数 从函数中返回函数 将函数作为参数传给另一个函数 你的第一个装饰器 使用场景 授权(Authorization) 日志(Logging) 带参数的装饰器 在函数中嵌入装饰器 装饰器类 Global和Return 多个return值 对象变动(Mutation) __slots__魔法",content:'# 装饰器\n\n装饰器(Decorators)是Python的一个重要部分。简单地说：他们是修改其他函数的功能的函数。他们有助于让我们的代码更简短，也更Pythonic（Python范儿）。大多数初学者不知道在哪儿使用它们，所以我将要分享下，哪些区域里装饰器可以让你的代码更简洁。\n\n首先，让我们讨论下如何写你自己的装饰器。\n\n这可能是最难掌握的概念之一。我们会每次只讨论一个步骤，这样你能完全理解它。\n\n\n# 一切皆对象\n\n首先我们来理解下Python中的函数\n\ndef hi(name="yasoob"):\n    return "hi " + name\n\nprint(hi())\n# output: \'hi yasoob\'\n\n# 我们甚至可以将一个函数赋值给一个变量，比如\ngreet = hi\n# 我们这里没有在使用小括号，因为我们并不是在调用hi函数\n# 而是在将它放在greet变量里头。我们尝试运行下这个\n\nprint(greet())\n# output: \'hi yasoob\'\n\n# 如果我们删掉旧的hi函数，看看会发生什么！\ndel hi\nprint(hi())\n#outputs: NameError\n\nprint(greet())\n#outputs: \'hi yasoob\'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 在函数中定义函数\n\n刚才那些就是函数的基本知识了。我们来让你的知识更进一步。在Python中我们可以在一个函数中定义另一个函数：\n\ndef hi(name="yasoob"):\n    print("now you are inside the hi() function")\n\n    def greet():\n        return "now you are in the greet() function"\n\n    def welcome():\n        return "now you are in the welcome() function"\n\n    print(greet())\n    print(welcome())\n    print("now you are back in the hi() function")\n\nhi()\n#output:now you are inside the hi() function\n#       now you are in the greet() function\n#       now you are in the welcome() function\n#       now you are back in the hi() function\n\n# 上面展示了无论何时你调用hi(), greet()和welcome()将会同时被调用。\n# 然后greet()和welcome()函数在hi()函数之外是不能访问的，比如：\n\ngreet()\n#outputs: NameError: name \'greet\' is not defined\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n那现在我们知道了可以在函数中定义另外的函数。也就是说：我们可以创建嵌套的函数。现在你需要再多学一点，就是函数也能返回函数。\n\n\n# 从函数中返回函数\n\n其实并不需要在一个函数里去执行另一个函数，我们也可以将其作为输出返回出来：\n\ndef hi(name="yasoob"):\n    def greet():\n        return "now you are in the greet() function"\n\n    def welcome():\n        return "now you are in the welcome() function"\n\n    if name == "yasoob":\n        return greet\n    else:\n        return welcome\n\na = hi()\nprint(a)\n#outputs: <function greet at 0x7f2143c01500>\n\n#上面清晰地展示了`a`现在指向到hi()函数中的greet()函数\n#现在试试这个\n\nprint(a())\n#outputs: now you are in the greet() function\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n再次看看这个代码。在if/else语句中我们返回greet和welcome，而不是greet()和welcome()。为什么那样？这是因为当你把一对小括号放在后面，这个函数就会执行；然而如果你不放括号在它后面，那它可以被到处传递，并且可以赋值给别的变量而不去执行它。\n\n你明白了吗？让我再稍微多解释点细节。\n\n当我们写下a = hi()，hi()会被执行，而由于name参数默认是 yasoob ，所以函数greet被返回了。如果我们把语句改为a = hi(name = "ali")，那么welcome函数将被返回。我们还可以打印出hi()()，这会输出 now you are in the greet() function 。\n\n\n# 将函数作为参数传给另一个函数\n\ndef hi():\n    return "hi yasoob!"\n\ndef doSomethingBeforeHi(func):\n    print("I am doing some boring work before executing hi()")\n    print(func())\n\ndoSomethingBeforeHi(hi)\n#outputs:I am doing some boring work before executing hi()\n#        hi yasoob!\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n现在你已经具备所有必需知识，来进一步学习装饰器真正是什么了。装饰器让你在一个函数的前后去执行代码。\n\n\n# 你的第一个装饰器\n\n在上一个例子里，其实我们已经创建了一个装饰器！现在我们修改下上一个装饰器，并编写一个稍微更有用点的程序：\n\ndef a_new_decorator(a_func):\n\n    def wrapTheFunction():\n        print("I am doing some boring work before executing a_func()")\n\n        a_func()\n\n        print("I am doing some boring work after executing a_func()")\n\n    return wrapTheFunction\n\ndef a_function_requiring_decoration():\n    print("I am the function which needs some decoration to remove my foul smell")\n\na_function_requiring_decoration()\n#outputs: "I am the function which needs some decoration to remove my foul smell"\n\na_function_requiring_decoration = a_new_decorator(a_function_requiring_decoration)\n#now a_function_requiring_decoration is wrapped by wrapTheFunction()\n\na_function_requiring_decoration()\n#outputs:I am doing some boring work before executing a_func()\n#        I am the function which needs some decoration to remove my foul smell\n#        I am doing some boring work after executing a_func()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n你看明白了吗？我们刚刚应用了之前学习到的原理。这正是python中装饰器做的事情！它们封装一个函数，并且用这样或者那样的方式来修改它的行为。现在你也许疑惑，我们在代码里并没有使用@符号？那只是一个简短的方式来生成一个被装饰的函数。这里是我们如何使用@来运行之前的代码：\n\n@a_new_decorator\ndef a_function_requiring_decoration():\n    """Hey you! Decorate me!"""\n    print("I am the function which needs some decoration to "\n          "remove my foul smell")\n\na_function_requiring_decoration()\n#outputs: I am doing some boring work before executing a_func()\n#         I am the function which needs some decoration to remove my foul smell\n#         I am doing some boring work after executing a_func()\n\n#the @a_new_decorator is just a short way of saying:\na_function_requiring_decoration = a_new_decorator(a_function_requiring_decoration)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n希望你现在对Python装饰器的工作原理有一个基本的理解。如果我们运行如下代码会存在一个问题：\n\nprint(a_function_requiring_decoration.__name__)\n# Output: wrapTheFunction\n\n\n1\n2\n\n\n这并不是我们想要的！Ouput输出应该是“a_function_requiring_decoration”。这里的函数被warpTheFunction替代了。它重写了我们函数的名字和注释文档(docstring)。幸运的是Python提供给我们一个简单的函数来解决这个问题，那就是functools.wraps。我们修改上一个例子来使用functools.wraps：\n\nfrom functools import wraps\n\ndef a_new_decorator(a_func):\n    @wraps(a_func)\n    def wrapTheFunction():\n        print("I am doing some boring work before executing a_func()")\n        a_func()\n        print("I am doing some boring work after executing a_func()")\n    return wrapTheFunction\n\n@a_new_decorator\ndef a_function_requiring_decoration():\n    """Hey yo! Decorate me!"""\n    print("I am the function which needs some decoration to "\n          "remove my foul smell")\n\nprint(a_function_requiring_decoration.__name__)\n# Output: a_function_requiring_decoration\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n现在好多了。我们接下来学习装饰器的一些常用场景。\n\n蓝本规范:\n\nfrom functools import wraps\ndef decorator_name(f):\n    @wraps(f)\n    def decorated(*args, **kwargs):\n        if not can_run:\n            return "Function will not run"\n        return f(*args, **kwargs)\n    return decorated\n\n@decorator_name\ndef func():\n    return("Function is running")\n\ncan_run = True\nprint(func())\n# Output: Function is running\n\ncan_run = False\nprint(func())\n# Output: Function will not run\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n注意：@wraps接受一个函数来进行装饰，并加入了复制函数名称、注释文档、参数列表等等的功能。这可以让我们在装饰器里面访问在装饰之前的函数的属性。\n\n\n# 使用场景\n\n现在我们来看一下装饰器在哪些地方特别耀眼，以及使用它可以让一些事情管理起来变得更简单。\n\n# 授权(Authorization)\n\n装饰器能有助于检查某个人是否被授权去使用一个web应用的端点(endpoint)。它们被大量使用于Flask和Django web框架中。这里是一个例子来使用基于装饰器的授权：\n\nfrom functools import wraps\n\ndef requires_auth(f):\n    @wraps(f)\n    def decorated(*args, **kwargs):\n        auth = request.authorization\n        if not auth or not check_auth(auth.username, auth.password):\n            authenticate()\n        return f(*args, **kwargs)\n    return decorated\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# 日志(Logging)\n\n日志是装饰器运用的另一个亮点。这是个例子：\n\nfrom functools import wraps\n\ndef logit(func):\n    @wraps(func)\n    def with_logging(*args, **kwargs):\n        print(func.__name__ + " was called")\n        return func(*args, **kwargs)\n    return with_logging\n\n@logit\ndef addition_func(x):\n   """Do some math."""\n   return x + x\n\n\nresult = addition_func(4)\n# Output: addition_func was called\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n我敢肯定你已经在思考装饰器的一个其他聪明用法了。\n\n\n# 带参数的装饰器\n\n来想想这个问题，难道@wraps不也是个装饰器吗？但是，它接收一个参数，就像任何普通的函数能做的那样。那么，为什么我们不也那样做呢？\n\n这是因为，当你使用@my_decorator语法时，你是在应用一个以单个函数作为参数的一个包裹函数。记住，Python里每个东西都是一个对象，而且这包括函数！记住了这些，我们可以编写一下能返回一个包裹函数的函数。\n\n# 在函数中嵌入装饰器\n\n我们回到日志的例子，并创建一个包裹函数，能让我们指定一个用于输出的日志文件。\n\nfrom functools import wraps\n\ndef logit(logfile=\'out.log\'):\n    def logging_decorator(func):\n        @wraps(func)\n        def wrapped_function(*args, **kwargs):\n            log_string = func.__name__ + " was called"\n            print(log_string)\n            # 打开logfile，并写入内容\n            with open(logfile, \'a\') as opened_file:\n                # 现在将日志打到指定的logfile\n                opened_file.write(log_string + \'\\n\')\n            return func(*args, **kwargs)\n        return wrapped_function\n    return logging_decorator\n\n@logit()\ndef myfunc1():\n    pass\n\nmyfunc1()\n# Output: myfunc1 was called\n# 现在一个叫做 out.log 的文件出现了，里面的内容就是上面的字符串\n\n@logit(logfile=\'func2.log\')\ndef myfunc2():\n    pass\n\nmyfunc2()\n# Output: myfunc2 was called\n# 现在一个叫做 func2.log 的文件出现了，里面的内容就是上面的字符串\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n# 装饰器类\n\n现在我们有了能用于正式环境的logit装饰器，但当我们的应用的某些部分还比较脆弱时，异常也许是需要更紧急关注的事情。比方说有时你只想打日志到一个文件。而有时你想把引起你注意的问题发送到一个email，同时也保留日志，留个记录。这是一个使用继承的场景，但目前为止我们只看到过用来构建装饰器的函数。\n\n幸运的是，类也可以用来构建装饰器。那我们现在以一个类而不是一个函数的方式，来重新构建logit。\n\nfrom functools import wraps\n\nclass logit(object):\n    def __init__(self, logfile=\'out.log\'):\n        self.logfile = logfile\n\n    def __call__(self, func):\n        @wraps(func)\n        def wrapped_function(*args, **kwargs):\n            log_string = func.__name__ + " was called"\n            print(log_string)\n            # 打开logfile并写入\n            with open(self.logfile, \'a\') as opened_file:\n                # 现在将日志打到指定的文件\n                opened_file.write(log_string + \'\\n\')\n            # 现在，发送一个通知\n            self.notify()\n            return func(*args, **kwargs)\n        return wrapped_function\n\n    def notify(self):\n        # logit只打日志，不做别的\n        pass\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n这个实现有一个附加优势，在于比嵌套函数的方式更加整洁，而且包裹一个函数还是使用跟以前一样的语法：\n\n@logit()\ndef myfunc1():\n    pass\n\n\n1\n2\n3\n\n\n现在，我们给logit创建子类，来添加email的功能(虽然email这个话题不会在这里展开)。\n\nclass email_logit(logit):\n    \'\'\'\n    一个logit的实现版本，可以在函数调用时发送email给管理员\n    \'\'\'\n    def __init__(self, email=\'admin@myproject.com\', *args, **kwargs):\n        self.email = email\n        super(logit, self).__init__(*args, **kwargs)\n\n    def notify(self):\n        # 发送一封email到self.email\n        # 这里就不做实现了\n        pass\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n从现在起，@email_logit将会和@logit产生同样的效果，但是在打日志的基础上，还会多发送一封邮件给管理员。\n\n\n# Global和Return\n\n你也许遇到过, python中一些函数在最尾部有一个return关键字。你知道它是干嘛吗？它和其他语言的return类似。我们来检查下这个小函数：\n\ndef add(value1, value2):\n    return value1 + value2\n\nresult = add(3, 5)\nprint(result)\n# Output: 8\n\n\n1\n2\n3\n4\n5\n6\n\n\n上面这个函数将两个值作为输入，然后输出它们相加之和。我们也可以这样做：\n\ndef add(value1,value2):\n    global result\n    result = value1 + value2\n\nadd(3,5)\nprint(result)\n# Output: 8\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n那首先我们来谈谈第一段也就是包含return关键字的代码。那个函数把值赋给了调用它的变量（也就是例子中的result变量）。 大多数境况下，你并不需要使用global关键字。然而我们也来检查下另外一段也就是包含global关键字的代码。 那个函数生成了一个global（全局）变量result。\n\nglobal在这的意思是什么？global变量意味着我们可以在函数以外的区域都能访问这个变量。让我们通过一个例子来证明它：\n\n# 首先，是没有使用global变量\ndef add(value1, value2):\n    result = value1 + value2\n\nadd(2, 4)\nprint(result)\n\n# Oh 糟了，我们遇到异常了。为什么会这样？\n# python解释器报错说没有一个叫result的变量。\n# 这是因为result变量只能在创建它的函数内部才允许访问，除非它是全局的(global)。\nTraceback (most recent call last):\n  File "", line 1, in\n    result\nNameError: name \'result\' is not defined\n\n# 现在我们运行相同的代码，不过是在将result变量设为global之后\ndef add(value1, value2):\n    global result\n    result = value1 + value2\n\nadd(2, 4)\nprint(result)\n6\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n如我们所愿，在第二次运行时没有异常了。在实际的编程时，你应该试着避开global关键字，它只会让生活变得艰难，因为它引入了多余的变量到全局作用域了。\n\n# 多个return值\n\n那如果你想从一个函数里返回两个变量而不是一个呢？ 新手们有若干种方法。最著名的方法，是使用global关键字。让我们看下这个没用的例子：\n\ndef profile():\n    global name\n    global age\n    name = "Danny"\n    age = 30\n\nprofile()\nprint(name)\n# Output: Danny\n\nprint(age)\n# Output: 30\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n注意: 不要试着使用上述方法。重要的事情说三遍，不要试着使用上述方法！\n\n有些人试着在函数结束时，返回一个包含多个值的tuple(元组)，list(列表)或者dict(字典),来解决这个问题。这是一种可行的方式，而且使用起来像一个黑魔法：\n\ndef profile():\n    name = "Danny"\n    age = 30\n    return (name, age)\n\nprofile_data = profile()\nprint(profile_data[0])\n# Output: Danny\n\nprint(profile_data[1])\n# Output: 30\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n或者按照更常见的惯例：\n\ndef profile():\n    name = "Danny"\n    age = 30\n    return name, age\n\n\n1\n2\n3\n4\n\n\n这是一种比列表和字典更好的方式。不要使用global关键字，除非你知道你正在做什么。global也许在某些场景下是一个更好的选择（但其中大多数情况都不是）。\n\n\n# 对象变动(Mutation)\n\nPython中可变( mutable )与不可变( immutable )的数据类型让新手很是头痛。简单的说，可变(mutable)意味着"可以被改动"，而不可变(immutable)的意思是“常量(constant)”。想把脑筋转动起来吗？考虑下这个例子：\n\nfoo = [\'hi\']\nprint(foo)\n# Output: [\'hi\']\n\nbar = foo\nbar += [\'bye\']\nprint(foo)\n# Output: [\'hi\', \'bye\']\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n刚刚发生了什么？我们预期的不是那样！我们期望看到是这样的：\n\nfoo = [\'hi\']\nprint(foo)\n# Output: [\'hi\']\n\nbar = foo\nbar += [\'bye\']\n\nprint(foo)\n# Output: [\'hi\']\n\nprint(bar)\n# Output: [\'hi\', \'bye\']\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n这不是一个bug。这是对象可变性( mutability )在作怪。每当你将一个变量赋值为另一个可变类型的变量时，对这个数据的任意改动会同时反映到这两个变量上去。新变量只不过是老变量的一个别名而已。这个情况只是针对可变数据类型。下面的函数和可变数据类型让你一下就明白了：\n\ndef add_to(num, target=[]):\n    target.append(num)\n    return target\n\nadd_to(1)\n# Output: [1]\n\nadd_to(2)\n# Output: [1, 2]\n\nadd_to(3)\n# Output: [1, 2, 3]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n你可能预期它表现的不是这样子。你可能希望，当你调用add_to时，有一个新的列表被创建，就像这样：\n\ndef add_to(num, target=[]):\n    target.append(num)\n    return target\n\nadd_to(1)\n# Output: [1]\n\nadd_to(2)\n# Output: [2]\n\nadd_to(3)\n# Output: [3]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n啊哈！这次又没有达到预期，是列表的可变性在作怪。在Python中当函数被定义时，默认参数只会运算一次，而不是每次被调用时都会重新运算。你应该永远不要定义可变类型的默认参数，除非你知道你正在做什么。你应该像这样做：\n\ndef add_to(element, target=None):\n    if target is None:\n        target = []\n    target.append(element)\n    return target\n\n\n1\n2\n3\n4\n5\n\n\n现在每当你在调用这个函数不传入target参数的时候，一个新的列表会被创建。举个例子：\n\nadd_to(42)\n# Output: [42]\n\nadd_to(42)\n# Output: [42]\n\nadd_to(42)\n# Output: [42]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# __slots__魔法\n\n在Python中，每个类都有实例属性。默认情况下Python用一个字典来保存一个对象的实例属性。这非常有用，因为它允许我们在运行时去设置任意的新属性。\n\n然而，对于有着已知属性的小类来说，它可能是个瓶颈。这个字典浪费了很多内存。Python不能在对象创建时直接分配一个固定量的内存来保存所有的属性。因此如果你创建许多对象（我指的是成千上万个），它会消耗掉很多内存。 不过还是有一个方法来规避这个问题。这个方法需要使用__slots__来告诉Python不要使用字典，而且只给一个固定集合的属性分配空间。\n\n这里是一个使用与不使用__slots__的例子：\n\n * 不使用 __slots__:\n\nclass MyClass(object):\n    def __init__(self, name, identifier):\n        self.name = name\n        self.identifier = identifier\n        self.set_up()\n    # ...\n\n\n1\n2\n3\n4\n5\n6\n\n * 使用 __slots__:\n\nclass MyClass(object):\n    __slots__ = [\'name\', \'identifier\']\n    def __init__(self, name, identifier):\n        self.name = name\n        self.identifier = identifier\n        self.set_up()\n    # ...\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n第二段代码会为你的内存减轻负担。通过这个技巧，有些人已经看到内存占用率几乎40%~50%的减少。\n\n稍微备注一下，你也许需要试一下PyPy。它已经默认地做了所有这些优化。\n\n以下你可以看到一个例子，它用IPython来展示在有与没有__slots__情况下的精确内存占用，感谢 https://github.com/ianozsvald/ipython_memory_usage\n\nPython 3.4.3 (default, Jun  6 2015, 13:32:34)\nType "copyright", "credits" or "license" for more information.\n\nIPython 4.0.0 -- An enhanced Interactive Python.\n?         -> Introduction and overview of IPython\'s features.\n%quickref -> Quick reference.\nhelp      -> Python\'s own help system.\nobject?   -> Details about \'object\', use \'object??\' for extra details.\n\nIn [1]: import ipython_memory_usage.ipython_memory_usage as imu\n\nIn [2]: imu.start_watching_memory()\nIn [2] used 0.0000 MiB RAM in 5.31s, peaked 0.00 MiB above current, total RAM usage 15.57 MiB\n\nIn [3]: %cat slots.py\nclass MyClass(object):\n        __slots__ = [\'name\', \'identifier\']\n        def __init__(self, name, identifier):\n                self.name = name\n                self.identifier = identifier\n\nnum = 1024*256\nx = [MyClass(1,1) for i in range(num)]\nIn [3] used 0.2305 MiB RAM in 0.12s, peaked 0.00 MiB above current, total RAM usage 15.80 MiB\n\nIn [4]: from slots import *\nIn [4] used 9.3008 MiB RAM in 0.72s, peaked 0.00 MiB above current, total RAM usage 25.10 MiB\n\nIn [5]: %cat noslots.py\nclass MyClass(object):\n        def __init__(self, name, identifier):\n                self.name = name\n                self.identifier = identifier\n\nnum = 1024*256\nx = [MyClass(1,1) for i in range(num)]\nIn [5] used 0.1758 MiB RAM in 0.12s, peaked 0.00 MiB above current, total RAM usage 25.28 MiB\n\nIn [6]: from noslots import *\nIn [6] used 22.6680 MiB RAM in 0.80s, peaked 0.00 MiB above current, total RAM usage 47.95 MiB\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n',normalizedContent:'# 装饰器\n\n装饰器(decorators)是python的一个重要部分。简单地说：他们是修改其他函数的功能的函数。他们有助于让我们的代码更简短，也更pythonic（python范儿）。大多数初学者不知道在哪儿使用它们，所以我将要分享下，哪些区域里装饰器可以让你的代码更简洁。\n\n首先，让我们讨论下如何写你自己的装饰器。\n\n这可能是最难掌握的概念之一。我们会每次只讨论一个步骤，这样你能完全理解它。\n\n\n# 一切皆对象\n\n首先我们来理解下python中的函数\n\ndef hi(name="yasoob"):\n    return "hi " + name\n\nprint(hi())\n# output: \'hi yasoob\'\n\n# 我们甚至可以将一个函数赋值给一个变量，比如\ngreet = hi\n# 我们这里没有在使用小括号，因为我们并不是在调用hi函数\n# 而是在将它放在greet变量里头。我们尝试运行下这个\n\nprint(greet())\n# output: \'hi yasoob\'\n\n# 如果我们删掉旧的hi函数，看看会发生什么！\ndel hi\nprint(hi())\n#outputs: nameerror\n\nprint(greet())\n#outputs: \'hi yasoob\'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 在函数中定义函数\n\n刚才那些就是函数的基本知识了。我们来让你的知识更进一步。在python中我们可以在一个函数中定义另一个函数：\n\ndef hi(name="yasoob"):\n    print("now you are inside the hi() function")\n\n    def greet():\n        return "now you are in the greet() function"\n\n    def welcome():\n        return "now you are in the welcome() function"\n\n    print(greet())\n    print(welcome())\n    print("now you are back in the hi() function")\n\nhi()\n#output:now you are inside the hi() function\n#       now you are in the greet() function\n#       now you are in the welcome() function\n#       now you are back in the hi() function\n\n# 上面展示了无论何时你调用hi(), greet()和welcome()将会同时被调用。\n# 然后greet()和welcome()函数在hi()函数之外是不能访问的，比如：\n\ngreet()\n#outputs: nameerror: name \'greet\' is not defined\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n那现在我们知道了可以在函数中定义另外的函数。也就是说：我们可以创建嵌套的函数。现在你需要再多学一点，就是函数也能返回函数。\n\n\n# 从函数中返回函数\n\n其实并不需要在一个函数里去执行另一个函数，我们也可以将其作为输出返回出来：\n\ndef hi(name="yasoob"):\n    def greet():\n        return "now you are in the greet() function"\n\n    def welcome():\n        return "now you are in the welcome() function"\n\n    if name == "yasoob":\n        return greet\n    else:\n        return welcome\n\na = hi()\nprint(a)\n#outputs: <function greet at 0x7f2143c01500>\n\n#上面清晰地展示了`a`现在指向到hi()函数中的greet()函数\n#现在试试这个\n\nprint(a())\n#outputs: now you are in the greet() function\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n再次看看这个代码。在if/else语句中我们返回greet和welcome，而不是greet()和welcome()。为什么那样？这是因为当你把一对小括号放在后面，这个函数就会执行；然而如果你不放括号在它后面，那它可以被到处传递，并且可以赋值给别的变量而不去执行它。\n\n你明白了吗？让我再稍微多解释点细节。\n\n当我们写下a = hi()，hi()会被执行，而由于name参数默认是 yasoob ，所以函数greet被返回了。如果我们把语句改为a = hi(name = "ali")，那么welcome函数将被返回。我们还可以打印出hi()()，这会输出 now you are in the greet() function 。\n\n\n# 将函数作为参数传给另一个函数\n\ndef hi():\n    return "hi yasoob!"\n\ndef dosomethingbeforehi(func):\n    print("i am doing some boring work before executing hi()")\n    print(func())\n\ndosomethingbeforehi(hi)\n#outputs:i am doing some boring work before executing hi()\n#        hi yasoob!\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n现在你已经具备所有必需知识，来进一步学习装饰器真正是什么了。装饰器让你在一个函数的前后去执行代码。\n\n\n# 你的第一个装饰器\n\n在上一个例子里，其实我们已经创建了一个装饰器！现在我们修改下上一个装饰器，并编写一个稍微更有用点的程序：\n\ndef a_new_decorator(a_func):\n\n    def wrapthefunction():\n        print("i am doing some boring work before executing a_func()")\n\n        a_func()\n\n        print("i am doing some boring work after executing a_func()")\n\n    return wrapthefunction\n\ndef a_function_requiring_decoration():\n    print("i am the function which needs some decoration to remove my foul smell")\n\na_function_requiring_decoration()\n#outputs: "i am the function which needs some decoration to remove my foul smell"\n\na_function_requiring_decoration = a_new_decorator(a_function_requiring_decoration)\n#now a_function_requiring_decoration is wrapped by wrapthefunction()\n\na_function_requiring_decoration()\n#outputs:i am doing some boring work before executing a_func()\n#        i am the function which needs some decoration to remove my foul smell\n#        i am doing some boring work after executing a_func()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n你看明白了吗？我们刚刚应用了之前学习到的原理。这正是python中装饰器做的事情！它们封装一个函数，并且用这样或者那样的方式来修改它的行为。现在你也许疑惑，我们在代码里并没有使用@符号？那只是一个简短的方式来生成一个被装饰的函数。这里是我们如何使用@来运行之前的代码：\n\n@a_new_decorator\ndef a_function_requiring_decoration():\n    """hey you! decorate me!"""\n    print("i am the function which needs some decoration to "\n          "remove my foul smell")\n\na_function_requiring_decoration()\n#outputs: i am doing some boring work before executing a_func()\n#         i am the function which needs some decoration to remove my foul smell\n#         i am doing some boring work after executing a_func()\n\n#the @a_new_decorator is just a short way of saying:\na_function_requiring_decoration = a_new_decorator(a_function_requiring_decoration)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n希望你现在对python装饰器的工作原理有一个基本的理解。如果我们运行如下代码会存在一个问题：\n\nprint(a_function_requiring_decoration.__name__)\n# output: wrapthefunction\n\n\n1\n2\n\n\n这并不是我们想要的！ouput输出应该是“a_function_requiring_decoration”。这里的函数被warpthefunction替代了。它重写了我们函数的名字和注释文档(docstring)。幸运的是python提供给我们一个简单的函数来解决这个问题，那就是functools.wraps。我们修改上一个例子来使用functools.wraps：\n\nfrom functools import wraps\n\ndef a_new_decorator(a_func):\n    @wraps(a_func)\n    def wrapthefunction():\n        print("i am doing some boring work before executing a_func()")\n        a_func()\n        print("i am doing some boring work after executing a_func()")\n    return wrapthefunction\n\n@a_new_decorator\ndef a_function_requiring_decoration():\n    """hey yo! decorate me!"""\n    print("i am the function which needs some decoration to "\n          "remove my foul smell")\n\nprint(a_function_requiring_decoration.__name__)\n# output: a_function_requiring_decoration\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n现在好多了。我们接下来学习装饰器的一些常用场景。\n\n蓝本规范:\n\nfrom functools import wraps\ndef decorator_name(f):\n    @wraps(f)\n    def decorated(*args, **kwargs):\n        if not can_run:\n            return "function will not run"\n        return f(*args, **kwargs)\n    return decorated\n\n@decorator_name\ndef func():\n    return("function is running")\n\ncan_run = true\nprint(func())\n# output: function is running\n\ncan_run = false\nprint(func())\n# output: function will not run\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n注意：@wraps接受一个函数来进行装饰，并加入了复制函数名称、注释文档、参数列表等等的功能。这可以让我们在装饰器里面访问在装饰之前的函数的属性。\n\n\n# 使用场景\n\n现在我们来看一下装饰器在哪些地方特别耀眼，以及使用它可以让一些事情管理起来变得更简单。\n\n# 授权(authorization)\n\n装饰器能有助于检查某个人是否被授权去使用一个web应用的端点(endpoint)。它们被大量使用于flask和django web框架中。这里是一个例子来使用基于装饰器的授权：\n\nfrom functools import wraps\n\ndef requires_auth(f):\n    @wraps(f)\n    def decorated(*args, **kwargs):\n        auth = request.authorization\n        if not auth or not check_auth(auth.username, auth.password):\n            authenticate()\n        return f(*args, **kwargs)\n    return decorated\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# 日志(logging)\n\n日志是装饰器运用的另一个亮点。这是个例子：\n\nfrom functools import wraps\n\ndef logit(func):\n    @wraps(func)\n    def with_logging(*args, **kwargs):\n        print(func.__name__ + " was called")\n        return func(*args, **kwargs)\n    return with_logging\n\n@logit\ndef addition_func(x):\n   """do some math."""\n   return x + x\n\n\nresult = addition_func(4)\n# output: addition_func was called\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n我敢肯定你已经在思考装饰器的一个其他聪明用法了。\n\n\n# 带参数的装饰器\n\n来想想这个问题，难道@wraps不也是个装饰器吗？但是，它接收一个参数，就像任何普通的函数能做的那样。那么，为什么我们不也那样做呢？\n\n这是因为，当你使用@my_decorator语法时，你是在应用一个以单个函数作为参数的一个包裹函数。记住，python里每个东西都是一个对象，而且这包括函数！记住了这些，我们可以编写一下能返回一个包裹函数的函数。\n\n# 在函数中嵌入装饰器\n\n我们回到日志的例子，并创建一个包裹函数，能让我们指定一个用于输出的日志文件。\n\nfrom functools import wraps\n\ndef logit(logfile=\'out.log\'):\n    def logging_decorator(func):\n        @wraps(func)\n        def wrapped_function(*args, **kwargs):\n            log_string = func.__name__ + " was called"\n            print(log_string)\n            # 打开logfile，并写入内容\n            with open(logfile, \'a\') as opened_file:\n                # 现在将日志打到指定的logfile\n                opened_file.write(log_string + \'\\n\')\n            return func(*args, **kwargs)\n        return wrapped_function\n    return logging_decorator\n\n@logit()\ndef myfunc1():\n    pass\n\nmyfunc1()\n# output: myfunc1 was called\n# 现在一个叫做 out.log 的文件出现了，里面的内容就是上面的字符串\n\n@logit(logfile=\'func2.log\')\ndef myfunc2():\n    pass\n\nmyfunc2()\n# output: myfunc2 was called\n# 现在一个叫做 func2.log 的文件出现了，里面的内容就是上面的字符串\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n# 装饰器类\n\n现在我们有了能用于正式环境的logit装饰器，但当我们的应用的某些部分还比较脆弱时，异常也许是需要更紧急关注的事情。比方说有时你只想打日志到一个文件。而有时你想把引起你注意的问题发送到一个email，同时也保留日志，留个记录。这是一个使用继承的场景，但目前为止我们只看到过用来构建装饰器的函数。\n\n幸运的是，类也可以用来构建装饰器。那我们现在以一个类而不是一个函数的方式，来重新构建logit。\n\nfrom functools import wraps\n\nclass logit(object):\n    def __init__(self, logfile=\'out.log\'):\n        self.logfile = logfile\n\n    def __call__(self, func):\n        @wraps(func)\n        def wrapped_function(*args, **kwargs):\n            log_string = func.__name__ + " was called"\n            print(log_string)\n            # 打开logfile并写入\n            with open(self.logfile, \'a\') as opened_file:\n                # 现在将日志打到指定的文件\n                opened_file.write(log_string + \'\\n\')\n            # 现在，发送一个通知\n            self.notify()\n            return func(*args, **kwargs)\n        return wrapped_function\n\n    def notify(self):\n        # logit只打日志，不做别的\n        pass\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n这个实现有一个附加优势，在于比嵌套函数的方式更加整洁，而且包裹一个函数还是使用跟以前一样的语法：\n\n@logit()\ndef myfunc1():\n    pass\n\n\n1\n2\n3\n\n\n现在，我们给logit创建子类，来添加email的功能(虽然email这个话题不会在这里展开)。\n\nclass email_logit(logit):\n    \'\'\'\n    一个logit的实现版本，可以在函数调用时发送email给管理员\n    \'\'\'\n    def __init__(self, email=\'admin@myproject.com\', *args, **kwargs):\n        self.email = email\n        super(logit, self).__init__(*args, **kwargs)\n\n    def notify(self):\n        # 发送一封email到self.email\n        # 这里就不做实现了\n        pass\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n从现在起，@email_logit将会和@logit产生同样的效果，但是在打日志的基础上，还会多发送一封邮件给管理员。\n\n\n# global和return\n\n你也许遇到过, python中一些函数在最尾部有一个return关键字。你知道它是干嘛吗？它和其他语言的return类似。我们来检查下这个小函数：\n\ndef add(value1, value2):\n    return value1 + value2\n\nresult = add(3, 5)\nprint(result)\n# output: 8\n\n\n1\n2\n3\n4\n5\n6\n\n\n上面这个函数将两个值作为输入，然后输出它们相加之和。我们也可以这样做：\n\ndef add(value1,value2):\n    global result\n    result = value1 + value2\n\nadd(3,5)\nprint(result)\n# output: 8\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n那首先我们来谈谈第一段也就是包含return关键字的代码。那个函数把值赋给了调用它的变量（也就是例子中的result变量）。 大多数境况下，你并不需要使用global关键字。然而我们也来检查下另外一段也就是包含global关键字的代码。 那个函数生成了一个global（全局）变量result。\n\nglobal在这的意思是什么？global变量意味着我们可以在函数以外的区域都能访问这个变量。让我们通过一个例子来证明它：\n\n# 首先，是没有使用global变量\ndef add(value1, value2):\n    result = value1 + value2\n\nadd(2, 4)\nprint(result)\n\n# oh 糟了，我们遇到异常了。为什么会这样？\n# python解释器报错说没有一个叫result的变量。\n# 这是因为result变量只能在创建它的函数内部才允许访问，除非它是全局的(global)。\ntraceback (most recent call last):\n  file "", line 1, in\n    result\nnameerror: name \'result\' is not defined\n\n# 现在我们运行相同的代码，不过是在将result变量设为global之后\ndef add(value1, value2):\n    global result\n    result = value1 + value2\n\nadd(2, 4)\nprint(result)\n6\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n如我们所愿，在第二次运行时没有异常了。在实际的编程时，你应该试着避开global关键字，它只会让生活变得艰难，因为它引入了多余的变量到全局作用域了。\n\n# 多个return值\n\n那如果你想从一个函数里返回两个变量而不是一个呢？ 新手们有若干种方法。最著名的方法，是使用global关键字。让我们看下这个没用的例子：\n\ndef profile():\n    global name\n    global age\n    name = "danny"\n    age = 30\n\nprofile()\nprint(name)\n# output: danny\n\nprint(age)\n# output: 30\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n注意: 不要试着使用上述方法。重要的事情说三遍，不要试着使用上述方法！\n\n有些人试着在函数结束时，返回一个包含多个值的tuple(元组)，list(列表)或者dict(字典),来解决这个问题。这是一种可行的方式，而且使用起来像一个黑魔法：\n\ndef profile():\n    name = "danny"\n    age = 30\n    return (name, age)\n\nprofile_data = profile()\nprint(profile_data[0])\n# output: danny\n\nprint(profile_data[1])\n# output: 30\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n或者按照更常见的惯例：\n\ndef profile():\n    name = "danny"\n    age = 30\n    return name, age\n\n\n1\n2\n3\n4\n\n\n这是一种比列表和字典更好的方式。不要使用global关键字，除非你知道你正在做什么。global也许在某些场景下是一个更好的选择（但其中大多数情况都不是）。\n\n\n# 对象变动(mutation)\n\npython中可变( mutable )与不可变( immutable )的数据类型让新手很是头痛。简单的说，可变(mutable)意味着"可以被改动"，而不可变(immutable)的意思是“常量(constant)”。想把脑筋转动起来吗？考虑下这个例子：\n\nfoo = [\'hi\']\nprint(foo)\n# output: [\'hi\']\n\nbar = foo\nbar += [\'bye\']\nprint(foo)\n# output: [\'hi\', \'bye\']\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n刚刚发生了什么？我们预期的不是那样！我们期望看到是这样的：\n\nfoo = [\'hi\']\nprint(foo)\n# output: [\'hi\']\n\nbar = foo\nbar += [\'bye\']\n\nprint(foo)\n# output: [\'hi\']\n\nprint(bar)\n# output: [\'hi\', \'bye\']\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n这不是一个bug。这是对象可变性( mutability )在作怪。每当你将一个变量赋值为另一个可变类型的变量时，对这个数据的任意改动会同时反映到这两个变量上去。新变量只不过是老变量的一个别名而已。这个情况只是针对可变数据类型。下面的函数和可变数据类型让你一下就明白了：\n\ndef add_to(num, target=[]):\n    target.append(num)\n    return target\n\nadd_to(1)\n# output: [1]\n\nadd_to(2)\n# output: [1, 2]\n\nadd_to(3)\n# output: [1, 2, 3]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n你可能预期它表现的不是这样子。你可能希望，当你调用add_to时，有一个新的列表被创建，就像这样：\n\ndef add_to(num, target=[]):\n    target.append(num)\n    return target\n\nadd_to(1)\n# output: [1]\n\nadd_to(2)\n# output: [2]\n\nadd_to(3)\n# output: [3]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n啊哈！这次又没有达到预期，是列表的可变性在作怪。在python中当函数被定义时，默认参数只会运算一次，而不是每次被调用时都会重新运算。你应该永远不要定义可变类型的默认参数，除非你知道你正在做什么。你应该像这样做：\n\ndef add_to(element, target=none):\n    if target is none:\n        target = []\n    target.append(element)\n    return target\n\n\n1\n2\n3\n4\n5\n\n\n现在每当你在调用这个函数不传入target参数的时候，一个新的列表会被创建。举个例子：\n\nadd_to(42)\n# output: [42]\n\nadd_to(42)\n# output: [42]\n\nadd_to(42)\n# output: [42]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# __slots__魔法\n\n在python中，每个类都有实例属性。默认情况下python用一个字典来保存一个对象的实例属性。这非常有用，因为它允许我们在运行时去设置任意的新属性。\n\n然而，对于有着已知属性的小类来说，它可能是个瓶颈。这个字典浪费了很多内存。python不能在对象创建时直接分配一个固定量的内存来保存所有的属性。因此如果你创建许多对象（我指的是成千上万个），它会消耗掉很多内存。 不过还是有一个方法来规避这个问题。这个方法需要使用__slots__来告诉python不要使用字典，而且只给一个固定集合的属性分配空间。\n\n这里是一个使用与不使用__slots__的例子：\n\n * 不使用 __slots__:\n\nclass myclass(object):\n    def __init__(self, name, identifier):\n        self.name = name\n        self.identifier = identifier\n        self.set_up()\n    # ...\n\n\n1\n2\n3\n4\n5\n6\n\n * 使用 __slots__:\n\nclass myclass(object):\n    __slots__ = [\'name\', \'identifier\']\n    def __init__(self, name, identifier):\n        self.name = name\n        self.identifier = identifier\n        self.set_up()\n    # ...\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n第二段代码会为你的内存减轻负担。通过这个技巧，有些人已经看到内存占用率几乎40%~50%的减少。\n\n稍微备注一下，你也许需要试一下pypy。它已经默认地做了所有这些优化。\n\n以下你可以看到一个例子，它用ipython来展示在有与没有__slots__情况下的精确内存占用，感谢 https://github.com/ianozsvald/ipython_memory_usage\n\npython 3.4.3 (default, jun  6 2015, 13:32:34)\ntype "copyright", "credits" or "license" for more information.\n\nipython 4.0.0 -- an enhanced interactive python.\n?         -> introduction and overview of ipython\'s features.\n%quickref -> quick reference.\nhelp      -> python\'s own help system.\nobject?   -> details about \'object\', use \'object??\' for extra details.\n\nin [1]: import ipython_memory_usage.ipython_memory_usage as imu\n\nin [2]: imu.start_watching_memory()\nin [2] used 0.0000 mib ram in 5.31s, peaked 0.00 mib above current, total ram usage 15.57 mib\n\nin [3]: %cat slots.py\nclass myclass(object):\n        __slots__ = [\'name\', \'identifier\']\n        def __init__(self, name, identifier):\n                self.name = name\n                self.identifier = identifier\n\nnum = 1024*256\nx = [myclass(1,1) for i in range(num)]\nin [3] used 0.2305 mib ram in 0.12s, peaked 0.00 mib above current, total ram usage 15.80 mib\n\nin [4]: from slots import *\nin [4] used 9.3008 mib ram in 0.72s, peaked 0.00 mib above current, total ram usage 25.10 mib\n\nin [5]: %cat noslots.py\nclass myclass(object):\n        def __init__(self, name, identifier):\n                self.name = name\n                self.identifier = identifier\n\nnum = 1024*256\nx = [myclass(1,1) for i in range(num)]\nin [5] used 0.1758 mib ram in 0.12s, peaked 0.00 mib above current, total ram usage 25.28 mib\n\nin [6]: from noslots import *\nin [6] used 22.6680 mib ram in 0.80s, peaked 0.00 mib above current, total ram usage 47.95 mib\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n',charsets:{cjk:!0},lastUpdated:"2022/04/13, 23:38:30",lastUpdatedTimestamp:164986431e4},{title:"Python 进阶 —— 第三节",frontmatter:{title:"Python 进阶 —— 第三节",date:"2022-04-13T14:51:06.000Z",permalink:"/basic/python/intermediatePy/part3/",categories:["编程基础","Python","Python 进阶"],tags:[null]},regularPath:"/10.%E5%9F%BA%E7%A1%80/30.Python/10.IntermediatePython/30.%E7%AC%AC%203%20%E8%8A%82.html",relativePath:"10.基础/30.Python/10.IntermediatePython/30.第 3 节.md",key:"v-4188a3cb",path:"/basic/python/intermediatePy/part3/",headers:[{level:2,title:"虚拟环境(virtualenv)",slug:"虚拟环境-virtualenv",normalizedTitle:"虚拟环境(virtualenv)",charIndex:2},{level:3,title:"你听说过virtualenv吗？",slug:"你听说过virtualenv吗",normalizedTitle:"你听说过virtualenv吗？",charIndex:23},{level:3,title:"那么，什么是virtualenv?",slug:"那么-什么是virtualenv",normalizedTitle:"那么，什么是virtualenv?",charIndex:109},{level:3,title:"用什么方式解决？",slug:"用什么方式解决",normalizedTitle:"用什么方式解决？",charIndex:385},{level:3,title:"福利",slug:"福利",normalizedTitle:"福利",charIndex:933},{level:2,title:"容器(Collections)",slug:"容器-collections",normalizedTitle:"容器(collections)",charIndex:1181},{level:3,title:"defaultdict",slug:"defaultdict",normalizedTitle:"defaultdict",charIndex:1267},{level:3,title:"运行输出",slug:"运行输出",normalizedTitle:"运行输出",charIndex:1794},{level:3,title:"counter",slug:"counter",normalizedTitle:"counter",charIndex:1282},{level:3,title:"deque",slug:"deque",normalizedTitle:"deque",charIndex:1293},{level:3,title:"namedtuple",slug:"namedtuple",normalizedTitle:"namedtuple",charIndex:1302},{level:3,title:"enum.Enum (Python 3.4+)",slug:"enum-enum-python-3-4",normalizedTitle:"enum.enum (python 3.4+)",charIndex:5589},{level:3,title:"一些测试",slug:"一些测试",normalizedTitle:"一些测试",charIndex:6522},{level:2,title:"枚举",slug:"枚举",normalizedTitle:"枚举",charIndex:5623},{level:2,title:"对象自省",slug:"对象自省",normalizedTitle:"对象自省",charIndex:7414},{level:3,title:"dir",slug:"dir",normalizedTitle:"dir",charIndex:7545},{level:3,title:"type和id",slug:"type和id",normalizedTitle:"type和id",charIndex:8367},{level:3,title:"inspect模块",slug:"inspect模块",normalizedTitle:"inspect模块",charIndex:8739},{level:2,title:"各种推导式(comprehensions)",slug:"各种推导式-comprehensions",normalizedTitle:"各种推导式(comprehensions)",charIndex:8957},{level:3,title:"列表推导式（list comprehensions）",slug:"列表推导式-list-comprehensions",normalizedTitle:"列表推导式（list comprehensions）",charIndex:9170},{level:4,title:"规范",slug:"规范",normalizedTitle:"规范",charIndex:9358},{level:3,title:"字典推导式（dict comprehensions）",slug:"字典推导式-dict-comprehensions",normalizedTitle:"字典推导式（dict comprehensions）",charIndex:9794},{level:3,title:"集合推导式（set comprehensions）",slug:"集合推导式-set-comprehensions",normalizedTitle:"集合推导式（set comprehensions）",charIndex:10198}],headersStr:"虚拟环境(virtualenv) 你听说过virtualenv吗？ 那么，什么是virtualenv? 用什么方式解决？ 福利 容器(Collections) defaultdict 运行输出 counter deque namedtuple enum.Enum (Python 3.4+) 一些测试 枚举 对象自省 dir type和id inspect模块 各种推导式(comprehensions) 列表推导式（list comprehensions） 规范 字典推导式（dict comprehensions） 集合推导式（set comprehensions）",content:"# 虚拟环境(virtualenv)\n\n\n# 你听说过virtualenv吗？\n\n如果你是一位初学者，你可能没有听说过virtualenv；但如果你是位经验丰富的程序员，那么它可能是你的工具集的重要组织部分。\n\n\n# 那么，什么是virtualenv?\n\nVirtualenv 是一个工具，它能够帮我们创建一个独立(隔离)的Python环境。想象你有一个应用程序，依赖于版本为2的第三方模块，但另一个程序依赖的版本是3，请问你如何使用和开发这些应用程序？\n\n如果你把一切都安装到了/usr/lib/python2.7/site-packages（或者其它平台的标准位置），那很容易出现某个模块被升级而你却不知道的情况。\n\n在另一种情况下，想象你有一个已经开发完成的程序，但是你不想更新它所依赖的第三方模块版本；但你已经开始另一个程序，需要这些第三方模块的版本。\n\n\n# 用什么方式解决？\n\n使用virtualenv！针对每个程序创建独立（隔离）的Python环境，而不是在全局安装所依赖的模块。\n\n要安装它，只需要在命令行中输入以下命令：\n\n$ pip install virtualenv\n\n\n1\n\n\n最重要的命令是：\n\n$ virtualenv myproject\n$ source bin/activate\n\n\n1\n2\n\n\n执行第一个命令在myproject文件夹创建一个隔离的virtualenv环境，第二个命令激活这个隔离的环境(virtualenv)。\n\n在创建virtualenv时，你必须做出决定：这个virtualenv是使用系统全局的模块呢？还是只使用这个virtualenv内的模块。 默认情况下，virtualenv不会使用系统全局模块。\n\n如果你想让你的virtualenv使用系统全局模块，请使用--system-site-packages参数创建你的virtualenv，例如：\n\nvirtualenv --system-site-packages mycoolproject\n\n\n1\n\n\n使用以下命令可以退出这个virtualenv:\n\n$ deactivate\n\n\n1\n\n\n运行之后将恢复使用你系统全局的Python模块。\n\n\n# 福利\n\n你可以使用smartcd来帮助你管理你的环境，当你切换目录时，它可以帮助你激活（activate）和退出（deactivate）你的virtualenv。我已经用了很多次，很喜欢它。你可以在github(https://github.com/cxreg/smartcd) 上找到更多关于它的资料。\n\n这只是一个virtualenv的简短介绍，你可以在 http://docs.python-guide.org/en/latest/dev/virtualenvs/ 找到更多信息。\n\n\n# 容器(Collections)\n\nPython附带一个模块，它包含许多容器数据类型，名字叫作collections。我们将讨论它的作用和用法。\n\n我们将讨论的是：\n\n * defaultdict\n * counter\n * deque\n * namedtuple\n * enum.Enum (包含在Python 3.4以上)\n\n\n# defaultdict\n\n我个人使用defaultdict较多，与dict类型不同，你不需要检查key是否存在，所以我们能这样做：\n\nfrom collections import defaultdict\n\ncolours = (\n    ('Yasoob', 'Yellow'),\n    ('Ali', 'Blue'),\n    ('Arham', 'Green'),\n    ('Ali', 'Black'),\n    ('Yasoob', 'Red'),\n    ('Ahmed', 'Silver'),\n)\n\nfavourite_colours = defaultdict(list)\n\nfor name, colour in colours:\n    favourite_colours[name].append(colour)\n\nprint(favourite_colours)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 运行输出\n\n# defaultdict(<type 'list'>,\n#    {'Arham': ['Green'],\n#     'Yasoob': ['Yellow', 'Red'],\n#     'Ahmed': ['Silver'],\n#     'Ali': ['Blue', 'Black']\n# })\n\n\n1\n2\n3\n4\n5\n6\n\n\n另一种重要的是例子就是：当你在一个字典中对一个键进行嵌套赋值时，如果这个键不存在，会触发keyError异常。 defaultdict允许我们用一个聪明的方式绕过这个问题。 首先我分享一个使用dict触发KeyError的例子，然后提供一个使用defaultdict的解决方案。\n\n问题 ：\n\nsome_dict = {}\nsome_dict['colours']['favourite'] = \"yellow\"\n\n## 异常输出：KeyError: 'colours'\n\n\n1\n2\n3\n4\n\n\n解决方案 ：\n\nimport collections\ntree = lambda: collections.defaultdict(tree)\nsome_dict = tree()\nsome_dict['colours']['favourite'] = \"yellow\"\n\n## 运行正常\n\n\n1\n2\n3\n4\n5\n6\n\n\n你可以用json.dumps打印出some_dict，例如：\n\nimport json\nprint(json.dumps(some_dict))\n\n## 输出: {\"colours\": {\"favourite\": \"yellow\"}}\n\n\n1\n2\n3\n4\n\n\n\n# counter\n\nCounter是一个计数器，它可以帮助我们针对某项数据进行计数。比如它可以用来计算每个人喜欢多少种颜色：\n\nfrom collections import Counter\n\ncolours = (\n    ('Yasoob', 'Yellow'),\n    ('Ali', 'Blue'),\n    ('Arham', 'Green'),\n    ('Ali', 'Black'),\n    ('Yasoob', 'Red'),\n    ('Ahmed', 'Silver'),\n)\n\nfavs = Counter(name for name, colour in colours)\nprint(favs)\n\n## 输出:\n## Counter({\n##     'Yasoob': 2,\n##     'Ali': 2,\n##     'Arham': 1,\n##     'Ahmed': 1\n##  })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n我们也可以在利用它统计一个文件，例如：\n\nwith open('filename', 'rb') as f:\n    line_count = Counter(f)\nprint(line_count)\n\n\n1\n2\n3\n\n\n\n# deque\n\ndeque提供了一个双端队列，你可以从头/尾两端添加或删除元素。要想使用它，首先我们要从collections中导入deque模块：\n\nfrom collections import deque\n\n\n1\n\n\n现在，你可以创建一个deque对象。\n\nd = deque()\n\n\n1\n\n\n它的用法就像python的list，并且提供了类似的方法，例如：\n\nd = deque()\nd.append('1')\nd.append('2')\nd.append('3')\n\nprint(len(d))\n\n## 输出: 3\n\nprint(d[0])\n\n## 输出: '1'\n\nprint(d[-1])\n\n## 输出: '3'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n你可以从两端取出(pop)数据：\n\nd = deque(range(5))\nprint(len(d))\n\n## 输出: 5\n\nd.popleft()\n\n## 输出: 0\n\nd.pop()\n\n## 输出: 4\n\nprint(d)\n\n## 输出: deque([1, 2, 3])\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n我们也可以限制这个列表的大小，当超出你设定的限制时，数据会从对队列另一端被挤出去(pop)。 最好的解释是给出一个例子：\n\nd = deque(maxlen=30)\n\n\n1\n\n\n现在当你插入30条数据时，最左边一端的数据将从队列中删除。\n\n你还可以从任一端扩展这个队列中的数据：\n\nd = deque([1,2,3,4,5])\nd.extendleft([0])\nd.extend([6,7,8])\nprint(d)\n\n## 输出: deque([0, 1, 2, 3, 4, 5, 6, 7, 8])\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# namedtuple\n\n您可能已经熟悉元组。 一个元组是一个不可变的列表，你可以存储一个数据的序列，它和命名元组(namedtuples)非常像，但有几个关键的不同。 主要相似点是都不像列表，你不能修改元组中的数据。为了获取元组中的数据，你需要使用整数作为索引：\n\nman = ('Ali', 30)\nprint(man[0])\n\n## 输出: Ali\n\n\n1\n2\n3\n4\n\n\n嗯，那namedtuples是什么呢？它把元组变成一个针对简单任务的容器。你不必使用整数索引来访问一个namedtuples的数据。你可以像字典(dict)一样访问namedtuples，但namedtuples是不可变的。\n\nfrom collections import namedtuple\n\nAnimal = namedtuple('Animal', 'name age type')\nperry = Animal(name=\"perry\", age=31, type=\"cat\")\n\nprint(perry)\n\n## 输出: Animal(name='perry', age=31, type='cat')\n\nprint(perry.name)\n\n## 输出: 'perry'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n现在你可以看到，我们可以用名字来访问namedtuple中的数据。我们再继续分析它。一个命名元组(namedtuple)有两个必需的参数。它们是元组名称和字段名称。\n\n在上面的例子中，我们的元组名称是Animal，字段名称是'name'，'age'和'type'。 namedtuple让你的元组变得自文档了。你只要看一眼就很容易理解代码是做什么的。 你也不必使用整数索引来访问一个命名元组，这让你的代码更易于维护。 而且， namedtuple的每个实例没有对象字典 ，所以它们很轻量，与普通的元组比，并不需要更多的内存。这使得它们比字典更快。\n\n然而，要记住它是一个元组，属性值在namedtuple中是不可变的，所以下面的代码不能工作：\n\nfrom collections import namedtuple\n\nAnimal = namedtuple('Animal', 'name age type')\nperry = Animal(name=\"perry\", age=31, type=\"cat\")\nperry.age = 42\n\n## 输出:\n## Traceback (most recent call last):\n##     File \"\", line 1, in\n## AttributeError: can't set attribute\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n你应该使用命名元组来让代码 自文档 ， 它们向后兼容于普通的元组 ，这意味着你可以既使用整数索引，也可以使用名称来访问namedtuple：\n\nfrom collections import namedtuple\n\nAnimal = namedtuple('Animal', 'name age type')\nperry = Animal(name=\"perry\", age=31, type=\"cat\")\nprint(perry[0])\n\n## 输出: perry\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n最后，你可以将一个命名元组转换为字典，方法如下：\n\nfrom collections import namedtuple\n\nAnimal = namedtuple('Animal', 'name age type')\nperry = Animal(name=\"Perry\", age=31, type=\"cat\")\nprint(perry._asdict())\n\n## 输出: OrderedDict([('name', 'Perry'), ('age', 31), ...\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# enum.Enum (Python 3.4+)\n\n另一个有用的容器是枚举对象，它属于enum模块，存在于Python 3.4以上版本中（同时作为一个独立的PyPI包enum34供老版本使用）。Enums(枚举类型)基本上是一种组织各种东西的方式。\n\n让我们回顾一下上一个'Animal'命名元组的例子。 它有一个type字段，问题是，type是一个字符串。 那么问题来了，万一程序员输入了Cat，因为他按到了Shift键，或者输入了'CAT'，甚至'kitten'？\n\n枚举可以帮助我们避免这个问题，通过不使用字符串。考虑以下这个例子：\n\nfrom collections import namedtuple\nfrom enum import Enum\n\nclass Species(Enum):\n    cat = 1\n    dog = 2\n    horse = 3\n    aardvark = 4\n    butterfly = 5\n    owl = 6\n    platypus = 7\n    dragon = 8\n    unicorn = 9\n    # 依次类推\n\n    # 但我们并不想关心同一物种的年龄，所以我们可以使用一个别名\n    kitten = 1  # (译者注：幼小的猫咪)\n    puppy = 2   # (译者注：幼小的狗狗)\n\nAnimal = namedtuple('Animal', 'name age type')\nperry = Animal(name=\"Perry\", age=31, type=Species.cat)\ndrogon = Animal(name=\"Drogon\", age=4, type=Species.dragon)\ntom = Animal(name=\"Tom\", age=75, type=Species.cat)\ncharlie = Animal(name=\"Charlie\", age=2, type=Species.kitten)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 一些测试\n\n>>> charlie.type == tom.type\nTrue\n>>> charlie.type\n<Species.cat: 1>\n\n\n1\n2\n3\n4\n\n\n这样就没那么容易错误，我们必须更明确，而且我们应该只使用定义后的枚举类型。\n\n有三种方法访问枚举数据，例如以下方法都可以获取到'cat'的值：\n\nSpecies(1)\nSpecies['cat']\nSpecies.cat\n\n\n1\n2\n3\n\n\n这只是一个快速浏览collections模块的介绍，建议你阅读本文最后的官方文档。\n\n\n# 枚举\n\n枚举(enumerate)是Python内置函数。它的用处很难在简单的一行中说明，但是大多数的新人，甚至一些高级程序员都没有意识到它。\n\n它允许我们遍历数据并自动计数，\n\n下面是一个例子：\n\nfor counter, value in enumerate(some_list):\n    print(counter, value)\n\n\n1\n2\n\n\n不只如此，enumerate也接受一些可选参数，这使它更有用。\n\nmy_list = ['apple', 'banana', 'grapes', 'pear']\nfor c, value in enumerate(my_list, 1):\n    print(c, value)\n\n# 输出:\n(1, 'apple')\n(2, 'banana')\n(3, 'grapes')\n(4, 'pear')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n上面这个可选参数允许我们定制从哪个数字开始枚举。 你还可以用来创建包含索引的元组列表， 例如：\n\nmy_list = ['apple', 'banana', 'grapes', 'pear']\ncounter_list = list(enumerate(my_list, 1))\nprint(counter_list)\n# 输出: [(1, 'apple'), (2, 'banana'), (3, 'grapes'), (4, 'pear')]\n\n\n1\n2\n3\n4\n\n\n\n# 对象自省\n\n自省(introspection)，在计算机编程领域里，是指在运行时来判断一个对象的类型的能力。它是Python的强项之一。Python中所有一切都是一个对象，而且我们可以仔细勘察那些对象。Python还包含了许多内置函数和模块来帮助我们。\n\n\n# dir\n\n在这个小节里我们会学习到dir以及它在自省方面如何给我们提供便利。\n\n它是用于自省的最重要的函数之一。它返回一个列表，列出了一个对象所拥有的属性和方法。这里是一个例子：\n\nmy_list = [1, 2, 3]\ndir(my_list)\n# Output: ['__add__', '__class__', '__contains__', '__delattr__', '__delitem__',\n# '__delslice__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__',\n# '__getitem__', '__getslice__', '__gt__', '__hash__', '__iadd__', '__imul__',\n# '__init__', '__iter__', '__le__', '__len__', '__lt__', '__mul__', '__ne__',\n# '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__reversed__', '__rmul__',\n# '__setattr__', '__setitem__', '__setslice__', '__sizeof__', '__str__',\n# '__subclasshook__', 'append', 'count', 'extend', 'index', 'insert', 'pop',\n# 'remove', 'reverse', 'sort']\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n上面的自省给了我们一个列表对象的所有方法的名字。当你没法回忆起一个方法的名字，这会非常有帮助。如果我们运行dir()而不传入参数，那么它会返回当前作用域的所有名字。\n\n\n# type和id\n\ntype函数返回一个对象的类型。举个例子：\n\nprint(type(''))\n# Output: <type 'str'>\n\nprint(type([]))\n# Output: <type 'list'>\n\nprint(type({}))\n# Output: <type 'dict'>\n\nprint(type(dict))\n# Output: <type 'type'>\n\nprint(type(3))\n# Output: <type 'int'>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nid()函数返回任意不同种类对象的唯一ID，举个例子：\n\nname = \"Yasoob\"\nprint(id(name))\n# Output: 139972439030304\n\n\n1\n2\n3\n\n\n\n# inspect模块\n\ninspect模块也提供了许多有用的函数，来获取活跃对象的信息。比方说，你可以查看一个对象的成员，只需运行：\n\nimport inspect\nprint(inspect.getmembers(str))\n# Output: [('__add__', <slot wrapper '__add__' of ... ...\n\n\n1\n2\n3\n\n\n还有好多个其他方法也能有助于自省。如果你愿意，你可以去探索它们。\n\n\n# 各种推导式(comprehensions)\n\n推导式（又称解析式）是Python的一种独有特性，如果我被迫离开了它，我会非常想念。推导式是可以从一个数据序列构建另一个新的数据序列的结构体。 共有三种推导，在Python2和3中都有支持：\n\n * 列表(list)推导式\n * 字典(dict)推导式\n * 集合(set)推导式\n\n我们将一一进行讨论。一旦你知道了使用列表推导式的诀窍，你就能轻易使用任意一种推导式了。\n\n\n# 列表推导式（list comprehensions）\n\n列表推导式（又称列表解析式）提供了一种简明扼要的方法来创建列表。 它的结构是在一个中括号里包含一个表达式，然后是一个for语句，然后是0个或多个for或者if语句。那个表达式可以是任意的，意思是你可以在列表中放入任意类型的对象。返回结果将是一个新的列表，在这个以if和for语句为上下文的表达式运行完成之后产生。\n\n# 规范\n\nvariable = [out_exp for out_exp in input_list if out_exp == 2]\n\n\n1\n\n\n这里是另外一个简明例子:\n\nmultiples = [i for i in range(30) if i % 3 is 0]\nprint(multiples)\n# Output: [0, 3, 6, 9, 12, 15, 18, 21, 24, 27]\n\n\n1\n2\n3\n\n\n这将对快速生成列表非常有用。 有些人甚至更喜欢使用它而不是filter函数。 列表推导式在有些情况下超赞，特别是当你需要使用for循环来生成一个新列表。举个例子，你通常会这样做：\n\nsquared = []\nfor x in range(10):\n    squared.append(x**2)\n\n\n1\n2\n3\n\n\n你可以使用列表推导式来简化它，就像这样：\n\nsquared = [x**2 for x in range(10)]\n\n\n1\n\n\n\n# 字典推导式（dict comprehensions）\n\n字典推导和列表推导的使用方法是类似的。这里有个我最近发现的例子：\n\nmcase = {'a': 10, 'b': 34, 'A': 7, 'Z': 3}\n\nmcase_frequency = {\n    k.lower(): mcase.get(k.lower(), 0) + mcase.get(k.upper(), 0)\n    for k in mcase.keys()\n}\n\n# mcase_frequency == {'a': 17, 'z': 3, 'b': 34}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n在上面的例子中我们把同一个字母但不同大小写的值合并起来了。\n\n就我个人来说没有大量使用字典推导式。\n\n你还可以快速对换一个字典的键和值：\n\n{v: k for k, v in some_dict.items()}\n\n\n1\n\n\n\n# 集合推导式（set comprehensions）\n\n它们跟列表推导式也是类似的。 唯一的区别在于它们使用大括号{}。 举个例子：\n\nsquared = {x**2 for x in [1, 1, 2]}\nprint(squared)\n# Output: {1, 4}\n\n\n1\n2\n3\n",normalizedContent:"# 虚拟环境(virtualenv)\n\n\n# 你听说过virtualenv吗？\n\n如果你是一位初学者，你可能没有听说过virtualenv；但如果你是位经验丰富的程序员，那么它可能是你的工具集的重要组织部分。\n\n\n# 那么，什么是virtualenv?\n\nvirtualenv 是一个工具，它能够帮我们创建一个独立(隔离)的python环境。想象你有一个应用程序，依赖于版本为2的第三方模块，但另一个程序依赖的版本是3，请问你如何使用和开发这些应用程序？\n\n如果你把一切都安装到了/usr/lib/python2.7/site-packages（或者其它平台的标准位置），那很容易出现某个模块被升级而你却不知道的情况。\n\n在另一种情况下，想象你有一个已经开发完成的程序，但是你不想更新它所依赖的第三方模块版本；但你已经开始另一个程序，需要这些第三方模块的版本。\n\n\n# 用什么方式解决？\n\n使用virtualenv！针对每个程序创建独立（隔离）的python环境，而不是在全局安装所依赖的模块。\n\n要安装它，只需要在命令行中输入以下命令：\n\n$ pip install virtualenv\n\n\n1\n\n\n最重要的命令是：\n\n$ virtualenv myproject\n$ source bin/activate\n\n\n1\n2\n\n\n执行第一个命令在myproject文件夹创建一个隔离的virtualenv环境，第二个命令激活这个隔离的环境(virtualenv)。\n\n在创建virtualenv时，你必须做出决定：这个virtualenv是使用系统全局的模块呢？还是只使用这个virtualenv内的模块。 默认情况下，virtualenv不会使用系统全局模块。\n\n如果你想让你的virtualenv使用系统全局模块，请使用--system-site-packages参数创建你的virtualenv，例如：\n\nvirtualenv --system-site-packages mycoolproject\n\n\n1\n\n\n使用以下命令可以退出这个virtualenv:\n\n$ deactivate\n\n\n1\n\n\n运行之后将恢复使用你系统全局的python模块。\n\n\n# 福利\n\n你可以使用smartcd来帮助你管理你的环境，当你切换目录时，它可以帮助你激活（activate）和退出（deactivate）你的virtualenv。我已经用了很多次，很喜欢它。你可以在github(https://github.com/cxreg/smartcd) 上找到更多关于它的资料。\n\n这只是一个virtualenv的简短介绍，你可以在 http://docs.python-guide.org/en/latest/dev/virtualenvs/ 找到更多信息。\n\n\n# 容器(collections)\n\npython附带一个模块，它包含许多容器数据类型，名字叫作collections。我们将讨论它的作用和用法。\n\n我们将讨论的是：\n\n * defaultdict\n * counter\n * deque\n * namedtuple\n * enum.enum (包含在python 3.4以上)\n\n\n# defaultdict\n\n我个人使用defaultdict较多，与dict类型不同，你不需要检查key是否存在，所以我们能这样做：\n\nfrom collections import defaultdict\n\ncolours = (\n    ('yasoob', 'yellow'),\n    ('ali', 'blue'),\n    ('arham', 'green'),\n    ('ali', 'black'),\n    ('yasoob', 'red'),\n    ('ahmed', 'silver'),\n)\n\nfavourite_colours = defaultdict(list)\n\nfor name, colour in colours:\n    favourite_colours[name].append(colour)\n\nprint(favourite_colours)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 运行输出\n\n# defaultdict(<type 'list'>,\n#    {'arham': ['green'],\n#     'yasoob': ['yellow', 'red'],\n#     'ahmed': ['silver'],\n#     'ali': ['blue', 'black']\n# })\n\n\n1\n2\n3\n4\n5\n6\n\n\n另一种重要的是例子就是：当你在一个字典中对一个键进行嵌套赋值时，如果这个键不存在，会触发keyerror异常。 defaultdict允许我们用一个聪明的方式绕过这个问题。 首先我分享一个使用dict触发keyerror的例子，然后提供一个使用defaultdict的解决方案。\n\n问题 ：\n\nsome_dict = {}\nsome_dict['colours']['favourite'] = \"yellow\"\n\n## 异常输出：keyerror: 'colours'\n\n\n1\n2\n3\n4\n\n\n解决方案 ：\n\nimport collections\ntree = lambda: collections.defaultdict(tree)\nsome_dict = tree()\nsome_dict['colours']['favourite'] = \"yellow\"\n\n## 运行正常\n\n\n1\n2\n3\n4\n5\n6\n\n\n你可以用json.dumps打印出some_dict，例如：\n\nimport json\nprint(json.dumps(some_dict))\n\n## 输出: {\"colours\": {\"favourite\": \"yellow\"}}\n\n\n1\n2\n3\n4\n\n\n\n# counter\n\ncounter是一个计数器，它可以帮助我们针对某项数据进行计数。比如它可以用来计算每个人喜欢多少种颜色：\n\nfrom collections import counter\n\ncolours = (\n    ('yasoob', 'yellow'),\n    ('ali', 'blue'),\n    ('arham', 'green'),\n    ('ali', 'black'),\n    ('yasoob', 'red'),\n    ('ahmed', 'silver'),\n)\n\nfavs = counter(name for name, colour in colours)\nprint(favs)\n\n## 输出:\n## counter({\n##     'yasoob': 2,\n##     'ali': 2,\n##     'arham': 1,\n##     'ahmed': 1\n##  })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n我们也可以在利用它统计一个文件，例如：\n\nwith open('filename', 'rb') as f:\n    line_count = counter(f)\nprint(line_count)\n\n\n1\n2\n3\n\n\n\n# deque\n\ndeque提供了一个双端队列，你可以从头/尾两端添加或删除元素。要想使用它，首先我们要从collections中导入deque模块：\n\nfrom collections import deque\n\n\n1\n\n\n现在，你可以创建一个deque对象。\n\nd = deque()\n\n\n1\n\n\n它的用法就像python的list，并且提供了类似的方法，例如：\n\nd = deque()\nd.append('1')\nd.append('2')\nd.append('3')\n\nprint(len(d))\n\n## 输出: 3\n\nprint(d[0])\n\n## 输出: '1'\n\nprint(d[-1])\n\n## 输出: '3'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n你可以从两端取出(pop)数据：\n\nd = deque(range(5))\nprint(len(d))\n\n## 输出: 5\n\nd.popleft()\n\n## 输出: 0\n\nd.pop()\n\n## 输出: 4\n\nprint(d)\n\n## 输出: deque([1, 2, 3])\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n我们也可以限制这个列表的大小，当超出你设定的限制时，数据会从对队列另一端被挤出去(pop)。 最好的解释是给出一个例子：\n\nd = deque(maxlen=30)\n\n\n1\n\n\n现在当你插入30条数据时，最左边一端的数据将从队列中删除。\n\n你还可以从任一端扩展这个队列中的数据：\n\nd = deque([1,2,3,4,5])\nd.extendleft([0])\nd.extend([6,7,8])\nprint(d)\n\n## 输出: deque([0, 1, 2, 3, 4, 5, 6, 7, 8])\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# namedtuple\n\n您可能已经熟悉元组。 一个元组是一个不可变的列表，你可以存储一个数据的序列，它和命名元组(namedtuples)非常像，但有几个关键的不同。 主要相似点是都不像列表，你不能修改元组中的数据。为了获取元组中的数据，你需要使用整数作为索引：\n\nman = ('ali', 30)\nprint(man[0])\n\n## 输出: ali\n\n\n1\n2\n3\n4\n\n\n嗯，那namedtuples是什么呢？它把元组变成一个针对简单任务的容器。你不必使用整数索引来访问一个namedtuples的数据。你可以像字典(dict)一样访问namedtuples，但namedtuples是不可变的。\n\nfrom collections import namedtuple\n\nanimal = namedtuple('animal', 'name age type')\nperry = animal(name=\"perry\", age=31, type=\"cat\")\n\nprint(perry)\n\n## 输出: animal(name='perry', age=31, type='cat')\n\nprint(perry.name)\n\n## 输出: 'perry'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n现在你可以看到，我们可以用名字来访问namedtuple中的数据。我们再继续分析它。一个命名元组(namedtuple)有两个必需的参数。它们是元组名称和字段名称。\n\n在上面的例子中，我们的元组名称是animal，字段名称是'name'，'age'和'type'。 namedtuple让你的元组变得自文档了。你只要看一眼就很容易理解代码是做什么的。 你也不必使用整数索引来访问一个命名元组，这让你的代码更易于维护。 而且， namedtuple的每个实例没有对象字典 ，所以它们很轻量，与普通的元组比，并不需要更多的内存。这使得它们比字典更快。\n\n然而，要记住它是一个元组，属性值在namedtuple中是不可变的，所以下面的代码不能工作：\n\nfrom collections import namedtuple\n\nanimal = namedtuple('animal', 'name age type')\nperry = animal(name=\"perry\", age=31, type=\"cat\")\nperry.age = 42\n\n## 输出:\n## traceback (most recent call last):\n##     file \"\", line 1, in\n## attributeerror: can't set attribute\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n你应该使用命名元组来让代码 自文档 ， 它们向后兼容于普通的元组 ，这意味着你可以既使用整数索引，也可以使用名称来访问namedtuple：\n\nfrom collections import namedtuple\n\nanimal = namedtuple('animal', 'name age type')\nperry = animal(name=\"perry\", age=31, type=\"cat\")\nprint(perry[0])\n\n## 输出: perry\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n最后，你可以将一个命名元组转换为字典，方法如下：\n\nfrom collections import namedtuple\n\nanimal = namedtuple('animal', 'name age type')\nperry = animal(name=\"perry\", age=31, type=\"cat\")\nprint(perry._asdict())\n\n## 输出: ordereddict([('name', 'perry'), ('age', 31), ...\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# enum.enum (python 3.4+)\n\n另一个有用的容器是枚举对象，它属于enum模块，存在于python 3.4以上版本中（同时作为一个独立的pypi包enum34供老版本使用）。enums(枚举类型)基本上是一种组织各种东西的方式。\n\n让我们回顾一下上一个'animal'命名元组的例子。 它有一个type字段，问题是，type是一个字符串。 那么问题来了，万一程序员输入了cat，因为他按到了shift键，或者输入了'cat'，甚至'kitten'？\n\n枚举可以帮助我们避免这个问题，通过不使用字符串。考虑以下这个例子：\n\nfrom collections import namedtuple\nfrom enum import enum\n\nclass species(enum):\n    cat = 1\n    dog = 2\n    horse = 3\n    aardvark = 4\n    butterfly = 5\n    owl = 6\n    platypus = 7\n    dragon = 8\n    unicorn = 9\n    # 依次类推\n\n    # 但我们并不想关心同一物种的年龄，所以我们可以使用一个别名\n    kitten = 1  # (译者注：幼小的猫咪)\n    puppy = 2   # (译者注：幼小的狗狗)\n\nanimal = namedtuple('animal', 'name age type')\nperry = animal(name=\"perry\", age=31, type=species.cat)\ndrogon = animal(name=\"drogon\", age=4, type=species.dragon)\ntom = animal(name=\"tom\", age=75, type=species.cat)\ncharlie = animal(name=\"charlie\", age=2, type=species.kitten)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 一些测试\n\n>>> charlie.type == tom.type\ntrue\n>>> charlie.type\n<species.cat: 1>\n\n\n1\n2\n3\n4\n\n\n这样就没那么容易错误，我们必须更明确，而且我们应该只使用定义后的枚举类型。\n\n有三种方法访问枚举数据，例如以下方法都可以获取到'cat'的值：\n\nspecies(1)\nspecies['cat']\nspecies.cat\n\n\n1\n2\n3\n\n\n这只是一个快速浏览collections模块的介绍，建议你阅读本文最后的官方文档。\n\n\n# 枚举\n\n枚举(enumerate)是python内置函数。它的用处很难在简单的一行中说明，但是大多数的新人，甚至一些高级程序员都没有意识到它。\n\n它允许我们遍历数据并自动计数，\n\n下面是一个例子：\n\nfor counter, value in enumerate(some_list):\n    print(counter, value)\n\n\n1\n2\n\n\n不只如此，enumerate也接受一些可选参数，这使它更有用。\n\nmy_list = ['apple', 'banana', 'grapes', 'pear']\nfor c, value in enumerate(my_list, 1):\n    print(c, value)\n\n# 输出:\n(1, 'apple')\n(2, 'banana')\n(3, 'grapes')\n(4, 'pear')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n上面这个可选参数允许我们定制从哪个数字开始枚举。 你还可以用来创建包含索引的元组列表， 例如：\n\nmy_list = ['apple', 'banana', 'grapes', 'pear']\ncounter_list = list(enumerate(my_list, 1))\nprint(counter_list)\n# 输出: [(1, 'apple'), (2, 'banana'), (3, 'grapes'), (4, 'pear')]\n\n\n1\n2\n3\n4\n\n\n\n# 对象自省\n\n自省(introspection)，在计算机编程领域里，是指在运行时来判断一个对象的类型的能力。它是python的强项之一。python中所有一切都是一个对象，而且我们可以仔细勘察那些对象。python还包含了许多内置函数和模块来帮助我们。\n\n\n# dir\n\n在这个小节里我们会学习到dir以及它在自省方面如何给我们提供便利。\n\n它是用于自省的最重要的函数之一。它返回一个列表，列出了一个对象所拥有的属性和方法。这里是一个例子：\n\nmy_list = [1, 2, 3]\ndir(my_list)\n# output: ['__add__', '__class__', '__contains__', '__delattr__', '__delitem__',\n# '__delslice__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__',\n# '__getitem__', '__getslice__', '__gt__', '__hash__', '__iadd__', '__imul__',\n# '__init__', '__iter__', '__le__', '__len__', '__lt__', '__mul__', '__ne__',\n# '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__reversed__', '__rmul__',\n# '__setattr__', '__setitem__', '__setslice__', '__sizeof__', '__str__',\n# '__subclasshook__', 'append', 'count', 'extend', 'index', 'insert', 'pop',\n# 'remove', 'reverse', 'sort']\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n上面的自省给了我们一个列表对象的所有方法的名字。当你没法回忆起一个方法的名字，这会非常有帮助。如果我们运行dir()而不传入参数，那么它会返回当前作用域的所有名字。\n\n\n# type和id\n\ntype函数返回一个对象的类型。举个例子：\n\nprint(type(''))\n# output: <type 'str'>\n\nprint(type([]))\n# output: <type 'list'>\n\nprint(type({}))\n# output: <type 'dict'>\n\nprint(type(dict))\n# output: <type 'type'>\n\nprint(type(3))\n# output: <type 'int'>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nid()函数返回任意不同种类对象的唯一id，举个例子：\n\nname = \"yasoob\"\nprint(id(name))\n# output: 139972439030304\n\n\n1\n2\n3\n\n\n\n# inspect模块\n\ninspect模块也提供了许多有用的函数，来获取活跃对象的信息。比方说，你可以查看一个对象的成员，只需运行：\n\nimport inspect\nprint(inspect.getmembers(str))\n# output: [('__add__', <slot wrapper '__add__' of ... ...\n\n\n1\n2\n3\n\n\n还有好多个其他方法也能有助于自省。如果你愿意，你可以去探索它们。\n\n\n# 各种推导式(comprehensions)\n\n推导式（又称解析式）是python的一种独有特性，如果我被迫离开了它，我会非常想念。推导式是可以从一个数据序列构建另一个新的数据序列的结构体。 共有三种推导，在python2和3中都有支持：\n\n * 列表(list)推导式\n * 字典(dict)推导式\n * 集合(set)推导式\n\n我们将一一进行讨论。一旦你知道了使用列表推导式的诀窍，你就能轻易使用任意一种推导式了。\n\n\n# 列表推导式（list comprehensions）\n\n列表推导式（又称列表解析式）提供了一种简明扼要的方法来创建列表。 它的结构是在一个中括号里包含一个表达式，然后是一个for语句，然后是0个或多个for或者if语句。那个表达式可以是任意的，意思是你可以在列表中放入任意类型的对象。返回结果将是一个新的列表，在这个以if和for语句为上下文的表达式运行完成之后产生。\n\n# 规范\n\nvariable = [out_exp for out_exp in input_list if out_exp == 2]\n\n\n1\n\n\n这里是另外一个简明例子:\n\nmultiples = [i for i in range(30) if i % 3 is 0]\nprint(multiples)\n# output: [0, 3, 6, 9, 12, 15, 18, 21, 24, 27]\n\n\n1\n2\n3\n\n\n这将对快速生成列表非常有用。 有些人甚至更喜欢使用它而不是filter函数。 列表推导式在有些情况下超赞，特别是当你需要使用for循环来生成一个新列表。举个例子，你通常会这样做：\n\nsquared = []\nfor x in range(10):\n    squared.append(x**2)\n\n\n1\n2\n3\n\n\n你可以使用列表推导式来简化它，就像这样：\n\nsquared = [x**2 for x in range(10)]\n\n\n1\n\n\n\n# 字典推导式（dict comprehensions）\n\n字典推导和列表推导的使用方法是类似的。这里有个我最近发现的例子：\n\nmcase = {'a': 10, 'b': 34, 'a': 7, 'z': 3}\n\nmcase_frequency = {\n    k.lower(): mcase.get(k.lower(), 0) + mcase.get(k.upper(), 0)\n    for k in mcase.keys()\n}\n\n# mcase_frequency == {'a': 17, 'z': 3, 'b': 34}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n在上面的例子中我们把同一个字母但不同大小写的值合并起来了。\n\n就我个人来说没有大量使用字典推导式。\n\n你还可以快速对换一个字典的键和值：\n\n{v: k for k, v in some_dict.items()}\n\n\n1\n\n\n\n# 集合推导式（set comprehensions）\n\n它们跟列表推导式也是类似的。 唯一的区别在于它们使用大括号{}。 举个例子：\n\nsquared = {x**2 for x in [1, 1, 2]}\nprint(squared)\n# output: {1, 4}\n\n\n1\n2\n3\n",charsets:{cjk:!0},lastUpdated:"2022/04/13, 23:38:30",lastUpdatedTimestamp:164986431e4},{title:"Python 进阶 —— 第四节",frontmatter:{title:"Python 进阶 —— 第四节",date:"2022-04-13T14:51:06.000Z",permalink:"/basic/python/intermediatePy/part4/",categories:["编程基础","Python","Python 进阶"],tags:[null]},regularPath:"/10.%E5%9F%BA%E7%A1%80/30.Python/10.IntermediatePython/40.%E7%AC%AC%204%20%E8%8A%82.html",relativePath:"10.基础/30.Python/10.IntermediatePython/40.第 4 节.md",key:"v-726cad4b",path:"/basic/python/intermediatePy/part4/",headers:[{level:2,title:"异常",slug:"异常",normalizedTitle:"异常",charIndex:2},{level:3,title:"处理多个异常",slug:"处理多个异常",normalizedTitle:"处理多个异常",charIndex:308},{level:3,title:"finally从句",slug:"finally从句",normalizedTitle:"finally从句",charIndex:990},{level:3,title:"try/else从句",slug:"try-else从句",normalizedTitle:"try/else从句",charIndex:1505},{level:2,title:"lambda表达式",slug:"lambda表达式",normalizedTitle:"lambda表达式",charIndex:2249},{level:2,title:"一行式",slug:"一行式",normalizedTitle:"一行式",charIndex:2771},{level:2,title:"For - Else",slug:"for-else",normalizedTitle:"for - else",charIndex:4069},{level:2,title:"else从句",slug:"else从句",normalizedTitle:"else从句",charIndex:1509},{level:2,title:"使用C扩展",slug:"使用c扩展",normalizedTitle:"使用c扩展",charIndex:5389},{level:3,title:"CTypes",slug:"ctypes",normalizedTitle:"ctypes",charIndex:5666},{level:3,title:"SWIG",slug:"swig",normalizedTitle:"swig",charIndex:5478},{level:3,title:"Python/C API",slug:"python-c-api",normalizedTitle:"python/c api",charIndex:5483}],headersStr:"异常 处理多个异常 finally从句 try/else从句 lambda表达式 一行式 For - Else else从句 使用C扩展 CTypes SWIG Python/C API",content:"# 异常\n\n异常处理是一种艺术，一旦你掌握，会授予你无穷的力量。我将要向你展示我们能处理异常的一些方式。\n\n最基本的术语里我们知道了try/except从句。可能触发异常产生的代码会放到try语句块里，而处理异常的代码会在except语句块里实现。这是一个简单的例子：\n\ntry:\n    file = open('test.txt', 'rb')\nexcept IOError as e:\n    print('An IOError occurred. {}'.format(e.args[-1]))\n\n\n1\n2\n3\n4\n\n\n上面的例子里，我们仅仅在处理一个IOError的异常。大部分初学者还不知道的是，我们可以处理多个异常。\n\n\n# 处理多个异常\n\n我们可以使用三种方法来处理多个异常。\n\n第一种方法需要把所有可能发生的异常放到一个元组里。像这样：\n\ntry:\n    file = open('test.txt', 'rb')\nexcept (IOError, EOFError) as e:\n    print(\"An error occurred. {}\".format(e.args[-1]))\n\n\n1\n2\n3\n4\n\n\n另外一种方式是对每个单独的异常在单独的except语句块中处理。我们想要多少个except语句块都可以。这里是个例子：\n\ntry:\n    file = open('test.txt', 'rb')\nexcept EOFError as e:\n    print(\"An EOF error occurred.\")\n    raise e\nexcept IOError as e:\n    print(\"An error occurred.\")\n    raise e\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n上面这个方式中，如果异常没有被第一个except语句块处理，那么它也许被下一个语句块处理，或者根本不会被处理。\n\n现在，最后一种方式会捕获所有异常：\n\ntry:\n    file = open('test.txt', 'rb')\nexcept Exception:\n    # 打印一些异常日志，如果你想要的话\n    raise\n\n\n1\n2\n3\n4\n5\n\n\n当你不知道你的程序会抛出什么样的异常时，上面的方式可能非常有帮助。\n\n\n# finally从句\n\n我们把我们的主程序代码包裹进了try从句。然后我们把一些代码包裹进一个except从句，它会在try从句中的代码触发异常时执行。\n\n在下面的例子中，我们还会使用第三个从句，那就是finally从句。包裹到finally从句中的代码不管异常是否触发都将会被执行。这可以被用来在脚本执行之后做清理工作。这里是个简单的例子：\n\ntry:\n    file = open('test.txt', 'rb')\nexcept IOError as e:\n    print('An IOError occurred. {}'.format(e.args[-1]))\nfinally:\n    print(\"This would be printed whether or not an exception occurred!\")\n\n# Output: An IOError occurred. No such file or directory\n# This would be printed whether or not an exception occurred!\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# try/else从句\n\n我们常常想在没有触发异常的时候执行一些代码。这可以很轻松地通过一个else从句来达到。\n\n有人也许问了：如果你只是想让一些代码在没有触发异常的情况下执行，为啥你不直接把代码放在try里面呢？ 回答是，那样的话这段代码中的任意异常都还是会被try捕获，而你并不一定想要那样。\n\n大多数人并不使用else从句，而且坦率地讲我自己也没有大范围使用。这里是个例子：\n\ntry:\n    print('I am sure no exception is going to occur!')\nexcept Exception:\n    print('exception')\nelse:\n    # 这里的代码只会在try语句里没有触发异常时运行,\n    # 但是这里的异常将 *不会* 被捕获\n    print('This would only run if no exception occurs. And an error here '\n          'would NOT be caught.')\nfinally:\n    print('This would be printed in every case.')\n\n# Output: I am sure no exception is going to occur!\n# This would only run if no exception occurs.\n# This would be printed in every case.\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nelse从句只会在没有异常的情况下执行，而且它会在finally语句之前执行。\n\n\n# lambda表达式\n\nlambda表达式是一行函数。 它们在其他语言中也被称为匿名函数。如果你不想在程序中对一个函数使用两次，你也许会想用lambda表达式，它们和普通的函数完全一样。\n\n原型\n\n    lambda 参数:操作(参数)\n\n\n1\n\n\n例子\n\n    add = lambda x, y: x + y\n\n    print(add(3, 5))\n    # Output: 8\n\n\n1\n2\n3\n4\n\n\n这还有一些lambda表达式的应用案例，可以在一些特殊情况下使用：\n\n列表排序\n\n    a = [(1, 2), (4, 1), (9, 10), (13, -3)]\n    a.sort(key=lambda x: x[1])\n\n    print(a)\n    # Output: [(13, -3), (4, 1), (1, 2), (9, 10)]\n\n\n1\n2\n3\n4\n5\n\n\n列表并行排序\n\n    data = zip(list1, list2)\n    data.sort()\n    list1, list2 = map(lambda t: list(t), zip(*data))\n\n\n1\n2\n3\n\n\n\n# 一行式\n\n本章节,我将向大家展示一些一行式的Python命令，这些程序将对你非常有帮助。\n\n简易Web Server\n\n你是否想过通过网络快速共享文件？好消息，Python为你提供了这样的功能。进入到你要共享文件的目录下并在命令行中运行下面的代码：\n\n    # Python 2\n    python -m SimpleHTTPServer\n\n    # Python 3\n    python -m http.server\n\n\n1\n2\n3\n4\n5\n\n\n漂亮的打印\n\n你可以在Python REPL漂亮的打印出列表和字典。这里是相关的代码：\n\n    from pprint import pprint\n\n    my_dict = {'name': 'Yasoob', 'age': 'undefined', 'personality': 'awesome'}\n    pprint(my_dict)\n\n\n\n1\n2\n3\n4\n5\n\n\n这种方法在字典上更为有效。此外，如果你想快速漂亮的从文件打印出json数据，那么你可以这么做：\n\n    cat file.json | python -m json.tool\n\n\n1\n\n\n脚本性能分析 这可能在定位你的脚本中的性能瓶颈时，会非常奏效：\n\n    python -m cProfile my_script.py\n\n\n1\n\n\n备注：cProfile是一个比profile更快的实现，因为它是用c写的\n\nCSV转换为json\n\n在命令行执行这条指令\n\n    python -c \"import csv,json;print json.dumps(list(csv.reader(open('csv_file.csv'))))\"\n\n\n1\n\n\n确保更换csv_file.csv为你想要转换的csv文件\n\n列表辗平\n\n您可以通过使用itertools包中的itertools.chain.from_iterable轻松快速的辗平一个列表。下面是一个简单的例子：\n\n    a_list = [[1, 2], [3, 4], [5, 6]]\n    print(list(itertools.chain.from_iterable(a_list)))\n    # Output: [1, 2, 3, 4, 5, 6]\n\n    # or\n    print(list(itertools.chain(*a_list)))\n    # Output: [1, 2, 3, 4, 5, 6]\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n一行式的构造器\n\n避免类初始化时大量重复的赋值语句\n\n    class A(object):\n        def __init__(self, a, b, c, d, e, f):\n            self.__dict__.update({k: v for k, v in locals().items() if k != 'self'})\n\n\n1\n2\n3\n\n\n更多的一行方法请参考Python官方文档。\n\n\n# For - Else\n\n循环是任何语言的一个必备要素。同样地，for循环就是Python的一个重要组成部分。然而还有一些东西是初学者并不知道的。我们将一个个讨论一下。\n\n我们先从已经知道的开始。我们知道可以像这样使用for循环：\n\nfruits = ['apple', 'banana', 'mango']\nfor fruit in fruits:\n    print(fruit.capitalize())\n\n# Output: Apple\n#         Banana\n#         Mango\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n这是一个for循环非常基础的结构。现在我们继续看看，Python的for循环的一些鲜为人所知的特性。\n\n\n# else从句\n\nfor循环还有一个else从句，我们大多数人并不熟悉。这个else从句会在循环正常结束时执行。这意味着，循环没有遇到任何break. 一旦你掌握了何时何地使用它，它真的会非常有用。我自己对它真是相见恨晚。\n\n有个常见的构造是跑一个循环，并查找一个元素。如果这个元素被找到了，我们使用break来中断这个循环。有两个场景会让循环停下来。 - 第一个是当一个元素被找到，break被触发。 - 第二个场景是循环结束。\n\n现在我们也许想知道其中哪一个，才是导致循环完成的原因。一个方法是先设置一个标记，然后在循环结束时打上标记。另一个是使用else从句。\n\n这就是for/else循环的基本结构：\n\nfor item in container:\n    if search_something(item):\n        # Found it!\n        process(item)\n        break\nelse:\n    # Didn't find anything..\n    not_found_in_container()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n考虑下这个简单的案例，它是我从官方文档里拿来的：\n\nfor n in range(2, 10):\n    for x in range(2, n):\n        if n % x == 0:\n            print(n, 'equals', x, '*', n/x)\n            break\n\n\n1\n2\n3\n4\n5\n\n\n它会找出2到10之间的数字的因子。现在是趣味环节了。我们可以加上一个附加的else语句块，来抓住质数，并且告诉我们：\n\nfor n in range(2, 10):\n    for x in range(2, n):\n        if n % x == 0:\n            print( n, 'equals', x, '*', n/x)\n            break\n    else:\n        # loop fell through without finding a factor\n        print(n, 'is a prime number')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 使用C扩展\n\nCPython还为开发者实现了一个有趣的特性，使用Python可以轻松调用C代码\n\n开发者有三种方法可以在自己的Python代码中来调用C编写的函数-ctypes，SWIG，Python/C API。每种方式也都有各自的利弊。\n\n首先，我们要明确为什么要在Python中调用C？\n\n常见原因如下： - 你要提升代码的运行速度，而且你知道C要比Python快50倍以上 - C语言中有很多传统类库，而且有些正是你想要的，但你又不想用Python去重写它们 - 想对从内存到文件接口这样的底层资源进行访问 - 不需要理由，就是想这样做\n\n\n# CTypes\n\nPython中的ctypes模块可能是Python调用C方法中最简单的一种。ctypes模块提供了和C语言兼容的数据类型和函数来加载dll文件，因此在调用时不需对源文件做任何的修改。也正是如此奠定了这种方法的简单性。\n\n示例如下\n\n实现两数求和的C代码，保存为add.c\n\n//sample C file to add 2 numbers - int and floats\n\n#include <stdio.h>\n\nint add_int(int, int);\nfloat add_float(float, float);\n\nint add_int(int num1, int num2){\n    return num1 + num2;\n\n}\n\nfloat add_float(float num1, float num2){\n    return num1 + num2;\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n接下来将C文件编译为.so文件(windows下为DLL)。下面操作会生成adder.so文件\n\n#For Linux\n$  gcc -shared -Wl,-soname,adder -o adder.so -fPIC add.c\n\n#For Mac\n$ gcc -shared -Wl,-install_name,adder.so -o adder.so -fPIC add.c\n\n\n\n1\n2\n3\n4\n5\n6\n\n\n现在在你的Python代码中来调用它\n\nfrom ctypes import *\n\n#load the shared object file\nadder = CDLL('./adder.so')\n\n#Find sum of integers\nres_int = adder.add_int(4,5)\nprint \"Sum of 4 and 5 = \" + str(res_int)\n\n#Find sum of floats\na = c_float(5.5)\nb = c_float(4.1)\n\nadd_float = adder.add_float\nadd_float.restype = c_float\nprint \"Sum of 5.5 and 4.1 = \", str(add_float(a, b))\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n输出如下\n\nSum of 4 and 5 = 9\nSum of 5.5 and 4.1 =  9.60000038147\n\n\n1\n2\n\n\n在这个例子中，C文件是自解释的，它包含两个函数，分别实现了整形求和和浮点型求和。\n\n在Python文件中，一开始先导入ctypes模块，然后使用CDLL函数来加载我们创建的库文件。这样我们就可以通过变量adder来使用C类库中的函数了。当adder.add_int()被调用时，内部将发起一个对C函数add_int的调用。ctypes接口允许我们在调用C函数时使用原生Python中默认的字符串型和整型。\n\n而对于其他类似布尔型和浮点型这样的类型，必须要使用正确的ctype类型才可以。如向adder.add_float()函数传参时, 我们要先将Python中的十进制值转化为c_float类型，然后才能传送给C函数。这种方法虽然简单，清晰，但是却很受限。例如，并不能在C中对对象进行操作。\n\n\n# SWIG\n\nSWIG是Simplified Wrapper and Interface Generator的缩写。是Python中调用C代码的另一种方法。在这个方法中，开发人员必须编写一个额外的接口文件来作为SWIG(终端工具)的入口。\n\nPython开发者一般不会采用这种方法，因为大多数情况它会带来不必要的复杂。而当你有一个C/C++代码库需要被多种语言调用时，这将是个非常不错的选择。\n\n示例如下(来自SWIG官网)\n\nexample.c文件中的C代码包含了不同的变量和函数\n\n#include <time.h>\ndouble My_variable = 3.0;\n\nint fact(int n) {\n    if (n <= 1) return 1;\n    else return n*fact(n-1);\n\n}\n\nint my_mod(int x, int y) {\n    return (x%y);\n\n}\n\nchar *get_time()\n{\n    time_t ltime;\n    time(&ltime);\n    return ctime(&ltime);\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n编译它\n\nunix % swig -python example.i\nunix % gcc -c example.c example_wrap.c \\\n    -I/usr/local/include/python2.1\nunix % ld -shared example.o example_wrap.o -o _example.so\n\n\n\n1\n2\n3\n4\n5\n\n\n最后，Python的输出\n\n>>> import example\n>>> example.fact(5)\n120\n>>> example.my_mod(7,3)\n1\n>>> example.get_time()\n'Sun Feb 11 23:01:07 1996'\n>>>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n我们可以看到，使用SWIG确实达到了同样的效果，虽然下了更多的工夫，但如果你的目标是多语言还是很值得的。\n\n\n# Python/C API\n\nPython/C API可能是被最广泛使用的方法。它不仅简单，而且可以在C代码中操作你的Python对象。\n\n这种方法需要以特定的方式来编写C代码以供Python去调用它。所有的Python对象都被表示为一种叫做PyObject的结构体，并且Python.h头文件中提供了各种操作它的函数。例如，如果PyObject表示为PyListType(列表类型)时，那么我们便可以使用PyList_Size()函数来获取该结构的长度，类似Python中的len(list)函数。大部分对Python原生对象的基础函数和操作在Python.h头文件中都能找到。\n\n示例\n\n编写一个C扩展，添加所有元素到一个Python列表(所有元素都是数字)\n\n来看一下我们要实现的效果，这里演示了用Python调用C扩展的代码\n\n#Though it looks like an ordinary python import, the addList module is implemented in C import addList\n\nl = [1,2,3,4,5] print \"Sum of List - \" + str(l) + \" = \" + str(addList.add(l))\n\n上面的代码和普通的Python文件并没有什么分别，导入并使用了另一个叫做addList的Python模块。唯一差别就是这个模块并不是用Python编写的，而是C。\n\n接下来我们看看如何用C编写addList模块，这可能看起来有点让人难以接受，但是一旦你了解了这之中的各种组成，你就可以一往无前了。\n\n//Python.h has all the required function definitions to manipulate the Python objects\n#include <Python.h>\n\n//This is the function that is called from your python code\nstatic PyObject* addList_add(PyObject* self, PyObject* args){\n\n    PyObject * listObj;\n\n    //The input arguments come as a tuple, we parse the args to get the various variables\n    //In this case it's only one list variable, which will now be referenced by listObj\n    if (! PyArg_ParseTuple( args, \"O\", &listObj ))\n        return NULL;\n\n    //length of the list\n    long length = PyList_Size(listObj);\n\n    //iterate over all the elements\n    int i, sum =0;\n    for (i = 0; i < length; i++) {\n        //get an element out of the list - the element is also a python objects\n        PyObject* temp = PyList_GetItem(listObj, i);\n        //we know that object represents an integer - so convert it into C long\n        long elem = PyInt_AsLong(temp);\n        sum += elem;\n    }\n\n    //value returned back to python code - another python object\n    //build value here converts the C long to a python integer\n    return Py_BuildValue(\"i\", sum);\n\n}\n\n//This is the docstring that corresponds to our 'add' function.\nstatic char addList_docs[] =\n\"add(  ): add all elements of the list\\n\";\n\n/* This table contains the relavent info mapping -\n   <function-name in python module>, <actual-function>,\n   <type-of-args the function expects>, <docstring associated with the function>\n */\nstatic PyMethodDef addList_funcs[] = {\n    {\"add\", (PyCFunction)addList_add, METH_VARARGS, addList_docs},\n    {NULL, NULL, 0, NULL}\n\n};\n\n/*\n   addList is the module name, and this is the initialization block of the module.\n   <desired module name>, <the-info-table>, <module's-docstring>\n */\nPyMODINIT_FUNC initaddList(void){\n    Py_InitModule3(\"addList\", addList_funcs,\n            \"Add all ze lists\");\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n\n逐步解释 - Python.h头文件中包含了所有需要的类型(Python对象类型的表示)和函数定义(对Python对象的操作) - 接下来我们编写将要在Python调用的函数, 函数传统的命名方式由{模块名}_{函数名}组成，所以我们将其命名为addList_add\n\n * 然后填写想在模块内实现函数的相关信息表，每行一个函数，以空行作为结束 - 最后的模块初始化块签名为PyMODINIT_FUNC init{模块名}。\n\n函数addList_add接受的参数类型为PyObject类型结构(同时也表示为元组类型，因为Python中万物皆为对象，所以我们先用PyObject来定义)。传入的参数则通过PyArg_ParseTuple()来解析。第一个参数是被解析的参数变量。第二个参数是一个字符串，告诉我们如何去解析元组中每一个元素。字符串的第n个字母正是代表着元组中第n个参数的类型。例如，\"i\"代表整形，\"s\"代表字符串类型, \"O\"则代表一个Python对象。接下来的参数都是你想要通过PyArg_ParseTuple()函数解析并保存的元素。这样参数的数量和模块中函数期待得到的参数数量就可以保持一致，并保证了位置的完整性。例如，我们想传入一个字符串，一个整数和一个Python列表，可以这样去写\n\nint n;\nchar *s;\nPyObject* list;\nPyArg_ParseTuple(args, \"siO\", &n, &s, &list);\n\n\n1\n2\n3\n4\n\n\n在这种情况下，我们只需要提取一个列表对象，并将它存储在listObj变量中。然后用列表对象中的PyList_Size()函数来获取它的长度。就像Python中调用len(list)。\n\n现在我们通过循环列表，使用PyList_GetItem(list, index)函数来获取每个元素。这将返回一个PyObject*对象。既然Python对象也能表示PyIntType，我们只要使用PyInt_AsLong(PyObj *)函数便可获得我们所需要的值。我们对每个元素都这样处理，最后再得到它们的总和。\n\n总和将被转化为一个Python对象并通过Py_BuildValue()返回给Python代码，这里的i表示我们要返回一个Python整形对象。\n\n现在我们已经编写完C模块了。将下列代码保存为setup.py\n\n#build the modules\n\nfrom distutils.core import setup, Extension\n\nsetup(name='addList', version='1.0',  \\\n      ext_modules=[Extension('addList', ['adder.c'])])\n\n\n1\n2\n3\n4\n5\n6\n\n\n并且运行\n\npython setup.py install\n\n\n1\n\n\n现在应该已经将我们的C文件编译安装到我们的Python模块中了。\n\n在一番辛苦后，让我们来验证下我们的模块是否有效\n\n#module that talks to the C code\nimport addList\n\nl = [1,2,3,4,5]\nprint \"Sum of List - \" + str(l) + \" = \" +  str(addList.add(l))\n\n\n1\n2\n3\n4\n5\n\n\n输出结果如下\n\nSum of List - [1, 2, 3, 4, 5] = 15\n\n\n1\n\n\n如你所见，我们已经使用Python.h API成功开发出了我们第一个Python C扩展。这种方法看似复杂，但你一旦习惯，它将变的非常有效。\n\nPython调用C代码的另一种方式便是使用Cython让Python编译的更快。但是Cython和传统的Python比起来可以将它理解为另一种语言，所以我们就不在这里过多描述了。",normalizedContent:"# 异常\n\n异常处理是一种艺术，一旦你掌握，会授予你无穷的力量。我将要向你展示我们能处理异常的一些方式。\n\n最基本的术语里我们知道了try/except从句。可能触发异常产生的代码会放到try语句块里，而处理异常的代码会在except语句块里实现。这是一个简单的例子：\n\ntry:\n    file = open('test.txt', 'rb')\nexcept ioerror as e:\n    print('an ioerror occurred. {}'.format(e.args[-1]))\n\n\n1\n2\n3\n4\n\n\n上面的例子里，我们仅仅在处理一个ioerror的异常。大部分初学者还不知道的是，我们可以处理多个异常。\n\n\n# 处理多个异常\n\n我们可以使用三种方法来处理多个异常。\n\n第一种方法需要把所有可能发生的异常放到一个元组里。像这样：\n\ntry:\n    file = open('test.txt', 'rb')\nexcept (ioerror, eoferror) as e:\n    print(\"an error occurred. {}\".format(e.args[-1]))\n\n\n1\n2\n3\n4\n\n\n另外一种方式是对每个单独的异常在单独的except语句块中处理。我们想要多少个except语句块都可以。这里是个例子：\n\ntry:\n    file = open('test.txt', 'rb')\nexcept eoferror as e:\n    print(\"an eof error occurred.\")\n    raise e\nexcept ioerror as e:\n    print(\"an error occurred.\")\n    raise e\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n上面这个方式中，如果异常没有被第一个except语句块处理，那么它也许被下一个语句块处理，或者根本不会被处理。\n\n现在，最后一种方式会捕获所有异常：\n\ntry:\n    file = open('test.txt', 'rb')\nexcept exception:\n    # 打印一些异常日志，如果你想要的话\n    raise\n\n\n1\n2\n3\n4\n5\n\n\n当你不知道你的程序会抛出什么样的异常时，上面的方式可能非常有帮助。\n\n\n# finally从句\n\n我们把我们的主程序代码包裹进了try从句。然后我们把一些代码包裹进一个except从句，它会在try从句中的代码触发异常时执行。\n\n在下面的例子中，我们还会使用第三个从句，那就是finally从句。包裹到finally从句中的代码不管异常是否触发都将会被执行。这可以被用来在脚本执行之后做清理工作。这里是个简单的例子：\n\ntry:\n    file = open('test.txt', 'rb')\nexcept ioerror as e:\n    print('an ioerror occurred. {}'.format(e.args[-1]))\nfinally:\n    print(\"this would be printed whether or not an exception occurred!\")\n\n# output: an ioerror occurred. no such file or directory\n# this would be printed whether or not an exception occurred!\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# try/else从句\n\n我们常常想在没有触发异常的时候执行一些代码。这可以很轻松地通过一个else从句来达到。\n\n有人也许问了：如果你只是想让一些代码在没有触发异常的情况下执行，为啥你不直接把代码放在try里面呢？ 回答是，那样的话这段代码中的任意异常都还是会被try捕获，而你并不一定想要那样。\n\n大多数人并不使用else从句，而且坦率地讲我自己也没有大范围使用。这里是个例子：\n\ntry:\n    print('i am sure no exception is going to occur!')\nexcept exception:\n    print('exception')\nelse:\n    # 这里的代码只会在try语句里没有触发异常时运行,\n    # 但是这里的异常将 *不会* 被捕获\n    print('this would only run if no exception occurs. and an error here '\n          'would not be caught.')\nfinally:\n    print('this would be printed in every case.')\n\n# output: i am sure no exception is going to occur!\n# this would only run if no exception occurs.\n# this would be printed in every case.\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nelse从句只会在没有异常的情况下执行，而且它会在finally语句之前执行。\n\n\n# lambda表达式\n\nlambda表达式是一行函数。 它们在其他语言中也被称为匿名函数。如果你不想在程序中对一个函数使用两次，你也许会想用lambda表达式，它们和普通的函数完全一样。\n\n原型\n\n    lambda 参数:操作(参数)\n\n\n1\n\n\n例子\n\n    add = lambda x, y: x + y\n\n    print(add(3, 5))\n    # output: 8\n\n\n1\n2\n3\n4\n\n\n这还有一些lambda表达式的应用案例，可以在一些特殊情况下使用：\n\n列表排序\n\n    a = [(1, 2), (4, 1), (9, 10), (13, -3)]\n    a.sort(key=lambda x: x[1])\n\n    print(a)\n    # output: [(13, -3), (4, 1), (1, 2), (9, 10)]\n\n\n1\n2\n3\n4\n5\n\n\n列表并行排序\n\n    data = zip(list1, list2)\n    data.sort()\n    list1, list2 = map(lambda t: list(t), zip(*data))\n\n\n1\n2\n3\n\n\n\n# 一行式\n\n本章节,我将向大家展示一些一行式的python命令，这些程序将对你非常有帮助。\n\n简易web server\n\n你是否想过通过网络快速共享文件？好消息，python为你提供了这样的功能。进入到你要共享文件的目录下并在命令行中运行下面的代码：\n\n    # python 2\n    python -m simplehttpserver\n\n    # python 3\n    python -m http.server\n\n\n1\n2\n3\n4\n5\n\n\n漂亮的打印\n\n你可以在python repl漂亮的打印出列表和字典。这里是相关的代码：\n\n    from pprint import pprint\n\n    my_dict = {'name': 'yasoob', 'age': 'undefined', 'personality': 'awesome'}\n    pprint(my_dict)\n\n\n\n1\n2\n3\n4\n5\n\n\n这种方法在字典上更为有效。此外，如果你想快速漂亮的从文件打印出json数据，那么你可以这么做：\n\n    cat file.json | python -m json.tool\n\n\n1\n\n\n脚本性能分析 这可能在定位你的脚本中的性能瓶颈时，会非常奏效：\n\n    python -m cprofile my_script.py\n\n\n1\n\n\n备注：cprofile是一个比profile更快的实现，因为它是用c写的\n\ncsv转换为json\n\n在命令行执行这条指令\n\n    python -c \"import csv,json;print json.dumps(list(csv.reader(open('csv_file.csv'))))\"\n\n\n1\n\n\n确保更换csv_file.csv为你想要转换的csv文件\n\n列表辗平\n\n您可以通过使用itertools包中的itertools.chain.from_iterable轻松快速的辗平一个列表。下面是一个简单的例子：\n\n    a_list = [[1, 2], [3, 4], [5, 6]]\n    print(list(itertools.chain.from_iterable(a_list)))\n    # output: [1, 2, 3, 4, 5, 6]\n\n    # or\n    print(list(itertools.chain(*a_list)))\n    # output: [1, 2, 3, 4, 5, 6]\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n一行式的构造器\n\n避免类初始化时大量重复的赋值语句\n\n    class a(object):\n        def __init__(self, a, b, c, d, e, f):\n            self.__dict__.update({k: v for k, v in locals().items() if k != 'self'})\n\n\n1\n2\n3\n\n\n更多的一行方法请参考python官方文档。\n\n\n# for - else\n\n循环是任何语言的一个必备要素。同样地，for循环就是python的一个重要组成部分。然而还有一些东西是初学者并不知道的。我们将一个个讨论一下。\n\n我们先从已经知道的开始。我们知道可以像这样使用for循环：\n\nfruits = ['apple', 'banana', 'mango']\nfor fruit in fruits:\n    print(fruit.capitalize())\n\n# output: apple\n#         banana\n#         mango\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n这是一个for循环非常基础的结构。现在我们继续看看，python的for循环的一些鲜为人所知的特性。\n\n\n# else从句\n\nfor循环还有一个else从句，我们大多数人并不熟悉。这个else从句会在循环正常结束时执行。这意味着，循环没有遇到任何break. 一旦你掌握了何时何地使用它，它真的会非常有用。我自己对它真是相见恨晚。\n\n有个常见的构造是跑一个循环，并查找一个元素。如果这个元素被找到了，我们使用break来中断这个循环。有两个场景会让循环停下来。 - 第一个是当一个元素被找到，break被触发。 - 第二个场景是循环结束。\n\n现在我们也许想知道其中哪一个，才是导致循环完成的原因。一个方法是先设置一个标记，然后在循环结束时打上标记。另一个是使用else从句。\n\n这就是for/else循环的基本结构：\n\nfor item in container:\n    if search_something(item):\n        # found it!\n        process(item)\n        break\nelse:\n    # didn't find anything..\n    not_found_in_container()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n考虑下这个简单的案例，它是我从官方文档里拿来的：\n\nfor n in range(2, 10):\n    for x in range(2, n):\n        if n % x == 0:\n            print(n, 'equals', x, '*', n/x)\n            break\n\n\n1\n2\n3\n4\n5\n\n\n它会找出2到10之间的数字的因子。现在是趣味环节了。我们可以加上一个附加的else语句块，来抓住质数，并且告诉我们：\n\nfor n in range(2, 10):\n    for x in range(2, n):\n        if n % x == 0:\n            print( n, 'equals', x, '*', n/x)\n            break\n    else:\n        # loop fell through without finding a factor\n        print(n, 'is a prime number')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 使用c扩展\n\ncpython还为开发者实现了一个有趣的特性，使用python可以轻松调用c代码\n\n开发者有三种方法可以在自己的python代码中来调用c编写的函数-ctypes，swig，python/c api。每种方式也都有各自的利弊。\n\n首先，我们要明确为什么要在python中调用c？\n\n常见原因如下： - 你要提升代码的运行速度，而且你知道c要比python快50倍以上 - c语言中有很多传统类库，而且有些正是你想要的，但你又不想用python去重写它们 - 想对从内存到文件接口这样的底层资源进行访问 - 不需要理由，就是想这样做\n\n\n# ctypes\n\npython中的ctypes模块可能是python调用c方法中最简单的一种。ctypes模块提供了和c语言兼容的数据类型和函数来加载dll文件，因此在调用时不需对源文件做任何的修改。也正是如此奠定了这种方法的简单性。\n\n示例如下\n\n实现两数求和的c代码，保存为add.c\n\n//sample c file to add 2 numbers - int and floats\n\n#include <stdio.h>\n\nint add_int(int, int);\nfloat add_float(float, float);\n\nint add_int(int num1, int num2){\n    return num1 + num2;\n\n}\n\nfloat add_float(float num1, float num2){\n    return num1 + num2;\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n接下来将c文件编译为.so文件(windows下为dll)。下面操作会生成adder.so文件\n\n#for linux\n$  gcc -shared -wl,-soname,adder -o adder.so -fpic add.c\n\n#for mac\n$ gcc -shared -wl,-install_name,adder.so -o adder.so -fpic add.c\n\n\n\n1\n2\n3\n4\n5\n6\n\n\n现在在你的python代码中来调用它\n\nfrom ctypes import *\n\n#load the shared object file\nadder = cdll('./adder.so')\n\n#find sum of integers\nres_int = adder.add_int(4,5)\nprint \"sum of 4 and 5 = \" + str(res_int)\n\n#find sum of floats\na = c_float(5.5)\nb = c_float(4.1)\n\nadd_float = adder.add_float\nadd_float.restype = c_float\nprint \"sum of 5.5 and 4.1 = \", str(add_float(a, b))\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n输出如下\n\nsum of 4 and 5 = 9\nsum of 5.5 and 4.1 =  9.60000038147\n\n\n1\n2\n\n\n在这个例子中，c文件是自解释的，它包含两个函数，分别实现了整形求和和浮点型求和。\n\n在python文件中，一开始先导入ctypes模块，然后使用cdll函数来加载我们创建的库文件。这样我们就可以通过变量adder来使用c类库中的函数了。当adder.add_int()被调用时，内部将发起一个对c函数add_int的调用。ctypes接口允许我们在调用c函数时使用原生python中默认的字符串型和整型。\n\n而对于其他类似布尔型和浮点型这样的类型，必须要使用正确的ctype类型才可以。如向adder.add_float()函数传参时, 我们要先将python中的十进制值转化为c_float类型，然后才能传送给c函数。这种方法虽然简单，清晰，但是却很受限。例如，并不能在c中对对象进行操作。\n\n\n# swig\n\nswig是simplified wrapper and interface generator的缩写。是python中调用c代码的另一种方法。在这个方法中，开发人员必须编写一个额外的接口文件来作为swig(终端工具)的入口。\n\npython开发者一般不会采用这种方法，因为大多数情况它会带来不必要的复杂。而当你有一个c/c++代码库需要被多种语言调用时，这将是个非常不错的选择。\n\n示例如下(来自swig官网)\n\nexample.c文件中的c代码包含了不同的变量和函数\n\n#include <time.h>\ndouble my_variable = 3.0;\n\nint fact(int n) {\n    if (n <= 1) return 1;\n    else return n*fact(n-1);\n\n}\n\nint my_mod(int x, int y) {\n    return (x%y);\n\n}\n\nchar *get_time()\n{\n    time_t ltime;\n    time(&ltime);\n    return ctime(&ltime);\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n编译它\n\nunix % swig -python example.i\nunix % gcc -c example.c example_wrap.c \\\n    -i/usr/local/include/python2.1\nunix % ld -shared example.o example_wrap.o -o _example.so\n\n\n\n1\n2\n3\n4\n5\n\n\n最后，python的输出\n\n>>> import example\n>>> example.fact(5)\n120\n>>> example.my_mod(7,3)\n1\n>>> example.get_time()\n'sun feb 11 23:01:07 1996'\n>>>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n我们可以看到，使用swig确实达到了同样的效果，虽然下了更多的工夫，但如果你的目标是多语言还是很值得的。\n\n\n# python/c api\n\npython/c api可能是被最广泛使用的方法。它不仅简单，而且可以在c代码中操作你的python对象。\n\n这种方法需要以特定的方式来编写c代码以供python去调用它。所有的python对象都被表示为一种叫做pyobject的结构体，并且python.h头文件中提供了各种操作它的函数。例如，如果pyobject表示为pylisttype(列表类型)时，那么我们便可以使用pylist_size()函数来获取该结构的长度，类似python中的len(list)函数。大部分对python原生对象的基础函数和操作在python.h头文件中都能找到。\n\n示例\n\n编写一个c扩展，添加所有元素到一个python列表(所有元素都是数字)\n\n来看一下我们要实现的效果，这里演示了用python调用c扩展的代码\n\n#though it looks like an ordinary python import, the addlist module is implemented in c import addlist\n\nl = [1,2,3,4,5] print \"sum of list - \" + str(l) + \" = \" + str(addlist.add(l))\n\n上面的代码和普通的python文件并没有什么分别，导入并使用了另一个叫做addlist的python模块。唯一差别就是这个模块并不是用python编写的，而是c。\n\n接下来我们看看如何用c编写addlist模块，这可能看起来有点让人难以接受，但是一旦你了解了这之中的各种组成，你就可以一往无前了。\n\n//python.h has all the required function definitions to manipulate the python objects\n#include <python.h>\n\n//this is the function that is called from your python code\nstatic pyobject* addlist_add(pyobject* self, pyobject* args){\n\n    pyobject * listobj;\n\n    //the input arguments come as a tuple, we parse the args to get the various variables\n    //in this case it's only one list variable, which will now be referenced by listobj\n    if (! pyarg_parsetuple( args, \"o\", &listobj ))\n        return null;\n\n    //length of the list\n    long length = pylist_size(listobj);\n\n    //iterate over all the elements\n    int i, sum =0;\n    for (i = 0; i < length; i++) {\n        //get an element out of the list - the element is also a python objects\n        pyobject* temp = pylist_getitem(listobj, i);\n        //we know that object represents an integer - so convert it into c long\n        long elem = pyint_aslong(temp);\n        sum += elem;\n    }\n\n    //value returned back to python code - another python object\n    //build value here converts the c long to a python integer\n    return py_buildvalue(\"i\", sum);\n\n}\n\n//this is the docstring that corresponds to our 'add' function.\nstatic char addlist_docs[] =\n\"add(  ): add all elements of the list\\n\";\n\n/* this table contains the relavent info mapping -\n   <function-name in python module>, <actual-function>,\n   <type-of-args the function expects>, <docstring associated with the function>\n */\nstatic pymethoddef addlist_funcs[] = {\n    {\"add\", (pycfunction)addlist_add, meth_varargs, addlist_docs},\n    {null, null, 0, null}\n\n};\n\n/*\n   addlist is the module name, and this is the initialization block of the module.\n   <desired module name>, <the-info-table>, <module's-docstring>\n */\npymodinit_func initaddlist(void){\n    py_initmodule3(\"addlist\", addlist_funcs,\n            \"add all ze lists\");\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n\n逐步解释 - python.h头文件中包含了所有需要的类型(python对象类型的表示)和函数定义(对python对象的操作) - 接下来我们编写将要在python调用的函数, 函数传统的命名方式由{模块名}_{函数名}组成，所以我们将其命名为addlist_add\n\n * 然后填写想在模块内实现函数的相关信息表，每行一个函数，以空行作为结束 - 最后的模块初始化块签名为pymodinit_func init{模块名}。\n\n函数addlist_add接受的参数类型为pyobject类型结构(同时也表示为元组类型，因为python中万物皆为对象，所以我们先用pyobject来定义)。传入的参数则通过pyarg_parsetuple()来解析。第一个参数是被解析的参数变量。第二个参数是一个字符串，告诉我们如何去解析元组中每一个元素。字符串的第n个字母正是代表着元组中第n个参数的类型。例如，\"i\"代表整形，\"s\"代表字符串类型, \"o\"则代表一个python对象。接下来的参数都是你想要通过pyarg_parsetuple()函数解析并保存的元素。这样参数的数量和模块中函数期待得到的参数数量就可以保持一致，并保证了位置的完整性。例如，我们想传入一个字符串，一个整数和一个python列表，可以这样去写\n\nint n;\nchar *s;\npyobject* list;\npyarg_parsetuple(args, \"sio\", &n, &s, &list);\n\n\n1\n2\n3\n4\n\n\n在这种情况下，我们只需要提取一个列表对象，并将它存储在listobj变量中。然后用列表对象中的pylist_size()函数来获取它的长度。就像python中调用len(list)。\n\n现在我们通过循环列表，使用pylist_getitem(list, index)函数来获取每个元素。这将返回一个pyobject*对象。既然python对象也能表示pyinttype，我们只要使用pyint_aslong(pyobj *)函数便可获得我们所需要的值。我们对每个元素都这样处理，最后再得到它们的总和。\n\n总和将被转化为一个python对象并通过py_buildvalue()返回给python代码，这里的i表示我们要返回一个python整形对象。\n\n现在我们已经编写完c模块了。将下列代码保存为setup.py\n\n#build the modules\n\nfrom distutils.core import setup, extension\n\nsetup(name='addlist', version='1.0',  \\\n      ext_modules=[extension('addlist', ['adder.c'])])\n\n\n1\n2\n3\n4\n5\n6\n\n\n并且运行\n\npython setup.py install\n\n\n1\n\n\n现在应该已经将我们的c文件编译安装到我们的python模块中了。\n\n在一番辛苦后，让我们来验证下我们的模块是否有效\n\n#module that talks to the c code\nimport addlist\n\nl = [1,2,3,4,5]\nprint \"sum of list - \" + str(l) + \" = \" +  str(addlist.add(l))\n\n\n1\n2\n3\n4\n5\n\n\n输出结果如下\n\nsum of list - [1, 2, 3, 4, 5] = 15\n\n\n1\n\n\n如你所见，我们已经使用python.h api成功开发出了我们第一个python c扩展。这种方法看似复杂，但你一旦习惯，它将变的非常有效。\n\npython调用c代码的另一种方式便是使用cython让python编译的更快。但是cython和传统的python比起来可以将它理解为另一种语言，所以我们就不在这里过多描述了。",charsets:{cjk:!0},lastUpdated:"2022/04/13, 23:38:30",lastUpdatedTimestamp:164986431e4},{title:"Python 进阶 —— 第五节",frontmatter:{title:"Python 进阶 —— 第五节",date:"2022-04-13T14:51:06.000Z",permalink:"/basic/python/intermediatePy/part5/",categories:["编程基础","Python","Python 进阶"],tags:[null]},regularPath:"/10.%E5%9F%BA%E7%A1%80/30.Python/10.IntermediatePython/50.%E7%AC%AC%205%20%E8%8A%82.html",relativePath:"10.基础/30.Python/10.IntermediatePython/50.第 5 节.md",key:"v-b95e926a",path:"/basic/python/intermediatePy/part5/",headers:[{level:2,title:"open函数",slug:"open函数",normalizedTitle:"open函数",charIndex:2},{level:2,title:"目标Python2+3",slug:"目标python2-3",normalizedTitle:"目标python2+3",charIndex:1930},{level:2,title:"协程",slug:"协程",normalizedTitle:"协程",charIndex:3733},{level:2,title:"函数缓存 (Function caching)",slug:"函数缓存-function-caching",normalizedTitle:"函数缓存 (function caching)",charIndex:4904},{level:3,title:"Python 3.2及以后版本",slug:"python-3-2及以后版本",normalizedTitle:"python 3.2及以后版本",charIndex:5118},{level:3,title:"Python 2系列版本",slug:"python-2系列版本",normalizedTitle:"python 2系列版本",charIndex:5494},{level:2,title:"上下文管理器(Context managers)",slug:"上下文管理器-context-managers",normalizedTitle:"上下文管理器(context managers)",charIndex:6095},{level:3,title:"基于类的实现",slug:"基于类的实现",normalizedTitle:"基于类的实现",charIndex:6699},{level:3,title:"处理异常",slug:"处理异常",normalizedTitle:"处理异常",charIndex:7432},{level:3,title:"基于生成器的实现",slug:"基于生成器的实现",normalizedTitle:"基于生成器的实现",charIndex:8713}],headersStr:"open函数 目标Python2+3 协程 函数缓存 (Function caching) Python 3.2及以后版本 Python 2系列版本 上下文管理器(Context managers) 基于类的实现 处理异常 基于生成器的实现",content:"# open函数\n\nopen 函数可以打开一个文件。超级简单吧？大多数时候，我们看到它这样被使用：\n\nf = open('photo.jpg', 'r+')\njpgdata = f.read()\nf.close()\n\n\n1\n2\n3\n\n\n我现在写这篇文章的原因，是大部分时间我看到open被这样使用。有三个错误存在于上面的代码中。你能把它们全指出来吗？如不能，请读下去。在这篇文章的结尾，你会知道上面的代码错在哪里，而且，更重要的是，你能在自己的代码里避免这些错误。现在我们从基础开始：\n\nopen的返回值是一个文件句柄，从操作系统托付给你的Python程序。一旦你处理完文件，你会想要归还这个文件句柄，只有这样你的程序不会超出一次能打开的文件句柄的数量上限。\n\n显式地调用close关闭了这个文件句柄，但前提是只有在read成功的情况下。如果有任意异常正好在f = open(...)之后产生，f.close()将不会被调用（取决于Python解释器的做法，文件句柄可能还是会被归还，但那是另外的话题了）。为了确保不管异常是否触发，文件都能关闭，我们将其包裹成一个with语句:\n\nwith open('photo.jpg', 'r+') as f:\n    jpgdata = f.read()\n\n\n1\n2\n\n\nopen的第一个参数是文件名。第二个(mode 打开模式)决定了这个文件如何被打开。\n\n * 如果你想读取文件，传入r\n * 如果你想读取并写入文件，传入r+\n * 如果你想覆盖写入文件，传入w\n * 如果你想在文件末尾附加内容，传入a\n\n虽然有若干个其他的有效的mode字符串，但有可能你将永远不会使用它们。mode很重要，不仅因为它改变了行为，而且它可能导致权限错误。举个例子，我们要是在一个写保护的目录里打开一个jpg文件， open(.., 'r+')就失败了。mode可能包含一个扩展字符；让我们还可以以二进制方式打开文件(你将得到字节串)或者文本模式(字符串)\n\n一般来说，如果文件格式是由人写的，那么它更可能是文本模式。jpg图像文件一般不是人写的（而且其实不是人直接可读的），因此你应该以二进制模式来打开它们，方法是在mode字符串后加一个b(你可以看看开头的例子里，正确的方式应该是rb)。 如果你以文本模式打开一些东西（比如，加一个t,或者就用r/r+/w/a），你还必须知道要使用哪种编码。对于计算机来说，所有的文件都是字节，而不是字符。\n\n可惜，在Pyhon 2.x版本里，open不支持显示地指定编码。然而，io.open函数在Python 2.x中和3.x(其中它是open的别名)中都有提供，它能做正确的事。你可以传入encoding这个关键字参数来传入编码。 如果你不传入任意编码，一个系统 - 以及Python -指定的默认选项将被选中。你也许被诱惑去依赖这个默认选项，但这个默认选项经常是错误的，或者默认编码实际上不能表达文件里的所有字符（这将经常发生在Python 2.x和/或Windows）。 所以去挑选一个编码吧。utf-8是一个非常好的编码。当你写入一个文件，你可以选一个你喜欢的编码（或者最终读你文件的程序所喜欢的编码）。\n\n那你怎么找出正在读的文件是用哪种编码写的呢？好吧，不幸的是，并没有一个十分简单的方式来检测编码。在不同的编码中，同样的字节可以表示不同，但同样有效的字符。因此，你必须依赖一个元数据（比如，在HTTP头信息里）来找出编码。越来越多的是，文件格式将编码定义成UTF-8。\n\n有了这些基础知识，我们来写一个程序，读取一个文件，检测它是否是JPG（提示：这些文件头部以字节FF D8开始），把对输入文件的描述写入一个文本文件。\n\nimport io\n\nwith open('photo.jpg', 'rb') as inf:\n    jpgdata = inf.read()\n\nif jpgdata.startswith(b'\\xff\\xd8'):\n    text = u'This is a JPEG file (%d bytes long)\\n'\nelse:\n    text = u'This is a random file (%d bytes long)\\n'\n\nwith io.open('summary.txt', 'w', encoding='utf-8') as outf:\n    outf.write(text % len(jpgdata))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n我敢肯定，现在你会正确地使用open啦！\n\n\n# 目标Python2+3\n\n很多时候你可能希望你开发的程序能够同时兼容Python2+和Python3+。\n\n试想你有一个非常出名的Python模块被很多开发者使用着，但并不是所有人都只使用Python2或者Python3。这时候你有两个办法。第一个办法是开发两个模块，针对Python2一个，针对Python3一个。还有一个办法就是调整你现在的代码使其同时兼容Python2和Python3。\n\n本节中，我将介绍一些技巧，让你的脚本同时兼容Python2和Python3。\n\nFuture模块导入\n\n第一种也是最重要的方法，就是导入__future__模块。它可以帮你在Python2中导入Python3的功能。这有一组例子：\n\n上下文管理器是Python2.6+引入的新特性，如果你想在Python2.5中使用它可以这样做：\n\nfrom __future__ import with_statement\n\n\n1\n\n\n在Python3中print已经变为一个函数。如果你想在Python2中使用它可以通过__future__导入：\n\nprint\n# Output:\n\nfrom __future__ import print_function\nprint(print)\n# Output: <built-in function print>\n\n\n1\n2\n3\n4\n5\n6\n\n\n模块重命名\n\n首先，告诉我你是如何在你的脚本中导入模块的。大多时候我们会这样做：\n\nimport foo \n# or\nfrom foo import bar\n\n\n1\n2\n3\n\n\n你知道么，其实你也可以这样做：\n\nimport foo as foo\n\n\n1\n\n\n这样做可以起到和上面代码同样的功能，但最重要的是它能让你的脚本同时兼容Python2和Python3。现在我们来看下面的代码：\n\ntry:\n    import urllib.request as urllib_request  # for Python 3\nexcept ImportError:\n    import urllib2 as urllib_request  # for Python 2\n\n\n1\n2\n3\n4\n\n\n让我来稍微解释一下上面的代码。 我们将模块导入代码包装在try/except语句中。我们是这样做是因为在Python 2中并没有urllib.request模块。这将引起一个ImportError异常。而在Python2中urllib.request的功能则是由urllib2提供的。所以,当我们试图在Python2中导入urllib.request模块的时候，一旦我们捕获到ImportError我们将通过导入urllib2模块来代替它。\n\n最后，你要了解as关键字的作用。它将导入的模块映射到urllib.request，所以我们通过urllib_request这个别名就可以使用urllib2中的所有类和方法了。\n\n过期的Python2内置功能\n\n另一个需要了解的事情就是Python2中有12个内置功能在Python3中已经被移除了。要确保在Python2代码中不要出现这些功能来保证对Python3的兼容。这有一个强制让你放弃12内置功能的方法：\n\nfrom future.builtins.disabled import *\n\n\n1\n\n\n现在，只要你尝试在Python3中使用这些被遗弃的模块时，就会抛出一个NameError异常如下：\n\nfrom future.builtins.disabled import *\n\napply()\n# Output: NameError: obsolete Python 2 builtin apply is disabled\n\n\n1\n2\n3\n4\n\n\n标准库向下兼容的外部支持\n\n有一些包在非官方的支持下为Python2提供了Python3的功能。例如，我们有：\n\n * enum pip install enum34\n * singledispatch pip install singledispatch\n * pathlib pip install pathlib\n\n想更多了解，在Python文档中有一个全面的指南可以帮助你让你的代码同时兼容Python2和Python3。\n\n\n# 协程\n\nPython中的协程和生成器很相似但又稍有不同。主要区别在于： *生成器是数据的生产者 *协程则是数据的消费者\n\n首先我们先来回顾下生成器的创建过程。我们可以这样去创建一个生成器:\n\n    def fib():\n        a, b = 0, 1\n        while True:\n            yield a\n            a, b = b, a+b\n\n\n1\n2\n3\n4\n5\n\n\n然后我们经常在for循环中这样使用它:\n\n    for i in fib():\n        print i\n\n\n1\n2\n\n\n这样做不仅快而且不会给内存带来压力，因为我们所需要的值都是动态生成的而不是将他们存储在一个列表中。更概括的说如果现在我们在上面的例子中使用yield便可获得了一个协程。协程会消费掉发送给它的值。Python实现的grep就是个很好的例子：\n\n    def grep(pattern):\n        print(\"Searching for\", pattern)\n        while True:\n            line = (yield)\n            if pattern in line:\n                print(line) \n\n\n1\n2\n3\n4\n5\n6\n\n\n等等！yield返回了什么？啊哈，我们已经把它变成了一个协程。它将不再包含任何初始值，相反要从外部传值给它。我们可以通过send()方法向它传值。这有个例子：\n\n    search = grep('coroutine')\n    next(search)\n    #output: Searching for coroutine\n    search.send(\"I love you\")\n    search.send(\"Don't you love me?\")\n    search.send(\"I love coroutine instead!\")\n    #output: I love coroutine instead!\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n发送的值会被yield接收。我们为什么要运行next()方法呢？这样做正是为了启动一个协程。就像协程中包含的生成器并不是立刻执行，而是通过next()方法来响应send()方法。因此，你必须通过next()方法来执行yield表达式。\n\n我们可以通过调用close()方法来关闭一个协程。像这样：\n\n    search = grep('coroutine')\n    search.close()\n\n\n1\n2\n\n\n更多协程相关知识的学习大家可以参考David Beazley的这份精彩演讲。\n\n\n# 函数缓存 (Function caching)\n\n函数缓存允许我们将一个函数对于给定参数的返回值缓存起来。 当一个I/O密集的函数被频繁使用相同的参数调用的时候，函数缓存可以节约时间。 在Python 3.2版本以前我们只有写一个自定义的实现。在Python 3.2以后版本，有个lru_cache的装饰器，允许我们将一个函数的返回值快速地缓存或取消缓存。\n\n我们来看看，Python 3.2前后的版本分别如何使用它。\n\n\n# Python 3.2及以后版本\n\n我们来实现一个斐波那契计算器，并使用lru_cache。\n\nfrom functools import lru_cache\n\n@lru_cache(maxsize=32)\ndef fib(n):\n    if n < 2:\n        return n\n    return fib(n-1) + fib(n-2)\n\n>>> print([fib(n) for n in range(10)])\n# Output: [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n那个maxsize参数是告诉lru_cache，最多缓存最近多少个返回值。\n\n我们也可以轻松地对返回值清空缓存，通过这样：\n\nfib.cache_clear()\n\n\n1\n\n\n\n# Python 2系列版本\n\n你可以创建任意种类的缓存机制，有若干种方式来达到相同的效果，这完全取决于你的需要。 这里是一个一般的缓存：\n\nfrom functools import wraps\n\ndef memoize(function):\n    memo = {}\n    @wraps(function)\n    def wrapper(*args):\n        if args in memo:\n            return memo[args]\n        else:\n            rv = function(*args)\n            memo[args] = rv\n            return rv\n    return wrapper\n\n@memoize\ndef fibonacci(n):\n    if n < 2: return n\n    return fibonacci(n - 1) + fibonacci(n - 2)\n\nfibonacci(25)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n这里有一篇Caktus Group的不错的文章，在其中他们发现一个Django框架的由lru_cache导致的bug。读起来很有意思。一定要打开去看一下。\n\n\n# 上下文管理器(Context managers)\n\n上下文管理器允许你在有需要的时候，精确地分配和释放资源。\n\n使用上下文管理器最广泛的案例就是with语句了。 想象下你有两个需要结对执行的相关操作，然后还要在它们中间放置一段代码。 上下文管理器就是专门让你做这种事情的。举个例子：\n\nwith open('some_file', 'w') as opened_file:\n    opened_file.write('Hola!')\n\n\n1\n2\n\n\n上面这段代码打开了一个文件，往里面写入了一些数据，然后关闭该文件。如果在往文件写数据时发生异常，它也会尝试去关闭文件。上面那段代码与这一段是等价的：\n\nfile = open('some_file', 'w')\ntry:\n    file.write('Hola!')\nfinally:\n    file.close()\n\n\n1\n2\n3\n4\n5\n\n\n当与第一个例子对比时，我们可以看到，通过使用with，许多样板代码(boilerplate code)被消掉了。 这就是with语句的主要优势，它确保我们的文件会被关闭，而不用关注嵌套代码如何退出。\n\n上下文管理器的一个常见用例，是资源的加锁和解锁，以及关闭已打开的文件（就像我已经展示给你看的）。\n\n让我们看看如何来实现我们自己的上下文管理器。这会让我们更完全地理解在这些场景背后都发生着什么。\n\n\n# 基于类的实现\n\n一个上下文管理器的类，最起码要定义__enter__和__exit__方法。 让我们来构造我们自己的开启文件的上下文管理器，并学习下基础知识。\n\nclass File(object):\n    def __init__(self, file_name, method):\n        self.file_obj = open(file_name, method)\n    def __enter__(self):\n        return self.file_obj\n    def __exit__(self, type, value, traceback):\n        self.file_obj.close()\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n通过定义__enter__和__exit__方法，我们可以在with语句里使用它。我们来试试：\n\nwith File('demo.txt', 'w') as opened_file:\n    opened_file.write('Hola!')\n\n\n1\n2\n\n\n我们的__exit__函数接受三个参数。这些参数对于每个上下文管理器类中的__exit__方法都是必须的。我们来谈谈在底层都发生了什么。\n\n 1. with语句先暂存了File类的__exit__方法\n 2. 然后它调用File类的__enter__方法\n 3. __enter__方法打开文件并返回给with语句\n 4. 打开的文件句柄被传递给opened_file参数\n 5. 我们使用.write()来写文件\n 6. with语句调用之前暂存的__exit__方法\n 7. __exit__方法关闭了文件\n\n\n# 处理异常\n\n我们还没有谈到__exit__方法的这三个参数：type, value和traceback。 在第4步和第6步之间，如果发生异常，Python会将异常的type,value和traceback传递给__exit__方法。 它让__exit__方法来决定如何关闭文件以及是否需要其他步骤。在我们的案例中，我们并没有注意它们。\n\n那如果我们的文件对象抛出一个异常呢？万一我们尝试访问文件对象的一个不支持的方法。举个例子：\n\nwith File('demo.txt', 'w') as opened_file:\n    opened_file.undefined_function('Hola!')\n\n\n1\n2\n\n\n我们来列一下，当异常发生时，with语句会采取哪些步骤。 1. 它把异常的type,value和traceback传递给__exit__方法 2. 它让__exit__方法来处理异常 3. 如果__exit__返回的是True，那么这个异常就被优雅地处理了。 4. 如果__exit__返回的是True以外的任何东西，那么这个异常将被with语句抛出。\n\n在我们的案例中，__exit__方法返回的是None(如果没有return语句那么方法会返回None)。因此，with语句抛出了那个异常。\n\nTraceback (most recent call last):\n  File \"<stdin>\", line 2, in <module>\nAttributeError: 'file' object has no attribute 'undefined_function'\n\n\n1\n2\n3\n\n\n我们尝试下在__exit__方法中处理异常：\n\nclass File(object):\n    def __init__(self, file_name, method):\n        self.file_obj = open(file_name, method)\n    def __enter__(self):\n        return self.file_obj\n    def __exit__(self, type, value, traceback):\n        print(\"Exception has been handled\")\n        self.file_obj.close()\n        return True\n\nwith File('demo.txt', 'w') as opened_file:\n    opened_file.undefined_function()\n\n# Output: Exception has been handled\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n我们的__exit__方法返回了True,因此没有异常会被with语句抛出。\n\n这还不是实现上下文管理器的唯一方式。还有一种方式，我们会在下一节中一起看看。\n\n\n# 基于生成器的实现\n\n我们还可以用装饰器(decorators)和生成器(generators)来实现上下文管理器。 Python有个contextlib模块专门用于这个目的。我们可以使用一个生成器函数来实现一个上下文管理器，而不是使用一个类。 让我们看看一个基本的，没用的例子：\n\nfrom contextlib import contextmanager\n\n@contextmanager\ndef open_file(name):\n    f = open(name, 'w')\n    yield f\n    f.close()\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nOK啦！这个实现方式看起来更加直观和简单。然而，这个方法需要关于生成器、yield和装饰器的一些知识。在这个例子中我们还没有捕捉可能产生的任何异常。它的工作方式和之前的方法大致相同。\n\n让我们小小地剖析下这个方法。 1. Python解释器遇到了yield关键字。因为这个缘故它创建了一个生成器而不是一个普通的函数。 2. 因为这个装饰器，contextmanager会被调用并传入函数名（open_file）作为参数。 3. contextmanager函数返回一个以GeneratorContextManager对象封装过的生成器。 4. 这个GeneratorContextManager被赋值给open_file函数，我们实际上是在调用GeneratorContextManager对象。\n\n那现在我们既然知道了所有这些，我们可以用这个新生成的上下文管理器了，像这样：\n\nwith open_file('some_file') as f:\n    f.write('hola!')\n\n\n1\n2\n",normalizedContent:"# open函数\n\nopen 函数可以打开一个文件。超级简单吧？大多数时候，我们看到它这样被使用：\n\nf = open('photo.jpg', 'r+')\njpgdata = f.read()\nf.close()\n\n\n1\n2\n3\n\n\n我现在写这篇文章的原因，是大部分时间我看到open被这样使用。有三个错误存在于上面的代码中。你能把它们全指出来吗？如不能，请读下去。在这篇文章的结尾，你会知道上面的代码错在哪里，而且，更重要的是，你能在自己的代码里避免这些错误。现在我们从基础开始：\n\nopen的返回值是一个文件句柄，从操作系统托付给你的python程序。一旦你处理完文件，你会想要归还这个文件句柄，只有这样你的程序不会超出一次能打开的文件句柄的数量上限。\n\n显式地调用close关闭了这个文件句柄，但前提是只有在read成功的情况下。如果有任意异常正好在f = open(...)之后产生，f.close()将不会被调用（取决于python解释器的做法，文件句柄可能还是会被归还，但那是另外的话题了）。为了确保不管异常是否触发，文件都能关闭，我们将其包裹成一个with语句:\n\nwith open('photo.jpg', 'r+') as f:\n    jpgdata = f.read()\n\n\n1\n2\n\n\nopen的第一个参数是文件名。第二个(mode 打开模式)决定了这个文件如何被打开。\n\n * 如果你想读取文件，传入r\n * 如果你想读取并写入文件，传入r+\n * 如果你想覆盖写入文件，传入w\n * 如果你想在文件末尾附加内容，传入a\n\n虽然有若干个其他的有效的mode字符串，但有可能你将永远不会使用它们。mode很重要，不仅因为它改变了行为，而且它可能导致权限错误。举个例子，我们要是在一个写保护的目录里打开一个jpg文件， open(.., 'r+')就失败了。mode可能包含一个扩展字符；让我们还可以以二进制方式打开文件(你将得到字节串)或者文本模式(字符串)\n\n一般来说，如果文件格式是由人写的，那么它更可能是文本模式。jpg图像文件一般不是人写的（而且其实不是人直接可读的），因此你应该以二进制模式来打开它们，方法是在mode字符串后加一个b(你可以看看开头的例子里，正确的方式应该是rb)。 如果你以文本模式打开一些东西（比如，加一个t,或者就用r/r+/w/a），你还必须知道要使用哪种编码。对于计算机来说，所有的文件都是字节，而不是字符。\n\n可惜，在pyhon 2.x版本里，open不支持显示地指定编码。然而，io.open函数在python 2.x中和3.x(其中它是open的别名)中都有提供，它能做正确的事。你可以传入encoding这个关键字参数来传入编码。 如果你不传入任意编码，一个系统 - 以及python -指定的默认选项将被选中。你也许被诱惑去依赖这个默认选项，但这个默认选项经常是错误的，或者默认编码实际上不能表达文件里的所有字符（这将经常发生在python 2.x和/或windows）。 所以去挑选一个编码吧。utf-8是一个非常好的编码。当你写入一个文件，你可以选一个你喜欢的编码（或者最终读你文件的程序所喜欢的编码）。\n\n那你怎么找出正在读的文件是用哪种编码写的呢？好吧，不幸的是，并没有一个十分简单的方式来检测编码。在不同的编码中，同样的字节可以表示不同，但同样有效的字符。因此，你必须依赖一个元数据（比如，在http头信息里）来找出编码。越来越多的是，文件格式将编码定义成utf-8。\n\n有了这些基础知识，我们来写一个程序，读取一个文件，检测它是否是jpg（提示：这些文件头部以字节ff d8开始），把对输入文件的描述写入一个文本文件。\n\nimport io\n\nwith open('photo.jpg', 'rb') as inf:\n    jpgdata = inf.read()\n\nif jpgdata.startswith(b'\\xff\\xd8'):\n    text = u'this is a jpeg file (%d bytes long)\\n'\nelse:\n    text = u'this is a random file (%d bytes long)\\n'\n\nwith io.open('summary.txt', 'w', encoding='utf-8') as outf:\n    outf.write(text % len(jpgdata))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n我敢肯定，现在你会正确地使用open啦！\n\n\n# 目标python2+3\n\n很多时候你可能希望你开发的程序能够同时兼容python2+和python3+。\n\n试想你有一个非常出名的python模块被很多开发者使用着，但并不是所有人都只使用python2或者python3。这时候你有两个办法。第一个办法是开发两个模块，针对python2一个，针对python3一个。还有一个办法就是调整你现在的代码使其同时兼容python2和python3。\n\n本节中，我将介绍一些技巧，让你的脚本同时兼容python2和python3。\n\nfuture模块导入\n\n第一种也是最重要的方法，就是导入__future__模块。它可以帮你在python2中导入python3的功能。这有一组例子：\n\n上下文管理器是python2.6+引入的新特性，如果你想在python2.5中使用它可以这样做：\n\nfrom __future__ import with_statement\n\n\n1\n\n\n在python3中print已经变为一个函数。如果你想在python2中使用它可以通过__future__导入：\n\nprint\n# output:\n\nfrom __future__ import print_function\nprint(print)\n# output: <built-in function print>\n\n\n1\n2\n3\n4\n5\n6\n\n\n模块重命名\n\n首先，告诉我你是如何在你的脚本中导入模块的。大多时候我们会这样做：\n\nimport foo \n# or\nfrom foo import bar\n\n\n1\n2\n3\n\n\n你知道么，其实你也可以这样做：\n\nimport foo as foo\n\n\n1\n\n\n这样做可以起到和上面代码同样的功能，但最重要的是它能让你的脚本同时兼容python2和python3。现在我们来看下面的代码：\n\ntry:\n    import urllib.request as urllib_request  # for python 3\nexcept importerror:\n    import urllib2 as urllib_request  # for python 2\n\n\n1\n2\n3\n4\n\n\n让我来稍微解释一下上面的代码。 我们将模块导入代码包装在try/except语句中。我们是这样做是因为在python 2中并没有urllib.request模块。这将引起一个importerror异常。而在python2中urllib.request的功能则是由urllib2提供的。所以,当我们试图在python2中导入urllib.request模块的时候，一旦我们捕获到importerror我们将通过导入urllib2模块来代替它。\n\n最后，你要了解as关键字的作用。它将导入的模块映射到urllib.request，所以我们通过urllib_request这个别名就可以使用urllib2中的所有类和方法了。\n\n过期的python2内置功能\n\n另一个需要了解的事情就是python2中有12个内置功能在python3中已经被移除了。要确保在python2代码中不要出现这些功能来保证对python3的兼容。这有一个强制让你放弃12内置功能的方法：\n\nfrom future.builtins.disabled import *\n\n\n1\n\n\n现在，只要你尝试在python3中使用这些被遗弃的模块时，就会抛出一个nameerror异常如下：\n\nfrom future.builtins.disabled import *\n\napply()\n# output: nameerror: obsolete python 2 builtin apply is disabled\n\n\n1\n2\n3\n4\n\n\n标准库向下兼容的外部支持\n\n有一些包在非官方的支持下为python2提供了python3的功能。例如，我们有：\n\n * enum pip install enum34\n * singledispatch pip install singledispatch\n * pathlib pip install pathlib\n\n想更多了解，在python文档中有一个全面的指南可以帮助你让你的代码同时兼容python2和python3。\n\n\n# 协程\n\npython中的协程和生成器很相似但又稍有不同。主要区别在于： *生成器是数据的生产者 *协程则是数据的消费者\n\n首先我们先来回顾下生成器的创建过程。我们可以这样去创建一个生成器:\n\n    def fib():\n        a, b = 0, 1\n        while true:\n            yield a\n            a, b = b, a+b\n\n\n1\n2\n3\n4\n5\n\n\n然后我们经常在for循环中这样使用它:\n\n    for i in fib():\n        print i\n\n\n1\n2\n\n\n这样做不仅快而且不会给内存带来压力，因为我们所需要的值都是动态生成的而不是将他们存储在一个列表中。更概括的说如果现在我们在上面的例子中使用yield便可获得了一个协程。协程会消费掉发送给它的值。python实现的grep就是个很好的例子：\n\n    def grep(pattern):\n        print(\"searching for\", pattern)\n        while true:\n            line = (yield)\n            if pattern in line:\n                print(line) \n\n\n1\n2\n3\n4\n5\n6\n\n\n等等！yield返回了什么？啊哈，我们已经把它变成了一个协程。它将不再包含任何初始值，相反要从外部传值给它。我们可以通过send()方法向它传值。这有个例子：\n\n    search = grep('coroutine')\n    next(search)\n    #output: searching for coroutine\n    search.send(\"i love you\")\n    search.send(\"don't you love me?\")\n    search.send(\"i love coroutine instead!\")\n    #output: i love coroutine instead!\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n发送的值会被yield接收。我们为什么要运行next()方法呢？这样做正是为了启动一个协程。就像协程中包含的生成器并不是立刻执行，而是通过next()方法来响应send()方法。因此，你必须通过next()方法来执行yield表达式。\n\n我们可以通过调用close()方法来关闭一个协程。像这样：\n\n    search = grep('coroutine')\n    search.close()\n\n\n1\n2\n\n\n更多协程相关知识的学习大家可以参考david beazley的这份精彩演讲。\n\n\n# 函数缓存 (function caching)\n\n函数缓存允许我们将一个函数对于给定参数的返回值缓存起来。 当一个i/o密集的函数被频繁使用相同的参数调用的时候，函数缓存可以节约时间。 在python 3.2版本以前我们只有写一个自定义的实现。在python 3.2以后版本，有个lru_cache的装饰器，允许我们将一个函数的返回值快速地缓存或取消缓存。\n\n我们来看看，python 3.2前后的版本分别如何使用它。\n\n\n# python 3.2及以后版本\n\n我们来实现一个斐波那契计算器，并使用lru_cache。\n\nfrom functools import lru_cache\n\n@lru_cache(maxsize=32)\ndef fib(n):\n    if n < 2:\n        return n\n    return fib(n-1) + fib(n-2)\n\n>>> print([fib(n) for n in range(10)])\n# output: [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n那个maxsize参数是告诉lru_cache，最多缓存最近多少个返回值。\n\n我们也可以轻松地对返回值清空缓存，通过这样：\n\nfib.cache_clear()\n\n\n1\n\n\n\n# python 2系列版本\n\n你可以创建任意种类的缓存机制，有若干种方式来达到相同的效果，这完全取决于你的需要。 这里是一个一般的缓存：\n\nfrom functools import wraps\n\ndef memoize(function):\n    memo = {}\n    @wraps(function)\n    def wrapper(*args):\n        if args in memo:\n            return memo[args]\n        else:\n            rv = function(*args)\n            memo[args] = rv\n            return rv\n    return wrapper\n\n@memoize\ndef fibonacci(n):\n    if n < 2: return n\n    return fibonacci(n - 1) + fibonacci(n - 2)\n\nfibonacci(25)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n这里有一篇caktus group的不错的文章，在其中他们发现一个django框架的由lru_cache导致的bug。读起来很有意思。一定要打开去看一下。\n\n\n# 上下文管理器(context managers)\n\n上下文管理器允许你在有需要的时候，精确地分配和释放资源。\n\n使用上下文管理器最广泛的案例就是with语句了。 想象下你有两个需要结对执行的相关操作，然后还要在它们中间放置一段代码。 上下文管理器就是专门让你做这种事情的。举个例子：\n\nwith open('some_file', 'w') as opened_file:\n    opened_file.write('hola!')\n\n\n1\n2\n\n\n上面这段代码打开了一个文件，往里面写入了一些数据，然后关闭该文件。如果在往文件写数据时发生异常，它也会尝试去关闭文件。上面那段代码与这一段是等价的：\n\nfile = open('some_file', 'w')\ntry:\n    file.write('hola!')\nfinally:\n    file.close()\n\n\n1\n2\n3\n4\n5\n\n\n当与第一个例子对比时，我们可以看到，通过使用with，许多样板代码(boilerplate code)被消掉了。 这就是with语句的主要优势，它确保我们的文件会被关闭，而不用关注嵌套代码如何退出。\n\n上下文管理器的一个常见用例，是资源的加锁和解锁，以及关闭已打开的文件（就像我已经展示给你看的）。\n\n让我们看看如何来实现我们自己的上下文管理器。这会让我们更完全地理解在这些场景背后都发生着什么。\n\n\n# 基于类的实现\n\n一个上下文管理器的类，最起码要定义__enter__和__exit__方法。 让我们来构造我们自己的开启文件的上下文管理器，并学习下基础知识。\n\nclass file(object):\n    def __init__(self, file_name, method):\n        self.file_obj = open(file_name, method)\n    def __enter__(self):\n        return self.file_obj\n    def __exit__(self, type, value, traceback):\n        self.file_obj.close()\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n通过定义__enter__和__exit__方法，我们可以在with语句里使用它。我们来试试：\n\nwith file('demo.txt', 'w') as opened_file:\n    opened_file.write('hola!')\n\n\n1\n2\n\n\n我们的__exit__函数接受三个参数。这些参数对于每个上下文管理器类中的__exit__方法都是必须的。我们来谈谈在底层都发生了什么。\n\n 1. with语句先暂存了file类的__exit__方法\n 2. 然后它调用file类的__enter__方法\n 3. __enter__方法打开文件并返回给with语句\n 4. 打开的文件句柄被传递给opened_file参数\n 5. 我们使用.write()来写文件\n 6. with语句调用之前暂存的__exit__方法\n 7. __exit__方法关闭了文件\n\n\n# 处理异常\n\n我们还没有谈到__exit__方法的这三个参数：type, value和traceback。 在第4步和第6步之间，如果发生异常，python会将异常的type,value和traceback传递给__exit__方法。 它让__exit__方法来决定如何关闭文件以及是否需要其他步骤。在我们的案例中，我们并没有注意它们。\n\n那如果我们的文件对象抛出一个异常呢？万一我们尝试访问文件对象的一个不支持的方法。举个例子：\n\nwith file('demo.txt', 'w') as opened_file:\n    opened_file.undefined_function('hola!')\n\n\n1\n2\n\n\n我们来列一下，当异常发生时，with语句会采取哪些步骤。 1. 它把异常的type,value和traceback传递给__exit__方法 2. 它让__exit__方法来处理异常 3. 如果__exit__返回的是true，那么这个异常就被优雅地处理了。 4. 如果__exit__返回的是true以外的任何东西，那么这个异常将被with语句抛出。\n\n在我们的案例中，__exit__方法返回的是none(如果没有return语句那么方法会返回none)。因此，with语句抛出了那个异常。\n\ntraceback (most recent call last):\n  file \"<stdin>\", line 2, in <module>\nattributeerror: 'file' object has no attribute 'undefined_function'\n\n\n1\n2\n3\n\n\n我们尝试下在__exit__方法中处理异常：\n\nclass file(object):\n    def __init__(self, file_name, method):\n        self.file_obj = open(file_name, method)\n    def __enter__(self):\n        return self.file_obj\n    def __exit__(self, type, value, traceback):\n        print(\"exception has been handled\")\n        self.file_obj.close()\n        return true\n\nwith file('demo.txt', 'w') as opened_file:\n    opened_file.undefined_function()\n\n# output: exception has been handled\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n我们的__exit__方法返回了true,因此没有异常会被with语句抛出。\n\n这还不是实现上下文管理器的唯一方式。还有一种方式，我们会在下一节中一起看看。\n\n\n# 基于生成器的实现\n\n我们还可以用装饰器(decorators)和生成器(generators)来实现上下文管理器。 python有个contextlib模块专门用于这个目的。我们可以使用一个生成器函数来实现一个上下文管理器，而不是使用一个类。 让我们看看一个基本的，没用的例子：\n\nfrom contextlib import contextmanager\n\n@contextmanager\ndef open_file(name):\n    f = open(name, 'w')\n    yield f\n    f.close()\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nok啦！这个实现方式看起来更加直观和简单。然而，这个方法需要关于生成器、yield和装饰器的一些知识。在这个例子中我们还没有捕捉可能产生的任何异常。它的工作方式和之前的方法大致相同。\n\n让我们小小地剖析下这个方法。 1. python解释器遇到了yield关键字。因为这个缘故它创建了一个生成器而不是一个普通的函数。 2. 因为这个装饰器，contextmanager会被调用并传入函数名（open_file）作为参数。 3. contextmanager函数返回一个以generatorcontextmanager对象封装过的生成器。 4. 这个generatorcontextmanager被赋值给open_file函数，我们实际上是在调用generatorcontextmanager对象。\n\n那现在我们既然知道了所有这些，我们可以用这个新生成的上下文管理器了，像这样：\n\nwith open_file('some_file') as f:\n    f.write('hola!')\n\n\n1\n2\n",charsets:{cjk:!0},lastUpdated:"2022/04/13, 23:38:30",lastUpdatedTimestamp:164986431e4},{title:"开始上手",frontmatter:{title:"开始上手",date:"2022-04-09T19:37:19.000Z",permalink:"/pages/8a1564/",categories:["机器学习"],tags:[null]},regularPath:"/20.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/0.index.html",relativePath:"20.机器学习/0.index.md",key:"v-3c122209",path:"/pages/8a1564/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/10, 17:36:37",lastUpdatedTimestamp:1649583397e3},{title:"开始上手",frontmatter:{title:"开始上手",date:"2022-04-09T19:22:42.000Z",permalink:"/ml/course/index/",categories:["机器学习","机器学习教程"],tags:[null]},regularPath:"/20.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/10.%E6%95%99%E7%A8%8B/0.index.html",relativePath:"20.机器学习/10.教程/0.index.md",key:"v-1b88f20b",path:"/ml/course/index/",headers:[{level:2,title:"如何选择教程？",slug:"如何选择教程",normalizedTitle:"如何选择教程？",charIndex:2},{level:2,title:"如何阅读教程？",slug:"如何阅读教程",normalizedTitle:"如何阅读教程？",charIndex:14},{level:2,title:"如何选择阅读顺序？",slug:"如何选择阅读顺序",normalizedTitle:"如何选择阅读顺序？",charIndex:26},{level:2,title:"您能学到什么？",slug:"您能学到什么",normalizedTitle:"您能学到什么？",charIndex:40}],headersStr:"如何选择教程？ 如何阅读教程？ 如何选择阅读顺序？ 您能学到什么？",content:"# 如何选择教程？\n\n\n# 如何阅读教程？\n\n\n# 如何选择阅读顺序？\n\n\n# 您能学到什么？",normalizedContent:"# 如何选择教程？\n\n\n# 如何阅读教程？\n\n\n# 如何选择阅读顺序？\n\n\n# 您能学到什么？",charsets:{cjk:!0},lastUpdated:"2022/04/13, 23:38:30",lastUpdatedTimestamp:164986431e4},{title:"开始上手",frontmatter:{title:"开始上手",date:"2022-04-09T19:12:19.000Z",permalink:"/ml/course/ml-andrew/index/",categories:["机器学习","机器学习教程","斯坦福大学2014（吴恩达）机器学习教程中文笔记"],tags:[null]},regularPath:"/20.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/10.%E6%95%99%E7%A8%8B/10.%E6%96%AF%E5%9D%A6%E7%A6%8F%E5%A4%A7%E5%AD%A62014%EF%BC%88%E5%90%B4%E6%81%A9%E8%BE%BE%EF%BC%89%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/0.index.html",relativePath:"20.机器学习/10.教程/10.斯坦福大学2014（吴恩达）机器学习教程/0.index.md",key:"v-c70bf8f4",path:"/ml/course/ml-andrew/index/",headers:[{level:2,title:"准备",slug:"准备",normalizedTitle:"准备",charIndex:2},{level:2,title:"如何阅读本课程？",slug:"如何阅读本课程",normalizedTitle:"如何阅读本课程？",charIndex:9},{level:2,title:"您能从中学到什么？",slug:"您能从中学到什么",normalizedTitle:"您能从中学到什么？",charIndex:22},{level:2,title:"原文资源",slug:"原文资源",normalizedTitle:"原文资源",charIndex:36},{level:2,title:"视频资源",slug:"视频资源",normalizedTitle:"视频资源",charIndex:141},{level:2,title:"鸣谢",slug:"鸣谢",normalizedTitle:"鸣谢",charIndex:240}],headersStr:"准备 如何阅读本课程？ 您能从中学到什么？ 原文资源 视频资源 鸣谢",content:"# 准备\n\n\n# 如何阅读本课程？\n\n\n# 您能从中学到什么？\n\n\n# 原文资源\n\n本文原文资源来自于黄海光老师：\n\n * 项目：fengdu78/Coursera-ML-AndrewNg-Notes: 吴恩达老师的机器学习课程个人笔记\n * 网站：机器学习个人笔记-目录\n\n\n# 视频资源\n\n * Machine Learning by Stanford University | Coursera\n * [中英字幕]吴恩达机器学习系列课程_哔哩哔哩_bilibili\n\n\n# 鸣谢\n\n * 感谢吴恩达老师的课程，感谢黄海广老师的辛苦整理，让我们这样的初学者能够接触到这么优质的学习资源。\n * 本系列文章在原文的基础上做了部分文字、公式的校正，优化断句、语句等阅读体验，以及添加了自己的学习笔记。\n * 文章仅供个人学习之用，没有任何商业上的想法。\n * 如果文章侵犯了您的知识产权和利益，请联系我进行删除。",normalizedContent:"# 准备\n\n\n# 如何阅读本课程？\n\n\n# 您能从中学到什么？\n\n\n# 原文资源\n\n本文原文资源来自于黄海光老师：\n\n * 项目：fengdu78/coursera-ml-andrewng-notes: 吴恩达老师的机器学习课程个人笔记\n * 网站：机器学习个人笔记-目录\n\n\n# 视频资源\n\n * machine learning by stanford university | coursera\n * [中英字幕]吴恩达机器学习系列课程_哔哩哔哩_bilibili\n\n\n# 鸣谢\n\n * 感谢吴恩达老师的课程，感谢黄海广老师的辛苦整理，让我们这样的初学者能够接触到这么优质的学习资源。\n * 本系列文章在原文的基础上做了部分文字、公式的校正，优化断句、语句等阅读体验，以及添加了自己的学习笔记。\n * 文章仅供个人学习之用，没有任何商业上的想法。\n * 如果文章侵犯了您的知识产权和利益，请联系我进行删除。",charsets:{cjk:!0},lastUpdated:"2022/04/13, 23:38:30",lastUpdatedTimestamp:164986431e4},{title:"第1周",frontmatter:{title:"第1周",date:"2022-04-09T19:10:26.000Z",permalink:"/ml/course/ml-andrew/week1/",categories:["机器学习","斯坦福大学2014（吴恩达）机器学习教程"],tags:[null]},regularPath:"/20.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/10.%E6%95%99%E7%A8%8B/10.%E6%96%AF%E5%9D%A6%E7%A6%8F%E5%A4%A7%E5%AD%A62014%EF%BC%88%E5%90%B4%E6%81%A9%E8%BE%BE%EF%BC%89%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/10.%E7%AC%AC1%E5%91%A8.html",relativePath:"20.机器学习/10.教程/10.斯坦福大学2014（吴恩达）机器学习教程/10.第1周.md",key:"v-4f3b741f",path:"/ml/course/ml-andrew/week1/",headers:[{level:2,title:"引言(Introduction)",slug:"引言-introduction",normalizedTitle:"引言(introduction)",charIndex:2},{level:3,title:"1.1 欢迎",slug:"_1-1-欢迎",normalizedTitle:"1.1 欢迎",charIndex:23},{level:3,title:"1.2 机器学习是什么？",slug:"_1-2-机器学习是什么",normalizedTitle:"1.2 机器学习是什么？",charIndex:1966},{level:3,title:"1.3 监督学习",slug:"_1-3-监督学习",normalizedTitle:"1.3 监督学习",charIndex:3586},{level:3,title:"1.4 无监督学习",slug:"_1-4-无监督学习",normalizedTitle:"1.4 无监督学习",charIndex:5923},{level:2,title:"单变量线性回归(Linear Regression with One Variable)",slug:"单变量线性回归-linear-regression-with-one-variable",normalizedTitle:"单变量线性回归(linear regression with one variable)",charIndex:8543},{level:3,title:"2.1 模型表示",slug:"_2-1-模型表示",normalizedTitle:"2.1 模型表示",charIndex:8592},{level:3,title:"2.2 代价函数",slug:"_2-2-代价函数",normalizedTitle:"2.2 代价函数",charIndex:9959},{level:3,title:"2.3 代价函数的直观理解 I",slug:"_2-3-代价函数的直观理解-i",normalizedTitle:"2.3 代价函数的直观理解 i",charIndex:11134},{level:3,title:"2.4 代价函数的直观理解 II",slug:"_2-4-代价函数的直观理解-ii",normalizedTitle:"2.4 代价函数的直观理解 ii",charIndex:11282},{level:3,title:"2.5 梯度下降",slug:"_2-5-梯度下降",normalizedTitle:"2.5 梯度下降",charIndex:11948},{level:3,title:"2.6 梯度下降的直观理解",slug:"_2-6-梯度下降的直观理解",normalizedTitle:"2.6 梯度下降的直观理解",charIndex:13710},{level:3,title:"2.7 梯度下降的线性回归",slug:"_2-7-梯度下降的线性回归",normalizedTitle:"2.7 梯度下降的线性回归",charIndex:15847},{level:3,title:"2.8 接下来的内容",slug:"_2-8-接下来的内容",normalizedTitle:"2.8 接下来的内容",charIndex:18088},{level:2,title:"线性代数回顾(Linear Algebra Review)",slug:"线性代数回顾-linear-algebra-review",normalizedTitle:"线性代数回顾(linear algebra review)",charIndex:18738},{level:3,title:"3.1 矩阵和向量",slug:"_3-1-矩阵和向量",normalizedTitle:"3.1 矩阵和向量",charIndex:18772},{level:3,title:"3.2 加法和标量乘法",slug:"_3-2-加法和标量乘法",normalizedTitle:"3.2 加法和标量乘法",charIndex:19538},{level:3,title:"3.3 矩阵向量乘法",slug:"_3-3-矩阵向量乘法",normalizedTitle:"3.3 矩阵向量乘法",charIndex:20250},{level:3,title:"3.4 矩阵乘法",slug:"_3-4-矩阵乘法",normalizedTitle:"3.4 矩阵乘法",charIndex:20380},{level:3,title:"3.5 矩阵乘法的性质",slug:"_3-5-矩阵乘法的性质",normalizedTitle:"3.5 矩阵乘法的性质",charIndex:20564},{level:3,title:"3.6 逆、转置",slug:"_3-6-逆、转置",normalizedTitle:"3.6 逆、转置",charIndex:20953}],excerpt:"",headersStr:"引言(Introduction) 1.1 欢迎 1.2 机器学习是什么？ 1.3 监督学习 1.4 无监督学习 单变量线性回归(Linear Regression with One Variable) 2.1 模型表示 2.2 代价函数 2.3 代价函数的直观理解 I 2.4 代价函数的直观理解 II 2.5 梯度下降 2.6 梯度下降的直观理解 2.7 梯度下降的线性回归 2.8 接下来的内容 线性代数回顾(Linear Algebra Review) 3.1 矩阵和向量 3.2 加法和标量乘法 3.3 矩阵向量乘法 3.4 矩阵乘法 3.5 矩阵乘法的性质 3.6 逆、转置",content:"# 引言(Introduction)\n\n\n# 1.1 欢迎\n\n参考视频: 1 - 1 - Welcome (7 min).mkv\n\n第一个视频主要讲了什么是机器学习，机器学习能做些什么事情。\n\n机器学习是目前信息技术中最激动人心的方向之一。在这门课中，你将学习到这门技术的前沿，并可以自己实现学习机器学习的算法。\n\n你或许每天都在不知不觉中使用了机器学习的算法。\n\n * 每次，你打开谷歌、必应搜索到你需要的内容，正是因为他们有良好的学习算法。\n * 谷歌和微软实现了学习算法来排行网页排序。\n * 你用Facebook或苹果的图片分类程序他能认出你朋友的照片，这也是机器学习。\n * 每次您阅读您的电子邮件垃圾邮件筛选器，可以帮你过滤大量的垃圾邮件这也是一种学习算法。\n\n对我来说，我感到激动的原因之一是有一天做出一个和人类一样聪明的机器。实现这个想法任重而道远，许多AI研究者认为，实现这个目标最好的方法是通过让机器试着模仿人的大脑学习。我会在这门课中介绍一点这方面的内容。\n\n在这门课中，你还讲学习到关于机器学习的前沿状况。但事实上只了解算法、数学并不能解决你关心的实际的问题。所以，我们将花大量的时间做练习，从而你自己能实现每个这些算法，从而了解内部机理。\n\n那么，为什么机器学习如此受欢迎呢？原因是，机器学习不只是用于人工智能领域。\n\n我们创造智能的机器，有很多基础的知识。比如，我们可以让机器找到A与B之间的最短路径，但我们仍然不知道怎么让机器做更有趣的事情，如web搜索、照片标记、反垃圾邮件。我们发现，唯一方法是让机器自己学习怎么来解决问题。所以，机器学习已经成为计算机的一个能力。\n\n现在它涉及到各个行业和基础科学中。我从事于机器学习，但我每个星期都跟直升机飞行员、生物学家、很多计算机系统程序员交流（我在斯坦福大学的同事也是这样）。我平均每个星期会从硅谷收到两、三个电子邮件，这些联系我的人都对将学习算法应用于他们自己的问题感兴趣。这表明机器学习涉及的问题非常广泛。机器人、计算生物学、以及硅谷中大量的问题都受到机器学习的影响。\n\n这里有一些机器学习的案例。比如说：\n\n * 数据库挖掘。机器学习被用于数据挖掘的原因之一是网络和自动化技术的增长，这意味着，我们有史上最大的数据集。比如说，大量的硅谷公司正在收集web上的单击数据，也称为点击流数据，并尝试使用机器学习算法来分析数据，更好的了解用户，并为用户提供更好的服务。这在硅谷有巨大的市场。\n * 医疗记录。随着自动化的出现，我们现在有了电子医疗记录。如果我们可以把医疗记录变成医学知识，我们就可以更好地理解疾病。\n * 计算生物学。还是因为自动化技术，生物学家们收集的大量基因数据序列、DNA序列和等等，机器运行算法让我们更好地了解人类基因组，大家都知道这对人类意味着什么。\n * 工程方面，在工程的所有领域，我们有越来越大、越来越大的数据集，我们试图使用学习算法，来理解这些数据。\n * 在机械应用中，有些情况不能人为直接操作。例如，我已经在无人直升机领域工作了许多年。我们不知道如何写一段程序让直升机自己飞。我们唯一能做的就是让计算机自己学习如何驾驶直升机。\n * 手写识别：现在我们能够非常便宜地把信寄到这个美国甚至全世界的原因之一就是当你写一个像这样的信封，一种学习算法已经学会如何读你信封，它可以自动选择路径，所以我们只需要花几个美分把这封信寄到数千英里外。\n * 事实上，如果你看过自然语言处理或计算机视觉，这些语言理解或图像理解都是属于AI领域。大部分的自然语言处理和大部分的计算机视觉，都应用了机器学习。\n * 学习算法还广泛用于自定制程序。每次你去亚马逊或Netflix或iTunes Genius，它都会给出其他电影或产品或音乐的建议，这是一种学习算法。仔细想一想，他们有百万的用户；但他们没有办法为百万用户，编写百万个不同程序。软件能给这些自定制的建议的唯一方法是通过学习你的行为，来为你定制服务。\n * 最后学习算法被用来理解人类的学习和了解大脑。\n\n我们将谈论如何用这些推进我们的 AI 梦想。几个月前，一名学生给我一篇文章关于最顶尖的12个IT技能。拥有了这些技能HR绝对不会拒绝你。这是稍显陈旧的文章，但在这个列表最顶部就是机器学习的技能。\n\n在斯坦福大学，招聘人员联系我，让我推荐机器学习学生毕业的人远远多于机器学习的毕业生。所以我认为需求远远没有被满足。现在学习“机器学习”非常好，在这门课中，我希望能告诉你们很多机器学习的知识。\n\n在接下来的视频中，我们将开始给更正式的定义，什么是机器学习。然后我们会开始学习机器学习的主要问题和算法。你会了解一些主要的机器学习的术语，并开始了解不同的算法，用哪种算法更合适。\n\n\n# 1.2 机器学习是什么？\n\n参考视频: 1 - 2 - What is Machine Learning_ (7 min).mkv\n\n机器学习是什么？在本视频中，我们会尝试着进行定义，同时让你懂得何时会使用机器学习。实际上，即使是在机器学习的专业人士中，也不存在一个被广泛认可的定义来准确定义机器学习是什么或不是什么，现在我将告诉你一些人们尝试定义的示例。\n\n第一个机器学习的定义来自于Arthur Samuel。他定义机器学习为，在进行特定编程的情况下，给予计算机学习能力的领域。Samuel的定义可以回溯到50年代，他编写了一个西洋棋程序。这程序神奇之处在于，编程者自己并不是个下棋高手。但因为他太菜了，于是就通过编程，让西洋棋程序自己跟自己下了上万盘棋。通过观察哪种布局（棋盘位置）会赢，哪种布局会输，久而久之，这西洋棋程序明白了什么是好的布局，什么样是坏的布局。然后就牛逼大发了，程序通过学习后，玩西洋棋的水平超过了Samuel。这绝对是令人注目的成果。\n\n尽管编写者自己是个菜鸟，但因为计算机有着足够的耐心，去下上万盘的棋，没有人有这耐心去下这么多盘棋。通过这些练习，计算机获得无比丰富的经验，于是渐渐成为了比Samuel更厉害的西洋棋手。\n\n上述是个有点不正式的定义，也比较古老。另一个年代近一点的定义，由Tom Mitchell提出，来自卡内基梅隆大学，Tom定义的机器学习是，一个程序被认为能从经验E中学习，解决任务T，达到性能度量值P，当且仅当，有了经验E后，经过P评判，程序在处理T时的性能有所提升。我认为经验 E 就是程序上万次的自我练习的经验,而任务 T 就是下棋。性能度量值P呢，就是它在与一些新的对手比赛时，赢得比赛的概率。\n\n本课中，我希望教你有关各种不同类型的学习算法。目前存在几种不同类型的学习算法。主要的两种类型被我们称之为监督学习和无监督学习。在接下来的几个视频中，我会给出这些术语的定义。这里简单说两句，监督学习这个想法是指，我们将教计算机如何去完成任务，而在无监督学习中，我们打算让它自己进行学习。如果对这两个术语仍一头雾水，请不要担心，在后面的两个视频中，我会具体介绍这两种学习算法。此外你将听到诸如，强化学习和推荐系统等各种术语。这些都是机器学习算法的一员，以后我们都将介绍到，但学习算法最常用两个类型就是监督学习、无监督学习。我会在接下来的两个视频中给出它们的定义。本课中，我们将花费最多的精力来讨论这两种学习算法。而另一个会花费大量时间的任务是了解应用学习算法的实用建议。\n\n我非常注重这部分内容，实际上，就这些内容而言我不知道还有哪所大学会介绍到。给你讲授学习算法就好像给你一套工具，相比于提供工具，可能更重要的，是教你如何使用这些工具。在硅谷我住的地方，当我走访不同的公司，即使是最顶尖的公司，很多时候我都看到人们试图将机器学习算法应用于某些问题。有时他们甚至已经为此花了六个月之久。但当我看着他们所忙碌的事情时，我想说，哎呀，我本来可以在六个月前就告诉他们，他们应该采取一种学习算法，稍加修改进行使用，然后成功的机会绝对会高得多。\n\n所以在本课中，我们要花很多时间来探讨，如果你真的试图开发机器学习系统，探讨如何做出最好的实践类型决策，才能决定你的方式来构建你的系统，这样做的话，当你运用学习算法时，就不太容易变成那些为寻找一个解决方案花费6个月之久的人们的中一员。他们可能已经有了大体的框架，只是没法正确的工作，于是这就浪费了六个月的时间。所以我会花很多时间来教你这些机器学习、人工智能的最佳实践以及如何让它们工作，我们该如何去做，硅谷和世界各地最优秀的人是怎样做的。我希望能帮你成为最优秀的人才，通过了解如何设计和构建机器学习和人工智能系统。\n\n这就是机器学习，这些都是我希望讲授的主题。在下一个视频里，我会定义什么是监督学习，什么是无监督学习。此外，探讨何时使用二者。\n\n\n# 1.3 监督学习\n\n参考视频: 1 - 3 - Supervised Learning (12 min).mkv\n\n在这段视频中，我要定义可能是最常见一种机器学习问题：那就是监督学习。我将在后面正式定义监督学习。\n\n我们用一个例子介绍什么是监督学习，把正式的定义放在后面介绍。假如说你想预测房价。\n\n前阵子，一个学生从波特兰俄勒冈州的研究所收集了一些房价的数据。你把这些数据画出来，看起来是这个样子：横轴表示房子的面积，单位是平方英尺，纵轴表示房价，单位是千美元。那基于这组数据，假如你有一个朋友，他有一套750平方英尺房子，现在他希望把房子卖掉，他想知道这房子能卖多少钱。\n\n那么关于这个问题，机器学习算法将会怎么帮助你呢？\n\n\n\n我们应用学习算法，可以在这组数据中画一条直线，或者换句话说，拟合一条直线，根据这条线我们可以推测出，这套房子可能卖，当然这不是唯一的算法。可能还有更好的，比如我们不用直线拟合这些数据，用二次方程去拟合可能效果会更好。稍后我们将讨论如何选择学习算法，如何决定用直线还是二次方程来拟合。两个方案中有一个能让你朋友的房子出售得更合理。这些都是学习算法里面很好的例子。以上就是监督学习的例子。\n\n可以看出，监督学习指的就是我们给学习算法一个数据集，这个数据集由“正确答案”组成。在房价的例子中，我们给了一系列房子的数据，我们给定数据集中每个样本的正确价格，即它们实际的售价然后运用学习算法，算出更多的正确答案。比如你朋友那个新房子的价格。用术语来讲，这叫做回归问题。我们试着推测出一个连续值的结果，即房子的价格。\n\n一般房子的价格会记到美分，所以房价实际上是一系列离散的值，但是我们通常又把房价看成实数，看成是标量，所以又把它看成一个连续的数值。\n\n回归这个词的意思是，我们在试着推测出这一系列连续值属性。\n\n我再举另外一个监督学习的例子。我和一些朋友之前研究过这个。假设说你想通过查看病历来推测乳腺癌良性与否，假如有人检测出乳腺肿瘤，恶性肿瘤有害并且十分危险，而良性的肿瘤危害就没那么大，所以人们显然会很在意这个问题。\n\n\n\n让我们来看一组数据：这个数据集中，横轴表示肿瘤的大小，纵轴上，我标出1和0表示是或者不是恶性肿瘤。我们之前见过的肿瘤，如果是恶性则记为1，不是恶性，或者说良性记为0。\n\n我有5个良性肿瘤样本，在1的位置有5个恶性肿瘤样本。现在我们有一个朋友很不幸检查出乳腺肿瘤。假设说她的肿瘤大概这么大，那么机器学习的问题就在于，你能否估算出肿瘤是恶性的或是良性的概率。用术语来讲，这是一个分类问题。\n\n分类指的是，我们试着推测出离散的输出值：0或1良性或恶性，而事实上在分类问题中，输出可能不止两个值。比如说可能有三种乳腺癌，所以你希望预测离散输出0、1、2、3。0 代表良性，1 表示第1类乳腺癌，2表示第2类癌症，3表示第3类，但这也是分类问题。\n\n因为这几个离散的输出分别对应良性，第一类第二类或者第三类癌症，在分类问题中我们可以用另一种方式绘制这些数据点。\n\n现在我用不同的符号来表示这些数据。既然我们把肿瘤的尺寸看做区分恶性或良性的特征，那么我可以这么画，我用不同的符号来表示良性和恶性肿瘤。或者说是负样本和正样本现在我们不全部画X，良性的肿瘤改成用 O 表示，恶性的继续用 X 表示。来预测肿瘤的恶性与否。\n\n在其它一些机器学习问题中，可能会遇到不止一种特征。举个例子，我们不仅知道肿瘤的尺寸，还知道对应患者的年龄。在其他机器学习问题中，我们通常有更多的特征，我朋友研究这个问题时，通常采用这些特征，比如肿块密度，肿瘤细胞尺寸的一致性和形状的一致性等等，还有一些其他的特征。这就是我们即将学到最有趣的学习算法之一。\n\n那种算法不仅能处理2种3种或5种特征，即使有无限多种特征都可以处理。\n\n\n\n上图中，我列举了总共5种不同的特征，坐标轴上的两种和右边的3种，但是在一些学习问题中，你希望不只用3种或5种特征。相反，你想用无限多种特征，好让你的算法可以利用大量的特征，或者说线索来做推测。那你怎么处理无限多个特征，甚至怎么存储这些特征都存在问题，你电脑的内存肯定不够用。我们以后会讲一个算法，叫支持向量机，里面有一个巧妙的数学技巧，能让计算机处理无限多个特征。想象一下，我没有写下这两种和右边的三种特征，而是在一个无限长的列表里面，一直写一直写不停的写，写下无限多个特征，事实上，我们能用算法来处理它们。\n\n现在来回顾一下，这节课我们介绍了监督学习。其基本思想是，我们数据集中的每个样本都有相应的“正确答案”。再根据这些样本作出预测，就像房子和肿瘤的例子中做的那样。我们还介绍了回归问题，即通过回归来推出一个连续的输出，之后我们介绍了分类问题，其目标是推出一组离散的结果。\n\n现在来个小测验：假设你经营着一家公司，你想开发学习算法来处理这两个问题：\n\n * 你有一大批同样的货物，想象一下，你有上千件一模一样的货物等待出售，这时你想预测接下来的三个月能卖多少件？\n * 你有许多客户，这时你想写一个软件来检验每一个用户的账户。对于每一个账户，你要判断它们是否曾经被盗过？\n\n那这两个问题，它们属于分类问题、还是回归问题?\n\n问题一是一个回归问题，因为你知道，如果我有数千件货物，我会把它看成一个实数，一个连续的值。因此卖出的物品数，也是一个连续的值。\n\n问题二是一个分类问题，因为我会把预测的值，用 0 来表示账户未被盗，用 1 表示账户曾经被盗过。所以我们根据账号是否被盗过，把它们定为0 或 1，然后用算法推测一个账号是 0 还是 1，因为只有少数的离散值，所以我把它归为分类问题。\n\n以上就是监督学习的内容。\n\n\n# 1.4 无监督学习\n\n参考视频: 1 - 4 - Unsupervised Learning (14 min).mkv\n\n本次视频中，我们将介绍第二种主要的机器学习问题。叫做无监督学习。\n\n\n\n上个视频中，已经介绍了监督学习。回想当时的数据集，如图表所示，这个数据集中每条数据都已经标明是阴性或阳性，即是良性或恶性肿瘤。所以，对于监督学习里的每条数据，我们已经清楚地知道，训练集对应的正确答案，是良性或恶性了。\n\n在无监督学习中，我们已知的数据。看上去有点不一样，不同于监督学习的数据的样子，即无监督学习中没有任何的标签或者是有相同的标签或者就是没标签。所以我们已知数据集，却不知如何处理，也未告知每个数据点是什么。别的都不知道，就是一个数据集。你能从数据中找到某种结构吗？针对数据集，无监督学习就能判断出数据有两个不同的聚集簇。这是一个，那是另一个，二者不同。是的，无监督学习算法可能会把这些数据分成两个不同的簇。所以叫做聚类算法。事实证明，它能被用在很多地方。\n\n聚类应用的一个例子就是在谷歌新闻中。如果你以前从来没见过它，你可以到这个URL网址news.google.com去看看。谷歌新闻每天都在，收集非常多，非常多的网络的新闻内容。它再将这些新闻分组，组成有关联的新闻。所以谷歌新闻做的就是搜索非常多的新闻事件，自动地把它们聚类到一起。所以，这些新闻事件全是同一主题的，所以显示到一起。\n\n事实证明，聚类算法和无监督学习算法同样还用在很多其它的问题上。\n\n\n\n其中就有基因学的理解应用。一个DNA微观数据的例子。基本思想是输入一组不同个体，对其中的每个个体，你要分析出它们是否有一个特定的基因。技术上，你要分析多少特定基因已经表达。所以这些颜色，红，绿，灰等等颜色，这些颜色展示了相应的程度，即不同的个体是否有着一个特定的基因。你能做的就是运行一个聚类算法，把个体聚类到不同的类或不同类型的组。\n\n所以这个就是无监督学习，因为我们没有提前告知算法一些信息，比如，这是第一类的人，那些是第二类的人，还有第三类，等等。我们只是说，是的，这是有一堆数据。我不知道数据里面有什么。我不知道谁是什么类型。我甚至不知道人们有哪些不同的类型，这些类型又是什么。但你能自动地找到数据中的结构吗？就是说你要自动地聚类那些个体到各个类，我没法提前知道哪些是哪些。因为我们没有给算法正确答案来回应数据集中的数据，所以这就是无监督学习。\n\n无监督学习或聚集有着大量的应用。\n\n * 它用于组织大型计算机集群。我有些朋友在大数据中心工作，那里有大型的计算机集群，他们想解决什么样的机器易于协同地工作，如果你能够让那些机器协同工作，你就能让你的数据中心工作得更高效。\n * 第二种应用就是社交网络的分析。所以已知你朋友的信息，比如你经常发email的，或是你Facebook的朋友、谷歌+的朋友，我们能否自动地给出朋友的分组呢？\n * 还有市场分割。许多公司有大型的数据库，存储消费者信息。所以，你能检索这些顾客数据集，自动地发现市场分类，并自动地把顾客划分到不同的细分市场中，你才能自动并更有效地细分市场进行销售。这也是无监督学习，因为我们拥有所有的顾客数据，但我们没有提前知道是什么的细分市场，以及分别有哪些我们数据集中的顾客。我们不知道谁是在一号细分市场，谁在二号市场，等等。那我们就必须让算法从数据中发现这一切。\n * 最后，无监督学习也可用于天文数据分析，这些聚类算法给出了令人惊讶、有趣、有用的理论，解释了星系是如何诞生的。这些都是聚类的例子，聚类只是无监督学习中的一种。\n\n我现在告诉你们另一种。我先来介绍鸡尾酒宴问题。嗯，你参加过鸡尾酒宴吧？你可以想像下，有个宴会房间里满是人，全部坐着，都在聊天，这么多人同时在聊天，声音彼此重叠，因为每个人都在说话，同一时间都在说话，你几乎听不到你面前那人的声音。所以，可能在一个这样的鸡尾酒宴中的两个人，他俩同时都在说话，假设现在是在个有些小的鸡尾酒宴中。我们放两个麦克风在房间中，因为这些麦克风在两个地方，离说话人的距离不同每个麦克风记录下不同的声音，虽然是同样的两个说话人。听起来像是两份录音被叠加到一起，或是被归结到一起，产生了我们现在的这些录音。另外，这个算法还会区分出两个音频资源，这两个可以合成或合并成之前的录音。\n\n\n\n看看这个无监督学习算法，实现这个得要多么的复杂，是吧？它似乎是这样，为了构建这个应用，完成这个音频处理似乎需要你去写大量的代码或链接到一堆的合成器 Java 库，处理音频的库，看上去绝对是个复杂的程序，去完成这个从音频中分离出音频。事实上，这个算法对应你刚才知道的那个问题的算法可以就用一行代码来完成。就是这里展示的代码：\n\n[W,s,v] = svd((repmat(sum(x.*x,1),size(x,1),1).*x)*x');\n\n研究人员花费了大量时间才最终实现这行代码。我不是说这个是简单的问题，但它证明了，当你使用正确的编程环境，许多学习算法是相当短的程序。所以，这也是为什么在本课中，我们打算使用Octave编程环境。Octave,是免费的开源软件，使用一个像Octave或Matlab的工具，许多学习算法变得只有几行代码就可实现。(编者注：这个是当时的情况，现在Python变主流了)\n\n最后，总结下本视频内容，我有个简短的复习题给你们。\n\n我们介绍了无监督学习，它是学习策略，交给算法大量的数据，并让算法为我们从数据中找出某种结构。\n\n好的，希望你们还记得垃圾邮件问题。如果你有标记好的数据，区别好是垃圾还是非垃圾邮件，我们把这个当作监督学习问题。\n\n新闻事件分类的例子，就是那个谷歌新闻的例子，我们在本视频中有见到了，我们看到，可以用一个聚类算法来聚类这些文章到一起，所以是无监督学习。\n\n细分市场的例子，我在更早一点的时间讲过，你可以当作无监督学习问题，因为我只是拿到算法数据，再让算法去自动地发现细分市场。\n\n最后一个例子，糖尿病，这个其实就像上个视频里的乳腺癌，只是替换了好、坏肿瘤，良性、恶性肿瘤，我们改用糖尿病或没病。所以我们把这个当作监督学习，我们能够解决它，作为一个监督学习问题。\n\n好了，以上就是无监督学习的视频内容，在下一个视频中，我们将深入探究特定的学习算法，开始介绍这些算法是如何工作的，和我们还有你如何来实现它们。\n\n\n# 单变量线性回归(Linear Regression with One Variable)\n\n\n# 2.1 模型表示\n\n参考视频: 2 - 1 - Model Representation (8 min).mkv\n\n我们的第一个学习算法是线性回归算法。在这段视频中，你会看到这个算法的概况，更重要的是你将会了解监督学习过程完整的流程。\n\n让我们通过一个例子来开始：这个例子是预测住房价格的，我们要使用一个数据集，数据集包含俄勒冈州波特兰市的住房价格。在这里，我要根据不同房屋尺寸所售出的价格，画出我的数据集。比方说，如果你朋友的房子是1250平方尺大小，你要告诉他们这房子能卖多少钱。那么，你可以做的一件事就是构建一个模型，也许是条直线，从这个数据模型上来看，也许你可以告诉你的朋友，他能以大约220000(美元)左右的价格卖掉这个房子。这就是监督学习算法的一个例子。\n\n\n\n它被称作监督学习是因为对于每个数据来说，我们给出了“正确的答案”，即告诉我们：根据我们的数据来说，房子实际的价格是多少，而且，更具体来说，这是一个回归问题。回归一词指的是，我们根据之前的数据预测出一个准确的输出值，对于这个例子就是价格，同时，还有另一种最常见的监督学习方式，叫做分类问题，当我们想要预测离散的输出值，例如，我们正在寻找癌症肿瘤，并想要确定肿瘤是良性的还是恶性的，这就是0/1离散输出的问题。更进一步来说，在监督学习中我们有一个数据集，这个数据集被称训练集。\n\n我将在整个课程中用小写的mmm来表示训练样本的数目。\n\n以之前的房屋交易问题为例，假使我们回归问题的训练集（Training Set）如下表所示：\n\n\n\n我们将要用来描述这个回归问题的标记如下:\n\n * mmm 代表训练集中实例的数量\n * xxx 代表特征/输入变量\n * yyy 代表目标变量/输出变量\n * (x,y)\\left( x,y \\right)(x,y) 代表训练集中的实例\n * (x(i),y(i))({x^{(i)}},{y^{(i)}})(x(i),y(i)) 代表第 iii 个观察实例\n * hhh 代表学习算法的解决方案或函数也称为假设（hypothesis）。\n\n\n\n这就是一个监督学习算法的工作方式，我们可以看到这里有我们的训练集里房屋价格，我们把它喂给我们的学习算法，学习算法的工作了，然后输出一个函数，通常表示为小写 hhh 表示。hhh 代表hypothesis(假设)，hhh表示一个函数，输入是房屋尺寸大小，就像你朋友想出售的房屋，因此 hhh 根据输入的 xxx值来得出 yyy 值，yyy 值对应房子的价格。因此，hhh 是一个从xxx 到 yyy 的函数映射。\n\n我将选择最初的使用规则hhh代表hypothesis，因而，要解决房价预测问题，我们实际上是要将训练集“喂”给我们的学习算法，进而学习得到一个假设hhh，然后将我们要预测的房屋的尺寸作为输入变量输入给hhh，预测出该房屋的交易价格作为输出变量输出为结果。那么，对于我们的房价预测问题，我们该如何表达 hhh？\n\n一种可能的表达方式为：hθ(x)=θ0+θ1xh_\\theta \\left( x \\right)=\\theta_{0} + \\theta_{1}xhθ (x)=θ0 +θ1 x，因为只含有一个特征/输入变量，因此这样的问题叫作单变量线性回归问题。\n\n\n# 2.2 代价函数\n\n参考视频: 2 - 2 - Cost Function (8 min).mkv\n\n在这段视频中我们将定义代价函数的概念，这有助于我们弄清楚如何把最有可能的直线与我们的数据相拟合。如图：\n\n\n\n在线性回归中我们有一个像这样的训练集，mmm代表了训练样本的数量，比如 m=47m = 47m=47。而我们的假设函数，也就是用来进行预测的函数，是这样的线性函数形式：hθ(x)=θ0+θ1xh_\\theta \\left( x \\right)=\\theta_{0}+\\theta_{1}xhθ (x)=θ0 +θ1 x。\n\n接下来我们会引入一些术语我们现在要做的便是为我们的模型选择合适的参数（parameters）θ0\\theta_{0}θ0 和 θ1\\theta_{1}θ1 ，在房价问题这个例子中便是直线的斜率和在yyy 轴上的截距。\n\n我们选择的参数决定了我们得到的直线相对于我们的训练集的准确程度，模型所预测的值与训练集中实际值之间的差距（下图中蓝线所指）就是建模误差（modeling error）。\n\n\n\n我们的目标便是选择出可以使得建模误差的平方和能够最小的模型参数。 即使得代价函数 J(θ0,θ1)=12m∑i=1m(hθ(x(i))−y(i))2J \\left( \\theta_0, \\theta_1 \\right) = \\frac{1}{2m}\\sum\\limits_{i=1}^m \\left( h_{\\theta}(x^{(i)})-y^{(i)} \\right)^{2}J(θ0 ,θ1 )=2m1 i=1∑m (hθ (x(i))−y(i))2最小。\n\n我们绘制一个等高线图，三个坐标分别为θ0\\theta_{0}θ0 和θ1\\theta_{1}θ1 和J(θ0,θ1)J(\\theta_{0}, \\theta_{1})J(θ0 ,θ1 )：\n\n\n\n则可以看出在三维空间中存在一个使得J(θ0,θ1)J(\\theta_{0}, \\theta_{1})J(θ0 ,θ1 )最小的点。\n\n代价函数也被称作平方误差函数，有时也被称为平方误差代价函数。我们之所以要求出误差的平方和，是因为误差平方代价函数，对于大多数问题，特别是回归问题，都是一个合理的选择。还有其他的代价函数也能很好地发挥作用，但是平方误差代价函数可能是解决回归问题最常用的手段了。\n\n在后续课程中，我们还会谈论其他的代价函数，但我们刚刚讲的选择是对于大多数线性回归问题非常合理的。\n\n也许这个函数J(θ0,θ1)J(\\theta_{0}, \\theta_{1})J(θ0 ,θ1 )有点抽象，可能你仍然不知道它的内涵，在接下来的几个视频里，我们要更进一步解释代价函数J的工作原理，并尝试更直观地解释它在计算什么，以及我们使用它的目的。\n\n\n# 2.3 代价函数的直观理解 I\n\n参考视频: 2 - 3 - Cost Function - Intuition I (11 min).mkv\n\n在上一个视频中，我们给了代价函数一个数学上的定义。在这个视频里，让我们通过一些例子来获取一些直观的感受，看看代价函数到底是在干什么。\n\n\n\n\n\n\n# 2.4 代价函数的直观理解 II\n\n参考视频: 2 - 4 - Cost Function - Intuition II (9 min).mkv\n\n这节课中，我们将更深入地学习代价函数的作用，这段视频的内容假设你已经认识等高线图，如果你对等高线图不太熟悉的话，这段视频中的某些内容你可能会听不懂，但不要紧，如果你跳过这段视频的话，也没什么关系，不听这节课对后续课程理解影响不大。\n\n\n\n代价函数的样子，等高线图，可以看出在三维空间中存在一个使得J(θ0,θ1)J(\\theta_{0}, \\theta_{1})J(θ0 ,θ1 )最小的点。\n\n\n\n通过这些图形，我希望你能更好地理解这些代价函数JJJ所表达的值是什么样的，它们对应的假设是什么样的，以及什么样的假设对应的点，更接近于代价函数JJJ的最小值。\n\n当然，我们真正需要的是一种有效的算法，能够自动地找出这些使代价函数JJJ取最小值的参数θ0\\theta_{0}θ0 和θ1\\theta_{1}θ1 来。\n\n我们也不希望编个程序把这些点画出来，然后人工的方法来读出这些点的数值，这很明显不是一个好办法。我们会遇到更复杂、更高维度、更多参数的情况，而这些情况是很难画出图的，因此更无法将其可视化，因此我们真正需要的是编写程序来找出这些最小化代价函数的θ0\\theta_{0}θ0 和θ1\\theta_{1}θ1 的值，在下一节视频中，我们将介绍一种算法，能够自动地找出能使代价函数JJJ最小化的参数θ0\\theta_{0}θ0 和θ1\\theta_{1}θ1 的值。\n\n\n# 2.5 梯度下降\n\n参考视频: 2 - 5 - Gradient Descent (11 min).mkv\n\n梯度下降是一个用来求函数最小值的算法，我们将使用梯度下降算法来求出代价函数J(θ0,θ1)J(\\theta_{0}, \\theta_{1})J(θ0 ,θ1 ) 的最小值。\n\n梯度下降背后的思想是：开始时我们随机选择一个参数的组合(θ0,θ1,......,θn)\\left( {\\theta_{0}},{\\theta_{1}},......,{\\theta_{n}} \\right)(θ0 ,θ1 ,......,θn )，计算代价函数，然后我们寻找下一个能让代价函数值下降最多的参数组合。我们持续这么做直到找到一个局部最小值（local minimum），因为我们并没有尝试完所有的参数组合，所以不能确定我们得到的局部最小值是否便是全局最小值（global minimum），选择不同的初始参数组合，可能会找到不同的局部最小值。\n\n\n\n想象一下你正站立在山的这一点上，站立在你想象的公园这座红色山上，在梯度下降算法中，我们要做的就是旋转360度，看看我们的周围，并要在某个方向上，用小碎步尽快下山。这些小碎步需要朝什么方向？如果我们站在山坡上的这一点，你看一下周围，你会发现最佳的下山方向，你再看看周围，然后再一次想想，我应该从什么方向迈着小碎步下山？然后你按照自己的判断又迈出一步，重复上面的步骤，直到你接近局部最低点的位置。\n\n批量梯度下降（batch gradient descent）算法的公式为：\n\n\n\n其中aaa是学习率（learning rate），它决定了我们沿着能让代价函数下降程度最大的方向向下迈出的步子有多大，在批量梯度下降中，我们每一次都同时让所有的参数减去学习速率乘以代价函数的导数。\n\n\n\n在梯度下降算法中，还有一个更微妙的问题，梯度下降中，我们要更新θ0{\\theta_{0}}θ0 和θ1{\\theta_{1}}θ1 ，当 j=0j=0j=0 和j=1j=1j=1时，会产生更新，所以你将更新J(θ0)J\\left( {\\theta_{0}} \\right)J(θ0 )和J(θ1)J\\left( {\\theta_{1}} \\right)J(θ1 )。实现梯度下降算法的微妙之处是，在这个表达式中，如果你要更新这个等式，你需要同时更新θ0{\\theta_{0}}θ0 和θ1{\\theta_{1}}θ1 ，我的意思是在这个等式中，我们要这样更新：\n\nθ0{\\theta_{0}}θ0 := θ0{\\theta_{0}}θ0 ，并更新θ1{\\theta_{1}}θ1 := θ1{\\theta_{1}}θ1 。\n\n实现方法是：你应该计算公式右边的部分，通过那一部分计算出θ0{\\theta_{0}}θ0 和θ1{\\theta_{1}}θ1 的值，然后同时更新θ0{\\theta_{0}}θ0 和θ1{\\theta_{1}}θ1 。\n\n在梯度下降算法中，这是正确实现同步更新的方法。我不打算解释为什么你需要同步更新，它是梯度下降中的一种常用方法。我们之后会讲到，同步更新是更自然的实现方法。当人们谈到梯度下降时，他们的意思就是同步更新。\n\n在接下来的视频中，我们要进入这个微分项的细节之中。我已经写了出来但没有真正定义，如果你已经修过微积分课程，如果你熟悉偏导数和导数，这其实就是这个微分项：\n\nα∂∂θ0J(θ0,θ1),α∂∂θ1J(θ0,θ1)\\alpha \\frac{\\partial}{\\partial \\theta_{0}} J\\left(\\theta_{0}, \\theta_{1}\\right), \\quad \\alpha \\frac{\\partial}{\\partial \\theta_{1}} J\\left(\\theta_{0}, \\theta_{1}\\right)α∂θ0 ∂ J(θ0 ,θ1 ),α∂θ1 ∂ J(θ0 ,θ1 )。\n\n如果你不熟悉微积分，不用担心，即使你之前没有看过微积分，或者没有接触过偏导数，在接下来的视频中，你会得到一切你需要知道，如何计算这个微分项的知识。\n\n下一个视频中，希望我们能够给出实现梯度下降算法的所有知识 。\n\n\n# 2.6 梯度下降的直观理解\n\n参考视频: 2 - 6 - Gradient Descent Intuition (12 min).mkv\n\n在之前的视频中，我们给出了一个数学上关于梯度下降的定义，本次视频我们更深入研究一下，更直观地感受一下这个算法是做什么的，以及梯度下降算法的更新过程有什么意义。梯度下降算法如下：\n\nθj:=θj−α∂∂θjJ(θ){\\theta_{j}}:={\\theta_{j}}-\\alpha \\frac{\\partial }{\\partial {\\theta_{j}}}J\\left(\\theta \\right)θj :=θj −α∂θj ∂ J(θ)\n\n描述：对θ\\thetaθ赋值，使得J(θ)J\\left( \\theta \\right)J(θ)按梯度下降最快方向进行，一直迭代下去，最终得到局部最小值。其中aaa是学习率（learning rate），它决定了我们沿着能让代价函数下降程度最大的方向向下迈出的步子有多大。\n\n\n\n对于这个问题，求导的目的，基本上可以说取这个红点的切线，就是这样一条红色的直线，刚好与函数相切于这一点，让我们看看这条红色直线的斜率，就是这条刚好与函数曲线相切的这条直线，这条直线的斜率正好是这个三角形的高度除以这个水平长度，现在，这条线有一个正斜率，也就是说它有正导数，因此，我得到的新的θ1{\\theta_{1}}θ1 ，θ1{\\theta_{1}}θ1 更新后等于θ1{\\theta_{1}}θ1 减去一个正数乘以α\\alphaα。\n\n这就是我梯度下降法的更新规则：θj:=θj−α∂∂θjJ(θ){\\theta_{j}}:={\\theta_{j}}-\\alpha \\frac{\\partial }{\\partial {\\theta_{j}}}J\\left( \\theta \\right)θj :=θj −α∂θj ∂ J(θ)\n\n让我们来看看如果α\\alphaα太小或α\\alphaα太大会出现什么情况：\n\n * 如果α\\alphaα太小了，即我的学习速率太小，结果就是只能这样像小宝宝一样一点点地挪动，去努力接近最低点，这样就需要很多步才能到达最低点，所以如果α\\alphaα太小的话，可能会很慢，因为它会一点点挪动，它会需要很多步才能到达全局最低点。\n * 如果α\\alphaα太大，那么梯度下降法可能会越过最低点，甚至可能无法收敛，下一次迭代又移动了一大步，越过一次，又越过一次，一次次越过最低点，直到你发现实际上离最低点越来越远，所以，如果α\\alphaα太大，它会导致无法收敛，甚至发散。\n\n现在，我还有一个问题，当我第一次学习这个地方时，我花了很长一段时间才理解这个问题，如果我们预先把θ1{\\theta_{1}}θ1 放在一个局部的最低点，你认为下一步梯度下降法会怎样工作？\n\n假设你将θ1{\\theta_{1}}θ1 初始化在局部最低点，在这儿，它已经在一个局部的最优处或局部最低点。结果是局部最优点的导数将等于零，因为它是那条切线的斜率。这意味着你已经在局部最优点，它使得θ1{\\theta_{1}}θ1 不再改变，也就是新的θ1{\\theta_{1}}θ1 等于原来的θ1{\\theta_{1}}θ1 ，因此，如果你的参数已经处于局部最低点，那么梯度下降法更新其实什么都没做，它不会改变参数的值。这也解释了为什么即使学习速率α\\alphaα保持不变时，梯度下降也可以收敛到局部最低点。\n\n我们来看一个例子，这是代价函数J(θ)J\\left( \\theta \\right)J(θ)。\n\n\n\n我想找到它的最小值，首先初始化我的梯度下降算法，在那个品红色的点初始化，如果我更新一步梯度下降，也许它会带我到这个点，因为这个点的导数是相当陡的。现在，在这个绿色的点，如果我再更新一步，你会发现我的导数，也即斜率，是没那么陡的。随着我接近最低点，我的导数越来越接近零，所以，梯度下降一步后，新的导数会变小一点点。然后我想再梯度下降一步，在这个绿点，我自然会用一个稍微跟刚才在那个品红点时比，再小一点的一步，到了新的红色点，更接近全局最低点了，因此这点的导数会比在绿点时更小。所以，我再进行一步梯度下降时，我的导数项是更小的，θ1{\\theta_{1}}θ1 更新的幅度就会更小。所以随着梯度下降法的运行，你移动的幅度会自动变得越来越小，直到最终移动幅度非常小，你会发现，已经收敛到局部极小值。\n\n回顾一下，在梯度下降法中，当我们接近局部最低点时，梯度下降法会自动采取更小的幅度，这是因为当我们接近局部最低点时，很显然在局部最低时导数等于零，所以当我们接近局部最低时，导数值会自动变得越来越小，所以梯度下降将自动采取较小的幅度，这就是梯度下降的做法。所以实际上没有必要再另外减小α\\alphaα。\n\n这就是梯度下降算法，你可以用它来最小化任何代价函数JJJ，不只是线性回归中的代价函数JJJ。\n\n在接下来的视频中，我们要用代价函数JJJ，回到它的本质，线性回归中的代价函数。也就是我们前面得出的平方误差函数，结合梯度下降法，以及平方代价函数，我们会得出第一个机器学习算法，即线性回归算法。\n\n\n# 2.7 梯度下降的线性回归\n\n参考视频: 2 - 7 - GradientDescentForLinearRegression (6 min).mkv\n\n在以前的视频中我们谈到关于梯度下降算法，梯度下降是很常用的算法，它不仅被用在线性回归上和线性回归模型、平方误差代价函数。在这段视频中，我们要将梯度下降和代价函数结合。我们将用到此算法，并将其应用于具体的拟合直线的线性回归算法里。\n\n梯度下降算法和线性回归算法比较如图：\n\n\n\n对我们之前的线性回归问题运用梯度下降法，关键在于求出代价函数的导数，即：\n\n∂∂θjJ(θ0,θ1)=∂∂θj12m∑i=1m(hθ(x(i))−y(i))2j=0 时： ∂∂θ0J(θ0,θ1)=1m∑i=1m(hθ(x(i))−y(i))j=1 时: ∂∂θ1J(θ0,θ1)=1m∑i=1m((hθ(x(i))−y(i))⋅x(i))\\begin{aligned} &\\frac{\\partial}{\\partial \\theta_{j}} J\\left(\\theta_{0}, \\theta_{1}\\right)=\\frac{\\partial}{\\partial \\theta_{j}} \\frac{1}{2 m} \\sum_{i=1}^{m}\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right)^{2} \\\\ &j=0 \\text { 时： } \\frac{\\partial}{\\partial \\theta_{0}} J\\left(\\theta_{0}, \\theta_{1}\\right)=\\frac{1}{m} \\sum_{i=1}^{m}\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right) \\\\ &j=1 \\text { 时: } \\frac{\\partial}{\\partial \\theta_{1}} J\\left(\\theta_{0}, \\theta_{1}\\right)=\\frac{1}{m} \\sum_{i=1}^{m}\\left(\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right) \\cdot x^{(i)}\\right) \\end{aligned} ∂θj ∂ J(θ0 ,θ1 )=∂θj ∂ 2m1 i=1∑m (hθ (x(i))−y(i))2j=0 时： ∂θ0 ∂ J(θ0 ,θ1 )=m1 i=1∑m (hθ (x(i))−y(i))j=1 时: ∂θ1 ∂ J(θ0 ,θ1 )=m1 i=1∑m ((hθ (x(i))−y(i))⋅x(i))\n\n则算法改写成：\n\nRepeat {\n\nθ0:=θ0−α1m∑i=1m(hθ(x(i))−y(i))θ1:=θ1−α1m∑i=1m((hθ(x(i))−y(i))⋅x(i))\\begin{aligned} &\\theta_{0}:=\\theta_{0}-\\alpha \\frac{1}{m} \\sum_{i=1}^{m}\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right) \\\\ &\\theta_{1}:=\\theta_{1}-\\alpha \\frac{1}{m} \\sum_{i=1}^{m}\\left(\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right) \\cdot x^{(i)}\\right) \\end{aligned} θ0 :=θ0 −αm1 i=1∑m (hθ (x(i))−y(i))θ1 :=θ1 −αm1 i=1∑m ((hθ (x(i))−y(i))⋅x(i))\n\n}\n\n我们刚刚使用的算法，有时也称为批量梯度下降。实际上，在机器学习中，通常不太会给算法起名字，但这个名字”批量梯度下降”，指的是在梯度下降的每一步中，我们都用到了所有的训练样本，在梯度下降中，在计算微分求导项时，我们需要进行求和运算，所以，在每一个单独的梯度下降中，我们最终都要计算这样一个东西，这个项需要对所有mmm个训练样本求和。因此，批量梯度下降法这个名字说明了我们需要考虑所有这一\"批\"训练样本，而事实上，有时也有其他类型的梯度下降法，不是这种\"批量\"型的，不考虑整个的训练集，而是每次只关注训练集中的一些小的子集。在后面的课程中，我们也将介绍这些方法。\n\n但就目前而言，应用刚刚学到的算法，你应该已经掌握了批量梯度算法，并且能把它应用到线性回归中了，这就是用于线性回归的梯度下降法。\n\n如果你之前学过线性代数，有些同学之前可能已经学过高等线性代数，你应该知道有一种计算代价函数JJJ最小值的数值解法，不需要梯度下降这种迭代算法。在后面的课程中，我们也会谈到这个方法，它可以在不需要多步梯度下降的情况下，也能解出代价函数JJJ的最小值，这是另一种称为正规方程(normal equations)的方法。实际上在数据量较大的情况下，梯度下降法比正规方程要更适用一些。\n\n现在我们已经掌握了梯度下降，我们可以在不同的环境中使用梯度下降法，我们还将在不同的机器学习问题中大量地使用它。所以，祝贺大家成功学会你的第一个机器学习算法。\n\n在下一段视频中，告诉你泛化的梯度下降算法，这将使梯度下降更加强大。\n\n\n# 2.8 接下来的内容\n\n参考视频: 2 - 8 - What_'s Next (6 min).mkv\n\n在接下来的一组视频中，我会对线性代数进行一个快速的复习回顾。如果你从来没有接触过向量和矩阵，那么这课件上所有的一切对你来说都是新知识，或者你之前对线性代数有所了解，但由于隔得久了，对其有所遗忘，那就请学习接下来的一组视频，我会快速地回顾你将用到的线性代数知识。\n\n通过它们，你可以实现和使用更强大的线性回归模型。事实上，线性代数不仅仅在线性回归中应用广泛，它其中的矩阵和向量将有助于帮助我们实现之后更多的机器学习模型，并在计算上更有效率。正是因为这些矩阵和向量提供了一种有效的方式来组织大量的数据，特别是当我们处理巨大的训练集时。\n\n如果你不熟悉线性代数，如果你觉得线性代数看上去是一个复杂、可怕的概念，特别是对于之前从未接触过它的人，不必担心，事实上，为了实现机器学习算法，我们只需要一些非常非常基础的线性代数知识。\n\n通过接下来几个视频，你可以很快地学会所有你需要了解的线性代数知识。具体来说，为了帮助你判断是否有需要学习接下来的一组视频，我会讨论什么是矩阵和向量，谈谈如何加、减 、乘矩阵和向量，讨论逆矩阵和转置矩阵的概念。\n\n如果你十分熟悉这些概念，那么你完全可以跳过这组关于线性代数的选修视频，但是如果你对这些概念仍有些许的不确定，不确定这些数字或这些矩阵的意思，那么请看一看下一组的视频，它会很快地教你一些你需要知道的线性代数的知识，便于之后编写机器学习算法和处理大量数据。\n\n\n# 线性代数回顾(Linear Algebra Review)\n\n\n# 3.1 矩阵和向量\n\n参考视频: 3 - 1 - Matrices and Vectors (9 min).mkv\n\n有一个 4×2矩阵，即4行2列，如mmm为行，nnn为列，那么m×nm×nm×n即4×2，矩阵的维数即行数×列数。\n\n矩阵元素（矩阵项）：A=[1402191137182194914371471448]A=\\left[ \\begin{matrix} 1402 & 191 \\\\ 1371 & 821 \\\\ 949 & 1437 \\\\ 147 & 1448 \\\\\\end{matrix} \\right]A=⎣⎡ 14021371949147 19182114371448 ⎦⎤\n\nAijA_{ij}Aij 指第iii行，第jjj列的元素。\n\n向量是一种特殊的矩阵，讲义中的向量一般都是列向量，如： y=[460232315178]y=\\left[ \\begin{matrix} {460} \\\\ {232} \\\\ {315} \\\\ {178} \\\\\\end{matrix} \\right]y=⎣⎡ 460232315178 ⎦⎤ ，为四维列向量（4×1）。\n\n如下图为1索引向量和0索引向量，左图为1索引向量，右图为0索引向量，一般我们用1索引向量。\n\ny=[y1y2y3y4],y=[y0y1y2y3]y=\\left[\\begin{array}{l} y_{1} \\\\ y_{2} \\\\ y_{3} \\\\ y_{4} \\end{array}\\right], \\quad y=\\left[\\begin{array}{l} y_{0} \\\\ y_{1} \\\\ y_{2} \\\\ y_{3} \\end{array}\\right] y=⎣⎡ y1 y2 y3 y4 ⎦⎤ ,y=⎣⎡ y0 y1 y2 y3 ⎦⎤\n\n\n# 3.2 加法和标量乘法\n\n参考视频: 3 - 2 - Addition and Scalar Multiplication (7 min).mkv\n\n矩阵的加法：行列数相等的可以加。例：\n\n[102531]+[40.52501]=[50.541032]\\left[\\begin{array}{ll} 1 & 0 \\\\ 2 & 5 \\\\ 3 & 1 \\end{array}\\right]+\\left[\\begin{array}{cc} 4 & 0.5 \\\\ 2 & 5 \\\\ 0 & 1 \\end{array}\\right]=\\left[\\begin{array}{cc} 5 & 0.5 \\\\ 4 & 10 \\\\ 3 & 2 \\end{array}\\right] ⎣⎡ 123 051 ⎦⎤ +⎣⎡ 420 0.551 ⎦⎤ =⎣⎡ 543 0.5102 ⎦⎤\n\n矩阵的乘法：每个元素都要乘。\n\n3×[102531]=[3061593]=[102531]×33 \\times\\left[\\begin{array}{cc} 1 & 0 \\\\ 2 & 5 \\\\ 3 & 1 \\end{array}\\right]=\\left[\\begin{array}{cc} 3 & 0 \\\\ 6 & 15 \\\\ 9 & 3 \\end{array}\\right]=\\left[\\begin{array}{cc} 1 & 0 \\\\ 2 & 5 \\\\ 3 & 1 \\end{array}\\right] \\times 3 3×⎣⎡ 123 051 ⎦⎤ =⎣⎡ 369 0153 ⎦⎤ =⎣⎡ 123 051 ⎦⎤ ×3\n\n组合算法也类似。\n\n\n# 3.3 矩阵向量乘法\n\n参考视频: 3 - 3 - Matrix Vector Multiplication (14 min).mkv\n\n矩阵和向量的乘法如图：m×nm×nm×n的矩阵乘以n×1n×1n×1的向量，得到的是m×1m×1m×1的向量\n\n\n\n\n# 3.4 矩阵乘法\n\n参考视频: 3 - 4 - Matrix Matrix Multiplication (11 min).mkv\n\n矩阵乘法：\n\nm×nm×nm×n矩阵乘以n×on×on×o矩阵，变成m×om×om×o矩阵。\n\n如果这样说不好理解的话就举一个例子来说明一下，比如说现在有两个矩阵AAA和BBB，那么它们的乘积就可以表示为图中所示的形式。\n\n\n\n\n# 3.5 矩阵乘法的性质\n\n参考视频: 3 - 5 - Matrix Multiplication Properties (9 min).mkv\n\n矩阵乘法的性质：\n\n * 矩阵的乘法不满足交换律：A×B≠B×AA×B≠B×AA×B=B×A\n * 矩阵的乘法满足结合律。即：A×(B×C)=(A×B)×CA×(B×C)=(A×B)×CA×(B×C)=(A×B)×C\n\n单位矩阵：在矩阵的乘法中，有一种矩阵起着特殊的作用，如同数的乘法中的1,我们称这种矩阵为单位矩阵．它是个方阵，一般用 III 或者 EEE 表示，本讲义都用 III 代表单位矩阵，从左上角到右下角的对角线（称为主对角线）上的元素均为1以外全都为0。如：\n\nAA−1=A−1A=IA A^{-1}=A^{-1} A=IAA−1=A−1A=I\n\n对于单位矩阵，有AI=IA=AAI=IA=AAI=IA=A\n\n\n# 3.6 逆、转置\n\n参考视频: 3 - 6 - Inverse and Transpose (11 min).mkv\n\n矩阵的逆：如矩阵AAA是一个m×mm×mm×m矩阵（方阵），如果有逆矩阵，则：AA−1=A−1A=IA A^{-1}=A^{-1} A=IAA−1=A−1A=I。我们一般在Octave或者Matlab中进行计算矩阵的逆矩阵。\n\n> 逆矩阵（inverse matrix），又称乘法反方阵、反矩阵。在线性代数中，给定一个n 阶方阵 AAA，若存在一n 阶方阵 ${B} ，使得 AB=BA=In\\mathbf{A B}=\\mathbf{B} \\mathbf{A}=\\mathbf{I}_{n}AB=BA=In , 其中 InI_nIn 为 nnn 阶单位矩阵，则称 AAA 是可逆的，且 BBB 是 AAA 的逆矩阵，记作 A−1A^{-1}A−1。【参见：逆矩阵】\n\n矩阵的转置：设AAA为m×nm×nm×n阶矩阵（即mmm行nnn列），第iii行jjj列的元素是a(i,j)a(i,j)a(i,j)，即：A=a(i,j)A=a(i,j)A=a(i,j)\n\n定义AAA的转置为这样一个n×mn×mn×m阶矩阵BBB，满足B=a(j,i)B=a(j,i)B=a(j,i)，即 b(i,j)=a(j,i)b(i,j)=a(j,i)b(i,j)=a(j,i)（BBB的第iii行第jjj列元素是AAA的第jjj行第iii列元素），记AT=BA^{T}=BAT=B。(有些书记为A'=B）\n\n直观来看，将AAA的所有元素绕着一条从第1行第1列元素出发的右下方45度的射线作镜面反转，即得到AAA的转置。\n\n例：\n\n∣abcdef∣T=∣acebdf∣\\left|\\begin{array}{ll} a & b \\\\ c & d \\\\ e & f \\end{array}\\right|^{T}=\\left|\\begin{array}{lll} a & c & e \\\\ b & d & f \\end{array}\\right| ∣∣ ace bdf ∣∣ T=∣∣ ab cd ef ∣∣\n\n矩阵的转置基本性质:\n\n(A±B)T=AT±BT(A×B)T=BT×AT(AT)T=A(KA)T=KAT(A \\pm B)^{T}=A^{T} \\pm B^{T}\\\\ (A \\times B)^{T}=B^{T} \\times A^{T}\\\\ \\left(A^{T}\\right)^{T}=A\\\\ (K A)^{T}=K A^{T} (A±B)T=AT±BT(A×B)T=BT×AT(AT)T=A(KA)T=KAT\n\nMatlab中矩阵转置：直接打一撇，x=y'。",normalizedContent:"# 引言(introduction)\n\n\n# 1.1 欢迎\n\n参考视频: 1 - 1 - welcome (7 min).mkv\n\n第一个视频主要讲了什么是机器学习，机器学习能做些什么事情。\n\n机器学习是目前信息技术中最激动人心的方向之一。在这门课中，你将学习到这门技术的前沿，并可以自己实现学习机器学习的算法。\n\n你或许每天都在不知不觉中使用了机器学习的算法。\n\n * 每次，你打开谷歌、必应搜索到你需要的内容，正是因为他们有良好的学习算法。\n * 谷歌和微软实现了学习算法来排行网页排序。\n * 你用facebook或苹果的图片分类程序他能认出你朋友的照片，这也是机器学习。\n * 每次您阅读您的电子邮件垃圾邮件筛选器，可以帮你过滤大量的垃圾邮件这也是一种学习算法。\n\n对我来说，我感到激动的原因之一是有一天做出一个和人类一样聪明的机器。实现这个想法任重而道远，许多ai研究者认为，实现这个目标最好的方法是通过让机器试着模仿人的大脑学习。我会在这门课中介绍一点这方面的内容。\n\n在这门课中，你还讲学习到关于机器学习的前沿状况。但事实上只了解算法、数学并不能解决你关心的实际的问题。所以，我们将花大量的时间做练习，从而你自己能实现每个这些算法，从而了解内部机理。\n\n那么，为什么机器学习如此受欢迎呢？原因是，机器学习不只是用于人工智能领域。\n\n我们创造智能的机器，有很多基础的知识。比如，我们可以让机器找到a与b之间的最短路径，但我们仍然不知道怎么让机器做更有趣的事情，如web搜索、照片标记、反垃圾邮件。我们发现，唯一方法是让机器自己学习怎么来解决问题。所以，机器学习已经成为计算机的一个能力。\n\n现在它涉及到各个行业和基础科学中。我从事于机器学习，但我每个星期都跟直升机飞行员、生物学家、很多计算机系统程序员交流（我在斯坦福大学的同事也是这样）。我平均每个星期会从硅谷收到两、三个电子邮件，这些联系我的人都对将学习算法应用于他们自己的问题感兴趣。这表明机器学习涉及的问题非常广泛。机器人、计算生物学、以及硅谷中大量的问题都受到机器学习的影响。\n\n这里有一些机器学习的案例。比如说：\n\n * 数据库挖掘。机器学习被用于数据挖掘的原因之一是网络和自动化技术的增长，这意味着，我们有史上最大的数据集。比如说，大量的硅谷公司正在收集web上的单击数据，也称为点击流数据，并尝试使用机器学习算法来分析数据，更好的了解用户，并为用户提供更好的服务。这在硅谷有巨大的市场。\n * 医疗记录。随着自动化的出现，我们现在有了电子医疗记录。如果我们可以把医疗记录变成医学知识，我们就可以更好地理解疾病。\n * 计算生物学。还是因为自动化技术，生物学家们收集的大量基因数据序列、dna序列和等等，机器运行算法让我们更好地了解人类基因组，大家都知道这对人类意味着什么。\n * 工程方面，在工程的所有领域，我们有越来越大、越来越大的数据集，我们试图使用学习算法，来理解这些数据。\n * 在机械应用中，有些情况不能人为直接操作。例如，我已经在无人直升机领域工作了许多年。我们不知道如何写一段程序让直升机自己飞。我们唯一能做的就是让计算机自己学习如何驾驶直升机。\n * 手写识别：现在我们能够非常便宜地把信寄到这个美国甚至全世界的原因之一就是当你写一个像这样的信封，一种学习算法已经学会如何读你信封，它可以自动选择路径，所以我们只需要花几个美分把这封信寄到数千英里外。\n * 事实上，如果你看过自然语言处理或计算机视觉，这些语言理解或图像理解都是属于ai领域。大部分的自然语言处理和大部分的计算机视觉，都应用了机器学习。\n * 学习算法还广泛用于自定制程序。每次你去亚马逊或netflix或itunes genius，它都会给出其他电影或产品或音乐的建议，这是一种学习算法。仔细想一想，他们有百万的用户；但他们没有办法为百万用户，编写百万个不同程序。软件能给这些自定制的建议的唯一方法是通过学习你的行为，来为你定制服务。\n * 最后学习算法被用来理解人类的学习和了解大脑。\n\n我们将谈论如何用这些推进我们的 ai 梦想。几个月前，一名学生给我一篇文章关于最顶尖的12个it技能。拥有了这些技能hr绝对不会拒绝你。这是稍显陈旧的文章，但在这个列表最顶部就是机器学习的技能。\n\n在斯坦福大学，招聘人员联系我，让我推荐机器学习学生毕业的人远远多于机器学习的毕业生。所以我认为需求远远没有被满足。现在学习“机器学习”非常好，在这门课中，我希望能告诉你们很多机器学习的知识。\n\n在接下来的视频中，我们将开始给更正式的定义，什么是机器学习。然后我们会开始学习机器学习的主要问题和算法。你会了解一些主要的机器学习的术语，并开始了解不同的算法，用哪种算法更合适。\n\n\n# 1.2 机器学习是什么？\n\n参考视频: 1 - 2 - what is machine learning_ (7 min).mkv\n\n机器学习是什么？在本视频中，我们会尝试着进行定义，同时让你懂得何时会使用机器学习。实际上，即使是在机器学习的专业人士中，也不存在一个被广泛认可的定义来准确定义机器学习是什么或不是什么，现在我将告诉你一些人们尝试定义的示例。\n\n第一个机器学习的定义来自于arthur samuel。他定义机器学习为，在进行特定编程的情况下，给予计算机学习能力的领域。samuel的定义可以回溯到50年代，他编写了一个西洋棋程序。这程序神奇之处在于，编程者自己并不是个下棋高手。但因为他太菜了，于是就通过编程，让西洋棋程序自己跟自己下了上万盘棋。通过观察哪种布局（棋盘位置）会赢，哪种布局会输，久而久之，这西洋棋程序明白了什么是好的布局，什么样是坏的布局。然后就牛逼大发了，程序通过学习后，玩西洋棋的水平超过了samuel。这绝对是令人注目的成果。\n\n尽管编写者自己是个菜鸟，但因为计算机有着足够的耐心，去下上万盘的棋，没有人有这耐心去下这么多盘棋。通过这些练习，计算机获得无比丰富的经验，于是渐渐成为了比samuel更厉害的西洋棋手。\n\n上述是个有点不正式的定义，也比较古老。另一个年代近一点的定义，由tom mitchell提出，来自卡内基梅隆大学，tom定义的机器学习是，一个程序被认为能从经验e中学习，解决任务t，达到性能度量值p，当且仅当，有了经验e后，经过p评判，程序在处理t时的性能有所提升。我认为经验 e 就是程序上万次的自我练习的经验,而任务 t 就是下棋。性能度量值p呢，就是它在与一些新的对手比赛时，赢得比赛的概率。\n\n本课中，我希望教你有关各种不同类型的学习算法。目前存在几种不同类型的学习算法。主要的两种类型被我们称之为监督学习和无监督学习。在接下来的几个视频中，我会给出这些术语的定义。这里简单说两句，监督学习这个想法是指，我们将教计算机如何去完成任务，而在无监督学习中，我们打算让它自己进行学习。如果对这两个术语仍一头雾水，请不要担心，在后面的两个视频中，我会具体介绍这两种学习算法。此外你将听到诸如，强化学习和推荐系统等各种术语。这些都是机器学习算法的一员，以后我们都将介绍到，但学习算法最常用两个类型就是监督学习、无监督学习。我会在接下来的两个视频中给出它们的定义。本课中，我们将花费最多的精力来讨论这两种学习算法。而另一个会花费大量时间的任务是了解应用学习算法的实用建议。\n\n我非常注重这部分内容，实际上，就这些内容而言我不知道还有哪所大学会介绍到。给你讲授学习算法就好像给你一套工具，相比于提供工具，可能更重要的，是教你如何使用这些工具。在硅谷我住的地方，当我走访不同的公司，即使是最顶尖的公司，很多时候我都看到人们试图将机器学习算法应用于某些问题。有时他们甚至已经为此花了六个月之久。但当我看着他们所忙碌的事情时，我想说，哎呀，我本来可以在六个月前就告诉他们，他们应该采取一种学习算法，稍加修改进行使用，然后成功的机会绝对会高得多。\n\n所以在本课中，我们要花很多时间来探讨，如果你真的试图开发机器学习系统，探讨如何做出最好的实践类型决策，才能决定你的方式来构建你的系统，这样做的话，当你运用学习算法时，就不太容易变成那些为寻找一个解决方案花费6个月之久的人们的中一员。他们可能已经有了大体的框架，只是没法正确的工作，于是这就浪费了六个月的时间。所以我会花很多时间来教你这些机器学习、人工智能的最佳实践以及如何让它们工作，我们该如何去做，硅谷和世界各地最优秀的人是怎样做的。我希望能帮你成为最优秀的人才，通过了解如何设计和构建机器学习和人工智能系统。\n\n这就是机器学习，这些都是我希望讲授的主题。在下一个视频里，我会定义什么是监督学习，什么是无监督学习。此外，探讨何时使用二者。\n\n\n# 1.3 监督学习\n\n参考视频: 1 - 3 - supervised learning (12 min).mkv\n\n在这段视频中，我要定义可能是最常见一种机器学习问题：那就是监督学习。我将在后面正式定义监督学习。\n\n我们用一个例子介绍什么是监督学习，把正式的定义放在后面介绍。假如说你想预测房价。\n\n前阵子，一个学生从波特兰俄勒冈州的研究所收集了一些房价的数据。你把这些数据画出来，看起来是这个样子：横轴表示房子的面积，单位是平方英尺，纵轴表示房价，单位是千美元。那基于这组数据，假如你有一个朋友，他有一套750平方英尺房子，现在他希望把房子卖掉，他想知道这房子能卖多少钱。\n\n那么关于这个问题，机器学习算法将会怎么帮助你呢？\n\n\n\n我们应用学习算法，可以在这组数据中画一条直线，或者换句话说，拟合一条直线，根据这条线我们可以推测出，这套房子可能卖，当然这不是唯一的算法。可能还有更好的，比如我们不用直线拟合这些数据，用二次方程去拟合可能效果会更好。稍后我们将讨论如何选择学习算法，如何决定用直线还是二次方程来拟合。两个方案中有一个能让你朋友的房子出售得更合理。这些都是学习算法里面很好的例子。以上就是监督学习的例子。\n\n可以看出，监督学习指的就是我们给学习算法一个数据集，这个数据集由“正确答案”组成。在房价的例子中，我们给了一系列房子的数据，我们给定数据集中每个样本的正确价格，即它们实际的售价然后运用学习算法，算出更多的正确答案。比如你朋友那个新房子的价格。用术语来讲，这叫做回归问题。我们试着推测出一个连续值的结果，即房子的价格。\n\n一般房子的价格会记到美分，所以房价实际上是一系列离散的值，但是我们通常又把房价看成实数，看成是标量，所以又把它看成一个连续的数值。\n\n回归这个词的意思是，我们在试着推测出这一系列连续值属性。\n\n我再举另外一个监督学习的例子。我和一些朋友之前研究过这个。假设说你想通过查看病历来推测乳腺癌良性与否，假如有人检测出乳腺肿瘤，恶性肿瘤有害并且十分危险，而良性的肿瘤危害就没那么大，所以人们显然会很在意这个问题。\n\n\n\n让我们来看一组数据：这个数据集中，横轴表示肿瘤的大小，纵轴上，我标出1和0表示是或者不是恶性肿瘤。我们之前见过的肿瘤，如果是恶性则记为1，不是恶性，或者说良性记为0。\n\n我有5个良性肿瘤样本，在1的位置有5个恶性肿瘤样本。现在我们有一个朋友很不幸检查出乳腺肿瘤。假设说她的肿瘤大概这么大，那么机器学习的问题就在于，你能否估算出肿瘤是恶性的或是良性的概率。用术语来讲，这是一个分类问题。\n\n分类指的是，我们试着推测出离散的输出值：0或1良性或恶性，而事实上在分类问题中，输出可能不止两个值。比如说可能有三种乳腺癌，所以你希望预测离散输出0、1、2、3。0 代表良性，1 表示第1类乳腺癌，2表示第2类癌症，3表示第3类，但这也是分类问题。\n\n因为这几个离散的输出分别对应良性，第一类第二类或者第三类癌症，在分类问题中我们可以用另一种方式绘制这些数据点。\n\n现在我用不同的符号来表示这些数据。既然我们把肿瘤的尺寸看做区分恶性或良性的特征，那么我可以这么画，我用不同的符号来表示良性和恶性肿瘤。或者说是负样本和正样本现在我们不全部画x，良性的肿瘤改成用 o 表示，恶性的继续用 x 表示。来预测肿瘤的恶性与否。\n\n在其它一些机器学习问题中，可能会遇到不止一种特征。举个例子，我们不仅知道肿瘤的尺寸，还知道对应患者的年龄。在其他机器学习问题中，我们通常有更多的特征，我朋友研究这个问题时，通常采用这些特征，比如肿块密度，肿瘤细胞尺寸的一致性和形状的一致性等等，还有一些其他的特征。这就是我们即将学到最有趣的学习算法之一。\n\n那种算法不仅能处理2种3种或5种特征，即使有无限多种特征都可以处理。\n\n\n\n上图中，我列举了总共5种不同的特征，坐标轴上的两种和右边的3种，但是在一些学习问题中，你希望不只用3种或5种特征。相反，你想用无限多种特征，好让你的算法可以利用大量的特征，或者说线索来做推测。那你怎么处理无限多个特征，甚至怎么存储这些特征都存在问题，你电脑的内存肯定不够用。我们以后会讲一个算法，叫支持向量机，里面有一个巧妙的数学技巧，能让计算机处理无限多个特征。想象一下，我没有写下这两种和右边的三种特征，而是在一个无限长的列表里面，一直写一直写不停的写，写下无限多个特征，事实上，我们能用算法来处理它们。\n\n现在来回顾一下，这节课我们介绍了监督学习。其基本思想是，我们数据集中的每个样本都有相应的“正确答案”。再根据这些样本作出预测，就像房子和肿瘤的例子中做的那样。我们还介绍了回归问题，即通过回归来推出一个连续的输出，之后我们介绍了分类问题，其目标是推出一组离散的结果。\n\n现在来个小测验：假设你经营着一家公司，你想开发学习算法来处理这两个问题：\n\n * 你有一大批同样的货物，想象一下，你有上千件一模一样的货物等待出售，这时你想预测接下来的三个月能卖多少件？\n * 你有许多客户，这时你想写一个软件来检验每一个用户的账户。对于每一个账户，你要判断它们是否曾经被盗过？\n\n那这两个问题，它们属于分类问题、还是回归问题?\n\n问题一是一个回归问题，因为你知道，如果我有数千件货物，我会把它看成一个实数，一个连续的值。因此卖出的物品数，也是一个连续的值。\n\n问题二是一个分类问题，因为我会把预测的值，用 0 来表示账户未被盗，用 1 表示账户曾经被盗过。所以我们根据账号是否被盗过，把它们定为0 或 1，然后用算法推测一个账号是 0 还是 1，因为只有少数的离散值，所以我把它归为分类问题。\n\n以上就是监督学习的内容。\n\n\n# 1.4 无监督学习\n\n参考视频: 1 - 4 - unsupervised learning (14 min).mkv\n\n本次视频中，我们将介绍第二种主要的机器学习问题。叫做无监督学习。\n\n\n\n上个视频中，已经介绍了监督学习。回想当时的数据集，如图表所示，这个数据集中每条数据都已经标明是阴性或阳性，即是良性或恶性肿瘤。所以，对于监督学习里的每条数据，我们已经清楚地知道，训练集对应的正确答案，是良性或恶性了。\n\n在无监督学习中，我们已知的数据。看上去有点不一样，不同于监督学习的数据的样子，即无监督学习中没有任何的标签或者是有相同的标签或者就是没标签。所以我们已知数据集，却不知如何处理，也未告知每个数据点是什么。别的都不知道，就是一个数据集。你能从数据中找到某种结构吗？针对数据集，无监督学习就能判断出数据有两个不同的聚集簇。这是一个，那是另一个，二者不同。是的，无监督学习算法可能会把这些数据分成两个不同的簇。所以叫做聚类算法。事实证明，它能被用在很多地方。\n\n聚类应用的一个例子就是在谷歌新闻中。如果你以前从来没见过它，你可以到这个url网址news.google.com去看看。谷歌新闻每天都在，收集非常多，非常多的网络的新闻内容。它再将这些新闻分组，组成有关联的新闻。所以谷歌新闻做的就是搜索非常多的新闻事件，自动地把它们聚类到一起。所以，这些新闻事件全是同一主题的，所以显示到一起。\n\n事实证明，聚类算法和无监督学习算法同样还用在很多其它的问题上。\n\n\n\n其中就有基因学的理解应用。一个dna微观数据的例子。基本思想是输入一组不同个体，对其中的每个个体，你要分析出它们是否有一个特定的基因。技术上，你要分析多少特定基因已经表达。所以这些颜色，红，绿，灰等等颜色，这些颜色展示了相应的程度，即不同的个体是否有着一个特定的基因。你能做的就是运行一个聚类算法，把个体聚类到不同的类或不同类型的组。\n\n所以这个就是无监督学习，因为我们没有提前告知算法一些信息，比如，这是第一类的人，那些是第二类的人，还有第三类，等等。我们只是说，是的，这是有一堆数据。我不知道数据里面有什么。我不知道谁是什么类型。我甚至不知道人们有哪些不同的类型，这些类型又是什么。但你能自动地找到数据中的结构吗？就是说你要自动地聚类那些个体到各个类，我没法提前知道哪些是哪些。因为我们没有给算法正确答案来回应数据集中的数据，所以这就是无监督学习。\n\n无监督学习或聚集有着大量的应用。\n\n * 它用于组织大型计算机集群。我有些朋友在大数据中心工作，那里有大型的计算机集群，他们想解决什么样的机器易于协同地工作，如果你能够让那些机器协同工作，你就能让你的数据中心工作得更高效。\n * 第二种应用就是社交网络的分析。所以已知你朋友的信息，比如你经常发email的，或是你facebook的朋友、谷歌+的朋友，我们能否自动地给出朋友的分组呢？\n * 还有市场分割。许多公司有大型的数据库，存储消费者信息。所以，你能检索这些顾客数据集，自动地发现市场分类，并自动地把顾客划分到不同的细分市场中，你才能自动并更有效地细分市场进行销售。这也是无监督学习，因为我们拥有所有的顾客数据，但我们没有提前知道是什么的细分市场，以及分别有哪些我们数据集中的顾客。我们不知道谁是在一号细分市场，谁在二号市场，等等。那我们就必须让算法从数据中发现这一切。\n * 最后，无监督学习也可用于天文数据分析，这些聚类算法给出了令人惊讶、有趣、有用的理论，解释了星系是如何诞生的。这些都是聚类的例子，聚类只是无监督学习中的一种。\n\n我现在告诉你们另一种。我先来介绍鸡尾酒宴问题。嗯，你参加过鸡尾酒宴吧？你可以想像下，有个宴会房间里满是人，全部坐着，都在聊天，这么多人同时在聊天，声音彼此重叠，因为每个人都在说话，同一时间都在说话，你几乎听不到你面前那人的声音。所以，可能在一个这样的鸡尾酒宴中的两个人，他俩同时都在说话，假设现在是在个有些小的鸡尾酒宴中。我们放两个麦克风在房间中，因为这些麦克风在两个地方，离说话人的距离不同每个麦克风记录下不同的声音，虽然是同样的两个说话人。听起来像是两份录音被叠加到一起，或是被归结到一起，产生了我们现在的这些录音。另外，这个算法还会区分出两个音频资源，这两个可以合成或合并成之前的录音。\n\n\n\n看看这个无监督学习算法，实现这个得要多么的复杂，是吧？它似乎是这样，为了构建这个应用，完成这个音频处理似乎需要你去写大量的代码或链接到一堆的合成器 java 库，处理音频的库，看上去绝对是个复杂的程序，去完成这个从音频中分离出音频。事实上，这个算法对应你刚才知道的那个问题的算法可以就用一行代码来完成。就是这里展示的代码：\n\n[w,s,v] = svd((repmat(sum(x.*x,1),size(x,1),1).*x)*x');\n\n研究人员花费了大量时间才最终实现这行代码。我不是说这个是简单的问题，但它证明了，当你使用正确的编程环境，许多学习算法是相当短的程序。所以，这也是为什么在本课中，我们打算使用octave编程环境。octave,是免费的开源软件，使用一个像octave或matlab的工具，许多学习算法变得只有几行代码就可实现。(编者注：这个是当时的情况，现在python变主流了)\n\n最后，总结下本视频内容，我有个简短的复习题给你们。\n\n我们介绍了无监督学习，它是学习策略，交给算法大量的数据，并让算法为我们从数据中找出某种结构。\n\n好的，希望你们还记得垃圾邮件问题。如果你有标记好的数据，区别好是垃圾还是非垃圾邮件，我们把这个当作监督学习问题。\n\n新闻事件分类的例子，就是那个谷歌新闻的例子，我们在本视频中有见到了，我们看到，可以用一个聚类算法来聚类这些文章到一起，所以是无监督学习。\n\n细分市场的例子，我在更早一点的时间讲过，你可以当作无监督学习问题，因为我只是拿到算法数据，再让算法去自动地发现细分市场。\n\n最后一个例子，糖尿病，这个其实就像上个视频里的乳腺癌，只是替换了好、坏肿瘤，良性、恶性肿瘤，我们改用糖尿病或没病。所以我们把这个当作监督学习，我们能够解决它，作为一个监督学习问题。\n\n好了，以上就是无监督学习的视频内容，在下一个视频中，我们将深入探究特定的学习算法，开始介绍这些算法是如何工作的，和我们还有你如何来实现它们。\n\n\n# 单变量线性回归(linear regression with one variable)\n\n\n# 2.1 模型表示\n\n参考视频: 2 - 1 - model representation (8 min).mkv\n\n我们的第一个学习算法是线性回归算法。在这段视频中，你会看到这个算法的概况，更重要的是你将会了解监督学习过程完整的流程。\n\n让我们通过一个例子来开始：这个例子是预测住房价格的，我们要使用一个数据集，数据集包含俄勒冈州波特兰市的住房价格。在这里，我要根据不同房屋尺寸所售出的价格，画出我的数据集。比方说，如果你朋友的房子是1250平方尺大小，你要告诉他们这房子能卖多少钱。那么，你可以做的一件事就是构建一个模型，也许是条直线，从这个数据模型上来看，也许你可以告诉你的朋友，他能以大约220000(美元)左右的价格卖掉这个房子。这就是监督学习算法的一个例子。\n\n\n\n它被称作监督学习是因为对于每个数据来说，我们给出了“正确的答案”，即告诉我们：根据我们的数据来说，房子实际的价格是多少，而且，更具体来说，这是一个回归问题。回归一词指的是，我们根据之前的数据预测出一个准确的输出值，对于这个例子就是价格，同时，还有另一种最常见的监督学习方式，叫做分类问题，当我们想要预测离散的输出值，例如，我们正在寻找癌症肿瘤，并想要确定肿瘤是良性的还是恶性的，这就是0/1离散输出的问题。更进一步来说，在监督学习中我们有一个数据集，这个数据集被称训练集。\n\n我将在整个课程中用小写的mmm来表示训练样本的数目。\n\n以之前的房屋交易问题为例，假使我们回归问题的训练集（training set）如下表所示：\n\n\n\n我们将要用来描述这个回归问题的标记如下:\n\n * mmm 代表训练集中实例的数量\n * xxx 代表特征/输入变量\n * yyy 代表目标变量/输出变量\n * (x,y)\\left( x,y \\right)(x,y) 代表训练集中的实例\n * (x(i),y(i))({x^{(i)}},{y^{(i)}})(x(i),y(i)) 代表第 iii 个观察实例\n * hhh 代表学习算法的解决方案或函数也称为假设（hypothesis）。\n\n\n\n这就是一个监督学习算法的工作方式，我们可以看到这里有我们的训练集里房屋价格，我们把它喂给我们的学习算法，学习算法的工作了，然后输出一个函数，通常表示为小写 hhh 表示。hhh 代表hypothesis(假设)，hhh表示一个函数，输入是房屋尺寸大小，就像你朋友想出售的房屋，因此 hhh 根据输入的 xxx值来得出 yyy 值，yyy 值对应房子的价格。因此，hhh 是一个从xxx 到 yyy 的函数映射。\n\n我将选择最初的使用规则hhh代表hypothesis，因而，要解决房价预测问题，我们实际上是要将训练集“喂”给我们的学习算法，进而学习得到一个假设hhh，然后将我们要预测的房屋的尺寸作为输入变量输入给hhh，预测出该房屋的交易价格作为输出变量输出为结果。那么，对于我们的房价预测问题，我们该如何表达 hhh？\n\n一种可能的表达方式为：hθ(x)=θ0+θ1xh_\\theta \\left( x \\right)=\\theta_{0} + \\theta_{1}xhθ (x)=θ0 +θ1 x，因为只含有一个特征/输入变量，因此这样的问题叫作单变量线性回归问题。\n\n\n# 2.2 代价函数\n\n参考视频: 2 - 2 - cost function (8 min).mkv\n\n在这段视频中我们将定义代价函数的概念，这有助于我们弄清楚如何把最有可能的直线与我们的数据相拟合。如图：\n\n\n\n在线性回归中我们有一个像这样的训练集，mmm代表了训练样本的数量，比如 m=47m = 47m=47。而我们的假设函数，也就是用来进行预测的函数，是这样的线性函数形式：hθ(x)=θ0+θ1xh_\\theta \\left( x \\right)=\\theta_{0}+\\theta_{1}xhθ (x)=θ0 +θ1 x。\n\n接下来我们会引入一些术语我们现在要做的便是为我们的模型选择合适的参数（parameters）θ0\\theta_{0}θ0 和 θ1\\theta_{1}θ1 ，在房价问题这个例子中便是直线的斜率和在yyy 轴上的截距。\n\n我们选择的参数决定了我们得到的直线相对于我们的训练集的准确程度，模型所预测的值与训练集中实际值之间的差距（下图中蓝线所指）就是建模误差（modeling error）。\n\n\n\n我们的目标便是选择出可以使得建模误差的平方和能够最小的模型参数。 即使得代价函数 j(θ0,θ1)=12m∑i=1m(hθ(x(i))−y(i))2j \\left( \\theta_0, \\theta_1 \\right) = \\frac{1}{2m}\\sum\\limits_{i=1}^m \\left( h_{\\theta}(x^{(i)})-y^{(i)} \\right)^{2}j(θ0 ,θ1 )=2m1 i=1∑m (hθ (x(i))−y(i))2最小。\n\n我们绘制一个等高线图，三个坐标分别为θ0\\theta_{0}θ0 和θ1\\theta_{1}θ1 和j(θ0,θ1)j(\\theta_{0}, \\theta_{1})j(θ0 ,θ1 )：\n\n\n\n则可以看出在三维空间中存在一个使得j(θ0,θ1)j(\\theta_{0}, \\theta_{1})j(θ0 ,θ1 )最小的点。\n\n代价函数也被称作平方误差函数，有时也被称为平方误差代价函数。我们之所以要求出误差的平方和，是因为误差平方代价函数，对于大多数问题，特别是回归问题，都是一个合理的选择。还有其他的代价函数也能很好地发挥作用，但是平方误差代价函数可能是解决回归问题最常用的手段了。\n\n在后续课程中，我们还会谈论其他的代价函数，但我们刚刚讲的选择是对于大多数线性回归问题非常合理的。\n\n也许这个函数j(θ0,θ1)j(\\theta_{0}, \\theta_{1})j(θ0 ,θ1 )有点抽象，可能你仍然不知道它的内涵，在接下来的几个视频里，我们要更进一步解释代价函数j的工作原理，并尝试更直观地解释它在计算什么，以及我们使用它的目的。\n\n\n# 2.3 代价函数的直观理解 i\n\n参考视频: 2 - 3 - cost function - intuition i (11 min).mkv\n\n在上一个视频中，我们给了代价函数一个数学上的定义。在这个视频里，让我们通过一些例子来获取一些直观的感受，看看代价函数到底是在干什么。\n\n\n\n\n\n\n# 2.4 代价函数的直观理解 ii\n\n参考视频: 2 - 4 - cost function - intuition ii (9 min).mkv\n\n这节课中，我们将更深入地学习代价函数的作用，这段视频的内容假设你已经认识等高线图，如果你对等高线图不太熟悉的话，这段视频中的某些内容你可能会听不懂，但不要紧，如果你跳过这段视频的话，也没什么关系，不听这节课对后续课程理解影响不大。\n\n\n\n代价函数的样子，等高线图，可以看出在三维空间中存在一个使得j(θ0,θ1)j(\\theta_{0}, \\theta_{1})j(θ0 ,θ1 )最小的点。\n\n\n\n通过这些图形，我希望你能更好地理解这些代价函数jjj所表达的值是什么样的，它们对应的假设是什么样的，以及什么样的假设对应的点，更接近于代价函数jjj的最小值。\n\n当然，我们真正需要的是一种有效的算法，能够自动地找出这些使代价函数jjj取最小值的参数θ0\\theta_{0}θ0 和θ1\\theta_{1}θ1 来。\n\n我们也不希望编个程序把这些点画出来，然后人工的方法来读出这些点的数值，这很明显不是一个好办法。我们会遇到更复杂、更高维度、更多参数的情况，而这些情况是很难画出图的，因此更无法将其可视化，因此我们真正需要的是编写程序来找出这些最小化代价函数的θ0\\theta_{0}θ0 和θ1\\theta_{1}θ1 的值，在下一节视频中，我们将介绍一种算法，能够自动地找出能使代价函数jjj最小化的参数θ0\\theta_{0}θ0 和θ1\\theta_{1}θ1 的值。\n\n\n# 2.5 梯度下降\n\n参考视频: 2 - 5 - gradient descent (11 min).mkv\n\n梯度下降是一个用来求函数最小值的算法，我们将使用梯度下降算法来求出代价函数j(θ0,θ1)j(\\theta_{0}, \\theta_{1})j(θ0 ,θ1 ) 的最小值。\n\n梯度下降背后的思想是：开始时我们随机选择一个参数的组合(θ0,θ1,......,θn)\\left( {\\theta_{0}},{\\theta_{1}},......,{\\theta_{n}} \\right)(θ0 ,θ1 ,......,θn )，计算代价函数，然后我们寻找下一个能让代价函数值下降最多的参数组合。我们持续这么做直到找到一个局部最小值（local minimum），因为我们并没有尝试完所有的参数组合，所以不能确定我们得到的局部最小值是否便是全局最小值（global minimum），选择不同的初始参数组合，可能会找到不同的局部最小值。\n\n\n\n想象一下你正站立在山的这一点上，站立在你想象的公园这座红色山上，在梯度下降算法中，我们要做的就是旋转360度，看看我们的周围，并要在某个方向上，用小碎步尽快下山。这些小碎步需要朝什么方向？如果我们站在山坡上的这一点，你看一下周围，你会发现最佳的下山方向，你再看看周围，然后再一次想想，我应该从什么方向迈着小碎步下山？然后你按照自己的判断又迈出一步，重复上面的步骤，直到你接近局部最低点的位置。\n\n批量梯度下降（batch gradient descent）算法的公式为：\n\n\n\n其中aaa是学习率（learning rate），它决定了我们沿着能让代价函数下降程度最大的方向向下迈出的步子有多大，在批量梯度下降中，我们每一次都同时让所有的参数减去学习速率乘以代价函数的导数。\n\n\n\n在梯度下降算法中，还有一个更微妙的问题，梯度下降中，我们要更新θ0{\\theta_{0}}θ0 和θ1{\\theta_{1}}θ1 ，当 j=0j=0j=0 和j=1j=1j=1时，会产生更新，所以你将更新j(θ0)j\\left( {\\theta_{0}} \\right)j(θ0 )和j(θ1)j\\left( {\\theta_{1}} \\right)j(θ1 )。实现梯度下降算法的微妙之处是，在这个表达式中，如果你要更新这个等式，你需要同时更新θ0{\\theta_{0}}θ0 和θ1{\\theta_{1}}θ1 ，我的意思是在这个等式中，我们要这样更新：\n\nθ0{\\theta_{0}}θ0 := θ0{\\theta_{0}}θ0 ，并更新θ1{\\theta_{1}}θ1 := θ1{\\theta_{1}}θ1 。\n\n实现方法是：你应该计算公式右边的部分，通过那一部分计算出θ0{\\theta_{0}}θ0 和θ1{\\theta_{1}}θ1 的值，然后同时更新θ0{\\theta_{0}}θ0 和θ1{\\theta_{1}}θ1 。\n\n在梯度下降算法中，这是正确实现同步更新的方法。我不打算解释为什么你需要同步更新，它是梯度下降中的一种常用方法。我们之后会讲到，同步更新是更自然的实现方法。当人们谈到梯度下降时，他们的意思就是同步更新。\n\n在接下来的视频中，我们要进入这个微分项的细节之中。我已经写了出来但没有真正定义，如果你已经修过微积分课程，如果你熟悉偏导数和导数，这其实就是这个微分项：\n\nα∂∂θ0j(θ0,θ1),α∂∂θ1j(θ0,θ1)\\alpha \\frac{\\partial}{\\partial \\theta_{0}} j\\left(\\theta_{0}, \\theta_{1}\\right), \\quad \\alpha \\frac{\\partial}{\\partial \\theta_{1}} j\\left(\\theta_{0}, \\theta_{1}\\right)α∂θ0 ∂ j(θ0 ,θ1 ),α∂θ1 ∂ j(θ0 ,θ1 )。\n\n如果你不熟悉微积分，不用担心，即使你之前没有看过微积分，或者没有接触过偏导数，在接下来的视频中，你会得到一切你需要知道，如何计算这个微分项的知识。\n\n下一个视频中，希望我们能够给出实现梯度下降算法的所有知识 。\n\n\n# 2.6 梯度下降的直观理解\n\n参考视频: 2 - 6 - gradient descent intuition (12 min).mkv\n\n在之前的视频中，我们给出了一个数学上关于梯度下降的定义，本次视频我们更深入研究一下，更直观地感受一下这个算法是做什么的，以及梯度下降算法的更新过程有什么意义。梯度下降算法如下：\n\nθj:=θj−α∂∂θjj(θ){\\theta_{j}}:={\\theta_{j}}-\\alpha \\frac{\\partial }{\\partial {\\theta_{j}}}j\\left(\\theta \\right)θj :=θj −α∂θj ∂ j(θ)\n\n描述：对θ\\thetaθ赋值，使得j(θ)j\\left( \\theta \\right)j(θ)按梯度下降最快方向进行，一直迭代下去，最终得到局部最小值。其中aaa是学习率（learning rate），它决定了我们沿着能让代价函数下降程度最大的方向向下迈出的步子有多大。\n\n\n\n对于这个问题，求导的目的，基本上可以说取这个红点的切线，就是这样一条红色的直线，刚好与函数相切于这一点，让我们看看这条红色直线的斜率，就是这条刚好与函数曲线相切的这条直线，这条直线的斜率正好是这个三角形的高度除以这个水平长度，现在，这条线有一个正斜率，也就是说它有正导数，因此，我得到的新的θ1{\\theta_{1}}θ1 ，θ1{\\theta_{1}}θ1 更新后等于θ1{\\theta_{1}}θ1 减去一个正数乘以α\\alphaα。\n\n这就是我梯度下降法的更新规则：θj:=θj−α∂∂θjj(θ){\\theta_{j}}:={\\theta_{j}}-\\alpha \\frac{\\partial }{\\partial {\\theta_{j}}}j\\left( \\theta \\right)θj :=θj −α∂θj ∂ j(θ)\n\n让我们来看看如果α\\alphaα太小或α\\alphaα太大会出现什么情况：\n\n * 如果α\\alphaα太小了，即我的学习速率太小，结果就是只能这样像小宝宝一样一点点地挪动，去努力接近最低点，这样就需要很多步才能到达最低点，所以如果α\\alphaα太小的话，可能会很慢，因为它会一点点挪动，它会需要很多步才能到达全局最低点。\n * 如果α\\alphaα太大，那么梯度下降法可能会越过最低点，甚至可能无法收敛，下一次迭代又移动了一大步，越过一次，又越过一次，一次次越过最低点，直到你发现实际上离最低点越来越远，所以，如果α\\alphaα太大，它会导致无法收敛，甚至发散。\n\n现在，我还有一个问题，当我第一次学习这个地方时，我花了很长一段时间才理解这个问题，如果我们预先把θ1{\\theta_{1}}θ1 放在一个局部的最低点，你认为下一步梯度下降法会怎样工作？\n\n假设你将θ1{\\theta_{1}}θ1 初始化在局部最低点，在这儿，它已经在一个局部的最优处或局部最低点。结果是局部最优点的导数将等于零，因为它是那条切线的斜率。这意味着你已经在局部最优点，它使得θ1{\\theta_{1}}θ1 不再改变，也就是新的θ1{\\theta_{1}}θ1 等于原来的θ1{\\theta_{1}}θ1 ，因此，如果你的参数已经处于局部最低点，那么梯度下降法更新其实什么都没做，它不会改变参数的值。这也解释了为什么即使学习速率α\\alphaα保持不变时，梯度下降也可以收敛到局部最低点。\n\n我们来看一个例子，这是代价函数j(θ)j\\left( \\theta \\right)j(θ)。\n\n\n\n我想找到它的最小值，首先初始化我的梯度下降算法，在那个品红色的点初始化，如果我更新一步梯度下降，也许它会带我到这个点，因为这个点的导数是相当陡的。现在，在这个绿色的点，如果我再更新一步，你会发现我的导数，也即斜率，是没那么陡的。随着我接近最低点，我的导数越来越接近零，所以，梯度下降一步后，新的导数会变小一点点。然后我想再梯度下降一步，在这个绿点，我自然会用一个稍微跟刚才在那个品红点时比，再小一点的一步，到了新的红色点，更接近全局最低点了，因此这点的导数会比在绿点时更小。所以，我再进行一步梯度下降时，我的导数项是更小的，θ1{\\theta_{1}}θ1 更新的幅度就会更小。所以随着梯度下降法的运行，你移动的幅度会自动变得越来越小，直到最终移动幅度非常小，你会发现，已经收敛到局部极小值。\n\n回顾一下，在梯度下降法中，当我们接近局部最低点时，梯度下降法会自动采取更小的幅度，这是因为当我们接近局部最低点时，很显然在局部最低时导数等于零，所以当我们接近局部最低时，导数值会自动变得越来越小，所以梯度下降将自动采取较小的幅度，这就是梯度下降的做法。所以实际上没有必要再另外减小α\\alphaα。\n\n这就是梯度下降算法，你可以用它来最小化任何代价函数jjj，不只是线性回归中的代价函数jjj。\n\n在接下来的视频中，我们要用代价函数jjj，回到它的本质，线性回归中的代价函数。也就是我们前面得出的平方误差函数，结合梯度下降法，以及平方代价函数，我们会得出第一个机器学习算法，即线性回归算法。\n\n\n# 2.7 梯度下降的线性回归\n\n参考视频: 2 - 7 - gradientdescentforlinearregression (6 min).mkv\n\n在以前的视频中我们谈到关于梯度下降算法，梯度下降是很常用的算法，它不仅被用在线性回归上和线性回归模型、平方误差代价函数。在这段视频中，我们要将梯度下降和代价函数结合。我们将用到此算法，并将其应用于具体的拟合直线的线性回归算法里。\n\n梯度下降算法和线性回归算法比较如图：\n\n\n\n对我们之前的线性回归问题运用梯度下降法，关键在于求出代价函数的导数，即：\n\n∂∂θjj(θ0,θ1)=∂∂θj12m∑i=1m(hθ(x(i))−y(i))2j=0 时： ∂∂θ0j(θ0,θ1)=1m∑i=1m(hθ(x(i))−y(i))j=1 时: ∂∂θ1j(θ0,θ1)=1m∑i=1m((hθ(x(i))−y(i))⋅x(i))\\begin{aligned} &\\frac{\\partial}{\\partial \\theta_{j}} j\\left(\\theta_{0}, \\theta_{1}\\right)=\\frac{\\partial}{\\partial \\theta_{j}} \\frac{1}{2 m} \\sum_{i=1}^{m}\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right)^{2} \\\\ &j=0 \\text { 时： } \\frac{\\partial}{\\partial \\theta_{0}} j\\left(\\theta_{0}, \\theta_{1}\\right)=\\frac{1}{m} \\sum_{i=1}^{m}\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right) \\\\ &j=1 \\text { 时: } \\frac{\\partial}{\\partial \\theta_{1}} j\\left(\\theta_{0}, \\theta_{1}\\right)=\\frac{1}{m} \\sum_{i=1}^{m}\\left(\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right) \\cdot x^{(i)}\\right) \\end{aligned} ∂θj ∂ j(θ0 ,θ1 )=∂θj ∂ 2m1 i=1∑m (hθ (x(i))−y(i))2j=0 时： ∂θ0 ∂ j(θ0 ,θ1 )=m1 i=1∑m (hθ (x(i))−y(i))j=1 时: ∂θ1 ∂ j(θ0 ,θ1 )=m1 i=1∑m ((hθ (x(i))−y(i))⋅x(i))\n\n则算法改写成：\n\nrepeat {\n\nθ0:=θ0−α1m∑i=1m(hθ(x(i))−y(i))θ1:=θ1−α1m∑i=1m((hθ(x(i))−y(i))⋅x(i))\\begin{aligned} &\\theta_{0}:=\\theta_{0}-\\alpha \\frac{1}{m} \\sum_{i=1}^{m}\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right) \\\\ &\\theta_{1}:=\\theta_{1}-\\alpha \\frac{1}{m} \\sum_{i=1}^{m}\\left(\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right) \\cdot x^{(i)}\\right) \\end{aligned} θ0 :=θ0 −αm1 i=1∑m (hθ (x(i))−y(i))θ1 :=θ1 −αm1 i=1∑m ((hθ (x(i))−y(i))⋅x(i))\n\n}\n\n我们刚刚使用的算法，有时也称为批量梯度下降。实际上，在机器学习中，通常不太会给算法起名字，但这个名字”批量梯度下降”，指的是在梯度下降的每一步中，我们都用到了所有的训练样本，在梯度下降中，在计算微分求导项时，我们需要进行求和运算，所以，在每一个单独的梯度下降中，我们最终都要计算这样一个东西，这个项需要对所有mmm个训练样本求和。因此，批量梯度下降法这个名字说明了我们需要考虑所有这一\"批\"训练样本，而事实上，有时也有其他类型的梯度下降法，不是这种\"批量\"型的，不考虑整个的训练集，而是每次只关注训练集中的一些小的子集。在后面的课程中，我们也将介绍这些方法。\n\n但就目前而言，应用刚刚学到的算法，你应该已经掌握了批量梯度算法，并且能把它应用到线性回归中了，这就是用于线性回归的梯度下降法。\n\n如果你之前学过线性代数，有些同学之前可能已经学过高等线性代数，你应该知道有一种计算代价函数jjj最小值的数值解法，不需要梯度下降这种迭代算法。在后面的课程中，我们也会谈到这个方法，它可以在不需要多步梯度下降的情况下，也能解出代价函数jjj的最小值，这是另一种称为正规方程(normal equations)的方法。实际上在数据量较大的情况下，梯度下降法比正规方程要更适用一些。\n\n现在我们已经掌握了梯度下降，我们可以在不同的环境中使用梯度下降法，我们还将在不同的机器学习问题中大量地使用它。所以，祝贺大家成功学会你的第一个机器学习算法。\n\n在下一段视频中，告诉你泛化的梯度下降算法，这将使梯度下降更加强大。\n\n\n# 2.8 接下来的内容\n\n参考视频: 2 - 8 - what_'s next (6 min).mkv\n\n在接下来的一组视频中，我会对线性代数进行一个快速的复习回顾。如果你从来没有接触过向量和矩阵，那么这课件上所有的一切对你来说都是新知识，或者你之前对线性代数有所了解，但由于隔得久了，对其有所遗忘，那就请学习接下来的一组视频，我会快速地回顾你将用到的线性代数知识。\n\n通过它们，你可以实现和使用更强大的线性回归模型。事实上，线性代数不仅仅在线性回归中应用广泛，它其中的矩阵和向量将有助于帮助我们实现之后更多的机器学习模型，并在计算上更有效率。正是因为这些矩阵和向量提供了一种有效的方式来组织大量的数据，特别是当我们处理巨大的训练集时。\n\n如果你不熟悉线性代数，如果你觉得线性代数看上去是一个复杂、可怕的概念，特别是对于之前从未接触过它的人，不必担心，事实上，为了实现机器学习算法，我们只需要一些非常非常基础的线性代数知识。\n\n通过接下来几个视频，你可以很快地学会所有你需要了解的线性代数知识。具体来说，为了帮助你判断是否有需要学习接下来的一组视频，我会讨论什么是矩阵和向量，谈谈如何加、减 、乘矩阵和向量，讨论逆矩阵和转置矩阵的概念。\n\n如果你十分熟悉这些概念，那么你完全可以跳过这组关于线性代数的选修视频，但是如果你对这些概念仍有些许的不确定，不确定这些数字或这些矩阵的意思，那么请看一看下一组的视频，它会很快地教你一些你需要知道的线性代数的知识，便于之后编写机器学习算法和处理大量数据。\n\n\n# 线性代数回顾(linear algebra review)\n\n\n# 3.1 矩阵和向量\n\n参考视频: 3 - 1 - matrices and vectors (9 min).mkv\n\n有一个 4×2矩阵，即4行2列，如mmm为行，nnn为列，那么m×nm×nm×n即4×2，矩阵的维数即行数×列数。\n\n矩阵元素（矩阵项）：a=[1402191137182194914371471448]a=\\left[ \\begin{matrix} 1402 & 191 \\\\ 1371 & 821 \\\\ 949 & 1437 \\\\ 147 & 1448 \\\\\\end{matrix} \\right]a=⎣⎡ 14021371949147 19182114371448 ⎦⎤\n\naija_{ij}aij 指第iii行，第jjj列的元素。\n\n向量是一种特殊的矩阵，讲义中的向量一般都是列向量，如： y=[460232315178]y=\\left[ \\begin{matrix} {460} \\\\ {232} \\\\ {315} \\\\ {178} \\\\\\end{matrix} \\right]y=⎣⎡ 460232315178 ⎦⎤ ，为四维列向量（4×1）。\n\n如下图为1索引向量和0索引向量，左图为1索引向量，右图为0索引向量，一般我们用1索引向量。\n\ny=[y1y2y3y4],y=[y0y1y2y3]y=\\left[\\begin{array}{l} y_{1} \\\\ y_{2} \\\\ y_{3} \\\\ y_{4} \\end{array}\\right], \\quad y=\\left[\\begin{array}{l} y_{0} \\\\ y_{1} \\\\ y_{2} \\\\ y_{3} \\end{array}\\right] y=⎣⎡ y1 y2 y3 y4 ⎦⎤ ,y=⎣⎡ y0 y1 y2 y3 ⎦⎤\n\n\n# 3.2 加法和标量乘法\n\n参考视频: 3 - 2 - addition and scalar multiplication (7 min).mkv\n\n矩阵的加法：行列数相等的可以加。例：\n\n[102531]+[40.52501]=[50.541032]\\left[\\begin{array}{ll} 1 & 0 \\\\ 2 & 5 \\\\ 3 & 1 \\end{array}\\right]+\\left[\\begin{array}{cc} 4 & 0.5 \\\\ 2 & 5 \\\\ 0 & 1 \\end{array}\\right]=\\left[\\begin{array}{cc} 5 & 0.5 \\\\ 4 & 10 \\\\ 3 & 2 \\end{array}\\right] ⎣⎡ 123 051 ⎦⎤ +⎣⎡ 420 0.551 ⎦⎤ =⎣⎡ 543 0.5102 ⎦⎤\n\n矩阵的乘法：每个元素都要乘。\n\n3×[102531]=[3061593]=[102531]×33 \\times\\left[\\begin{array}{cc} 1 & 0 \\\\ 2 & 5 \\\\ 3 & 1 \\end{array}\\right]=\\left[\\begin{array}{cc} 3 & 0 \\\\ 6 & 15 \\\\ 9 & 3 \\end{array}\\right]=\\left[\\begin{array}{cc} 1 & 0 \\\\ 2 & 5 \\\\ 3 & 1 \\end{array}\\right] \\times 3 3×⎣⎡ 123 051 ⎦⎤ =⎣⎡ 369 0153 ⎦⎤ =⎣⎡ 123 051 ⎦⎤ ×3\n\n组合算法也类似。\n\n\n# 3.3 矩阵向量乘法\n\n参考视频: 3 - 3 - matrix vector multiplication (14 min).mkv\n\n矩阵和向量的乘法如图：m×nm×nm×n的矩阵乘以n×1n×1n×1的向量，得到的是m×1m×1m×1的向量\n\n\n\n\n# 3.4 矩阵乘法\n\n参考视频: 3 - 4 - matrix matrix multiplication (11 min).mkv\n\n矩阵乘法：\n\nm×nm×nm×n矩阵乘以n×on×on×o矩阵，变成m×om×om×o矩阵。\n\n如果这样说不好理解的话就举一个例子来说明一下，比如说现在有两个矩阵aaa和bbb，那么它们的乘积就可以表示为图中所示的形式。\n\n\n\n\n# 3.5 矩阵乘法的性质\n\n参考视频: 3 - 5 - matrix multiplication properties (9 min).mkv\n\n矩阵乘法的性质：\n\n * 矩阵的乘法不满足交换律：a×b=b×aa×b=b×aa×b=b×a\n * 矩阵的乘法满足结合律。即：a×(b×c)=(a×b)×ca×(b×c)=(a×b)×ca×(b×c)=(a×b)×c\n\n单位矩阵：在矩阵的乘法中，有一种矩阵起着特殊的作用，如同数的乘法中的1,我们称这种矩阵为单位矩阵．它是个方阵，一般用 iii 或者 eee 表示，本讲义都用 iii 代表单位矩阵，从左上角到右下角的对角线（称为主对角线）上的元素均为1以外全都为0。如：\n\naa−1=a−1a=ia a^{-1}=a^{-1} a=iaa−1=a−1a=i\n\n对于单位矩阵，有ai=ia=aai=ia=aai=ia=a\n\n\n# 3.6 逆、转置\n\n参考视频: 3 - 6 - inverse and transpose (11 min).mkv\n\n矩阵的逆：如矩阵aaa是一个m×mm×mm×m矩阵（方阵），如果有逆矩阵，则：aa−1=a−1a=ia a^{-1}=a^{-1} a=iaa−1=a−1a=i。我们一般在octave或者matlab中进行计算矩阵的逆矩阵。\n\n> 逆矩阵（inverse matrix），又称乘法反方阵、反矩阵。在线性代数中，给定一个n 阶方阵 aaa，若存在一n 阶方阵 ${b} ，使得 ab=ba=in\\mathbf{a b}=\\mathbf{b} \\mathbf{a}=\\mathbf{i}_{n}ab=ba=in , 其中 ini_nin 为 nnn 阶单位矩阵，则称 aaa 是可逆的，且 bbb 是 aaa 的逆矩阵，记作 a−1a^{-1}a−1。【参见：逆矩阵】\n\n矩阵的转置：设aaa为m×nm×nm×n阶矩阵（即mmm行nnn列），第iii行jjj列的元素是a(i,j)a(i,j)a(i,j)，即：a=a(i,j)a=a(i,j)a=a(i,j)\n\n定义aaa的转置为这样一个n×mn×mn×m阶矩阵bbb，满足b=a(j,i)b=a(j,i)b=a(j,i)，即 b(i,j)=a(j,i)b(i,j)=a(j,i)b(i,j)=a(j,i)（bbb的第iii行第jjj列元素是aaa的第jjj行第iii列元素），记at=ba^{t}=bat=b。(有些书记为a'=b）\n\n直观来看，将aaa的所有元素绕着一条从第1行第1列元素出发的右下方45度的射线作镜面反转，即得到aaa的转置。\n\n例：\n\n∣abcdef∣t=∣acebdf∣\\left|\\begin{array}{ll} a & b \\\\ c & d \\\\ e & f \\end{array}\\right|^{t}=\\left|\\begin{array}{lll} a & c & e \\\\ b & d & f \\end{array}\\right| ∣∣ ace bdf ∣∣ t=∣∣ ab cd ef ∣∣\n\n矩阵的转置基本性质:\n\n(a±b)t=at±bt(a×b)t=bt×at(at)t=a(ka)t=kat(a \\pm b)^{t}=a^{t} \\pm b^{t}\\\\ (a \\times b)^{t}=b^{t} \\times a^{t}\\\\ \\left(a^{t}\\right)^{t}=a\\\\ (k a)^{t}=k a^{t} (a±b)t=at±bt(a×b)t=bt×at(at)t=a(ka)t=kat\n\nmatlab中矩阵转置：直接打一撇，x=y'。",charsets:{cjk:!0},lastUpdated:"2022/04/13, 23:38:30",lastUpdatedTimestamp:164986431e4},{title:"第2周",frontmatter:{title:"第2周",date:"2022-04-10T13:38:50.000Z",permalink:"/ml/course/ml-andrew/week2/",categories:["机器学习","教程","斯坦福大学2014（吴恩达）机器学习教程"],tags:[null]},regularPath:"/20.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/10.%E6%95%99%E7%A8%8B/10.%E6%96%AF%E5%9D%A6%E7%A6%8F%E5%A4%A7%E5%AD%A62014%EF%BC%88%E5%90%B4%E6%81%A9%E8%BE%BE%EF%BC%89%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/20.%E7%AC%AC2%E5%91%A8.html",relativePath:"20.机器学习/10.教程/10.斯坦福大学2014（吴恩达）机器学习教程/20.第2周.md",key:"v-7a3ee123",path:"/ml/course/ml-andrew/week2/",headers:[{level:2,title:"多变量线性回归(Linear Regression with Multiple Variables)",slug:"多变量线性回归-linear-regression-with-multiple-variables",normalizedTitle:"多变量线性回归(linear regression with multiple variables)",charIndex:2},{level:3,title:"4.1 多维特征",slug:"_4-1-多维特征",normalizedTitle:"4.1 多维特征",charIndex:57},{level:3,title:"4.2 多变量梯度下降",slug:"_4-2-多变量梯度下降",normalizedTitle:"4.2 多变量梯度下降",charIndex:1273},{level:3,title:"4.3 梯度下降法实践1-特征缩放",slug:"_4-3-梯度下降法实践1-特征缩放",normalizedTitle:"4.3 梯度下降法实践1-特征缩放",charIndex:4111},{level:3,title:"4.4 梯度下降法实践2-学习率",slug:"_4-4-梯度下降法实践2-学习率",normalizedTitle:"4.4 梯度下降法实践2-学习率",charIndex:4662},{level:3,title:"4.5 特征和多项式回归",slug:"_4-5-特征和多项式回归",normalizedTitle:"4.5 特征和多项式回归",charIndex:5096},{level:3,title:"4.6 正规方程",slug:"_4-6-正规方程",normalizedTitle:"4.6 正规方程",charIndex:6391},{level:3,title:"4.7 正规方程及不可逆性（可选）",slug:"_4-7-正规方程及不可逆性-可选",normalizedTitle:"4.7 正规方程及不可逆性（可选）",charIndex:7934}],headersStr:"多变量线性回归(Linear Regression with Multiple Variables) 4.1 多维特征 4.2 多变量梯度下降 4.3 梯度下降法实践1-特征缩放 4.4 梯度下降法实践2-学习率 4.5 特征和多项式回归 4.6 正规方程 4.7 正规方程及不可逆性（可选）",content:"# 多变量线性回归(Linear Regression with Multiple Variables)\n\n\n# 4.1 多维特征\n\n参考视频: 4 - 1 - Multiple Features (8 min).mkv\n\n目前为止，我们探讨了单变量/特征的回归模型，现在我们对房价模型增加更多的特征，例如房间数楼层等，构成一个含有多个变量的模型，模型中的特征为(x1,x2,...,xn)\\left( {x_{1}},{x_{2}},...,{x_{n}} \\right)(x1 ,x2 ,...,xn )。\n\n\n\n增添更多特征后，我们引入一系列新的注释：\n\n * nnn 代表特征的数量\n * x(i){x^{\\left( i \\right)}}x(i)代表第 iii 个训练实例，是特征矩阵中的第iii行，是一个向量（vector）。\n\n比方说，上图的\n\nx(2)=[14163240]x^{(2)}=\\left[\\begin{array}{c} 1416 \\\\ 3 \\\\ 2 \\\\ 40 \\end{array}\\right] x(2)=⎣⎡ 14163240 ⎦⎤\n\nxj(i){x}_{j}^{\\left( i \\right)}xj(i) 代表特征矩阵中第 iii 行的第 jjj 个特征，也就是第 iii 个训练实例的第 jjj 个特征。\n\n如上图的x2(2)=3,x3(2)=2x_{2}^{\\left( 2 \\right)}=3,x_{3}^{\\left( 2 \\right)}=2x2(2) =3,x3(2) =2，\n\n支持多变量的假设 hhh 表示为：hθ(x)=θ0+θ1x1+θ2x2+...+θnxnh_{\\theta}\\left( x \\right)={\\theta_{0}}+{\\theta_{1}}{x_{1}}+{\\theta_{2}}{x_{2}}+...+{\\theta_{n}}{x_{n}}hθ (x)=θ0 +θ1 x1 +θ2 x2 +...+θn xn ，\n\n这个公式中有n+1n+1n+1个参数和nnn个变量，为了使得公式能够简化一些，引入x0=1x_{0}=1x0 =1，则公式转化为：hθ(x)=θ0x0+θ1x1+θ2x2+...+θnxnh_{\\theta} \\left( x \\right)={\\theta_{0}}{x_{0}}+{\\theta_{1}}{x_{1}}+{\\theta_{2}}{x_{2}}+...+{\\theta_{n}}{x_{n}}hθ (x)=θ0 x0 +θ1 x1 +θ2 x2 +...+θn xn\n\n此时模型中的参数是一个n+1n+1n+1维的向量，任何一个训练实例也都是n+1n+1n+1维的向量，特征矩阵XXX的维度是 m∗(n+1)m*(n+1)m∗(n+1)。 因此公式可以简化为：hθ(x)=θTXh_{\\theta} \\left( x \\right)={\\theta^{T}}Xhθ (x)=θTX，其中上标TTT代表矩阵转置。\n\n\n# 4.2 多变量梯度下降\n\n参考视频: 4 - 2 - Gradient Descent for Multiple Variables (5 min).mkv\n\n与单变量线性回归类似，在多变量线性回归中，我们也构建一个代价函数，则这个代价函数是所有建模误差的平方和，即：\n\nJ(θ0,θ1…θn)=12m∑i=1m(hθ(x(i))−y(i))2J\\left(\\theta_{0}, \\theta_{1} \\ldots \\theta_{n}\\right)=\\frac{1}{2 m} \\sum_{i=1}^{m}\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right)^{2} J(θ0 ,θ1 …θn )=2m1 i=1∑m (hθ (x(i))−y(i))2\n\n，其中：hθ(x)=θTX=θ0+θ1x1+θ2x2+...+θnxnh_{\\theta}\\left( x \\right)=\\theta^{T}X={\\theta_{0}}+{\\theta_{1}}{x_{1}}+{\\theta_{2}}{x_{2}}+...+{\\theta_{n}}{x_{n}}hθ (x)=θTX=θ0 +θ1 x1 +θ2 x2 +...+θn xn ，\n\n我们的目标和单变量线性回归问题中一样，是要找出使得代价函数最小的一系列参数。 多变量线性回归的批量梯度下降算法为：\n\nRepeat {\n\nθj:=θj−α∂∂θj J(θ0,θ1,…,θn)\\theta_{\\mathrm{j}}:=\\theta_{\\mathrm{j}}-\\alpha \\frac{\\partial}{\\partial \\theta_{j}} \\mathrm{~J}\\left(\\theta_{0}, \\theta_{1}, \\ldots, \\theta_{\\mathrm{n}}\\right) θj :=θj −α∂θj ∂  J(θ0 ,θ1 ,…,θn )\n\n}\n\n即：\n\nRepeat {\n\nθj:=θj−α∂∂θj12 m∑i=1m(hθ(x(i))−y(i))2\\theta_{\\mathrm{j}}:=\\theta_{\\mathrm{j}}-\\alpha \\frac{\\partial}{\\partial \\theta_{\\mathrm{j}}} \\frac{1}{2 \\mathrm{~m}} \\sum_{\\mathrm{i}=1}^{\\mathrm{m}}\\left(\\mathrm{h}_{\\theta}\\left(\\mathrm{x}^{(\\mathrm{i})}\\right)-\\mathrm{y}^{(\\mathrm{i})}\\right)^{2} θj :=θj −α∂θj ∂ 2 m1 i=1∑m (hθ (x(i))−y(i))2\n\n}\n\n求导数后得到：\n\nRepeat {\n\nθj:=θj−α1 m∑i=1m((hθ(x(i))−y(i))⋅xj(i))\\theta_{\\mathrm{j}}:=\\theta_{\\mathrm{j}}-\\alpha \\frac{1}{\\mathrm{~m}} \\sum_{\\mathrm{i}=1}^{\\mathrm{m}}\\left(\\left(\\mathrm{h}_{\\theta}\\left(\\mathrm{x}^{(\\mathrm{i})}\\right)-\\mathrm{y}^{(\\mathrm{i})}\\right) \\cdot \\mathrm{x}_{\\mathrm{j}}^{(\\mathrm{i})}\\right) θj :=θj −α m1 i=1∑m ((hθ (x(i))−y(i))⋅xj(i) )\n\n( simultaneously update θj\\theta_{\\mathrm{j}}θj for j=0,1,…,n\\mathrm{j}=0,1, \\ldots, \\mathrm{n}j=0,1,…,n )\n\n}\n\n当n>=1n>=1n>=1时：\n\nθ0:=θ0−α1m∑i=1m(hθ(x(i))−y(i))x0(i)θ1:=θ1−a1m∑i=1m(hθ(x(i))−y(i))x1(i)θ2:=θ2−a1m∑i=1m(hθ(x(i))−y(i))x2(i)\\begin{aligned} &\\theta_{0}:=\\theta_{0}-\\alpha \\frac{1}{m} \\sum_{i=1}^{m}\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right) x_{0}^{(i)} \\\\ &\\theta_{1}:=\\theta_{1}-a \\frac{1}{m} \\sum_{i=1}^{m}\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right) x_{1}^{(i)} \\\\ &\\theta_{2}:=\\theta_{2}-a \\frac{1}{m} \\sum_{i=1}^{m}\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right) x_{2}^{(i)} \\end{aligned} θ0 :=θ0 −αm1 i=1∑m (hθ (x(i))−y(i))x0(i) θ1 :=θ1 −am1 i=1∑m (hθ (x(i))−y(i))x1(i) θ2 :=θ2 −am1 i=1∑m (hθ (x(i))−y(i))x2(i)\n\n我们开始随机选择一系列的参数值，计算所有的预测结果后，再给所有的参数一个新的值，如此循环直到收敛。\n\n代码示例：\n\n计算代价函数 J(θ)=12m∑i=1m(hθ(x(i))−y(i))2J(\\theta)=\\frac{1}{2 m} \\sum_{i=1}^{m}\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right)^{2}J(θ)=2m1 ∑i=1m (hθ (x(i))−y(i))2 其中：hθ(x)=θTX=θ0x0+θ1x1+θ2x2+…+θnxnh_{\\theta}(x)=\\theta^{T} X=\\theta_{0} x_{0}+\\theta_{1} x_{1}+\\theta_{2} x_{2}+\\ldots+\\theta_{n} x_{n}hθ (x)=θTX=θ0 x0 +θ1 x1 +θ2 x2 +…+θn xn 。\n\nPython 代码：\n\ndef computeCost(X, y, theta):\n    inner = np.power(((X * theta.T) - y), 2)\n    return np.sum(inner) / (2 * len(X))\n\n\n1\n2\n3\n\n\n\n# 4.3 梯度下降法实践1-特征缩放\n\n参考视频: 4 - 3 - Gradient Descent in Practice I - Feature Scaling (9 min).mkv\n\n在我们面对多维特征问题的时候，我们要保证这些特征都具有相近的尺度，这将帮助梯度下降算法更快地收敛。\n\n以房价问题为例，假设我们使用两个特征，房屋的尺寸和房间的数量，尺寸的值为 0-2000平方英尺，而房间数量的值则是0-5，以两个参数分别为横纵坐标，绘制代价函数的等高线图，看出图像会显得很扁，梯度下降算法需要非常多次的迭代才能收敛。\n\n\n\n解决的方法是尝试将所有特征的尺度都尽量缩放到-1到1之间。如图：\n\n\n\n最简单的方法是令：xn=xn−μnsnx_{n}=\\frac{x_{n}-\\mu_{n}}{s_{n}}xn =sn xn −μn ，其中 μn{\\mu_{n}}μn 是平均值，sn{s_{n}}sn 是标准差。\n\n> 标准差，又称标准偏差、均方差 （英语：Standard Deviation，缩写SD，符号σ），在概率统计中最常使用作为测量一组数值的离散程度之用。标准差定义：为方差开算术平方根，反映组内个体间的离散程度；标准差与期望值之比为标准离差率。【参见：标准差 - 维基百科】\n\n\n# 4.4 梯度下降法实践2-学习率\n\n参考视频: 4 - 4 - Gradient Descent in Practice II - Learning Rate (9 min).mkv\n\n梯度下降算法收敛所需要的迭代次数根据模型的不同而不同，我们不能提前预知，我们可以绘制迭代次数和代价函数值的图表来观测算法在何时趋于收敛。\n\n\n\n也有一些自动测试是否收敛的方法，例如将代价函数的变化值与某个阀值（例如0.001）进行比较，但通常看上面这样的图表更好。\n\n梯度下降算法的每次迭代受到学习率的影响，如果学习率α\\alphaα过小，则达到收敛所需的迭代次数会非常高；如果学习率α\\alphaα过大，每次迭代可能不会减小代价函数，可能会越过局部最小值导致无法收敛。\n\n通常可以考虑尝试这些学习率：\n\nα=0.01，0.03，0.1，0.3，1，3，10\\alpha=0.01，0.03，0.1，0.3，1，3，10α=0.01，0.03，0.1，0.3，1，3，10\n\n\n# 4.5 特征和多项式回归\n\n参考视频: 4 - 5 - Features and Polynomial Regression (8 min).mkv\n\n如房价预测问题：\n\n\n\nhθ(x)=θ0+θ1×frontage+θ2×depthh_{\\theta}\\left( x \\right)={\\theta_{0}}+{\\theta_{1}}\\times{frontage}+{\\theta_{2}}\\times{depth}hθ (x)=θ0 +θ1 ×frontage+θ2 ×depth\n\nx1=frontage{x_{1}}=frontagex1 =frontage（临街宽度），x2=depth{x_{2}}=depthx2 =depth（纵向深度），x=frontage∗depth=areax=frontage*depth=areax=frontage∗depth=area（面积），则：hθ(x)=θ0+θ1x{h_{\\theta}}\\left( x \\right)={\\theta_{0}}+{\\theta_{1}}xhθ (x)=θ0 +θ1 x。\n\n线性回归并不适用于所有数据，有时我们需要曲线来适应我们的数据，比如一个二次方模型：hθ(x)=θ0+θ1x1+θ2x22h_{\\theta}\\left( x \\right)={\\theta_{0}}+{\\theta_{1}}{x_{1}}+{\\theta_{2}}{x_{2}^2}hθ (x)=θ0 +θ1 x1 +θ2 x22 或者三次方模型： hθ(x)=θ0+θ1x1+θ2x22+θ3x33h_{\\theta}\\left( x \\right)={\\theta_{0}}+{\\theta_{1}}{x_{1}}+{\\theta_{2}}{x_{2}^2}+{\\theta_{3}}{x_{3}^3}hθ (x)=θ0 +θ1 x1 +θ2 x22 +θ3 x33 。\n\n\n\n通常我们需要先观察数据然后再决定准备尝试怎样的模型。 另外，我们可以令：\n\nx2=x22,x3=x33{x_2}=x_2^2,{x_3}=x_3^3x2 =x22 ,x3 =x33 ，从而将模型转化为线性回归模型。\n\n根据函数图形特性，我们还可以使：\n\nhθ(x)=θ0+θ1( size )+θ2( size )2h_{\\theta}(x)=\\theta_{0}+\\theta_{1}(\\text { size })+\\theta_{2}(\\text { size })^{2}hθ (x)=θ0 +θ1 ( size )+θ2 ( size )2\n\n或者:\n\nhθ(x)=θ0+θ1( size )+θ2 size h_{\\theta}(x)=\\theta_{0}+\\theta_{1}(\\text { size })+\\theta_{2} \\sqrt{\\text { size }}hθ (x)=θ0 +θ1 ( size )+θ2  size \n\n注：如果我们采用多项式回归模型，在运行梯度下降算法前，特征缩放非常有必要。\n\n\n# 4.6 正规方程\n\n参考视频: 4 - 6 - Normal Equation (16 min).mkv\n\n到目前为止，我们都在使用梯度下降算法，但是对于某些线性回归问题，正规方程方法是更好的解决方案。如：\n\nIntuition: If 1D (θ∈R)(\\theta \\in \\mathbb{R})(θ∈R)\n\n→J(θ)=aθ2+bθ+c\\rightarrow J(\\theta)=a \\theta^{2}+b \\theta+c →J(θ)=aθ2+bθ+c\n\n正规方程是通过求解下面的方程来找出使得代价函数最小的参数的：∂∂θjJ(θj)=0\\frac{\\partial}{\\partial \\theta_{j}} J\\left(\\theta_{j}\\right)=0∂θj ∂ J(θj )=0 。\n\n假设我们的训练集特征矩阵为 XXX（包含了 x0=1x_0=1x0 =1）并且我们的训练集结果为向量 yyy，则利用正规方程解出向量 θ=(XTX)−1XTy\\theta=\\left(X^{T} X\\right)^{-1} X^{T} yθ=(XTX)−1XTy 。 上标T代表矩阵转置，上标 -1 代表矩阵的逆。设矩阵A=XTXA={X^T}XA=XTX，则：(XTX)−1=A−1\\left(X^{T} X\\right)^{-1}=A^{-1}(XTX)−1=A−1 以下表示数据为例：\n\n\n\n即：\n\n\n\n运用正规方程方法求解参数：\n\n\n\n注：对于那些不可逆的矩阵（通常是因为特征之间不独立，如同时包含英尺为单位的尺寸和米为单位的尺寸两个特征，也有可能是特征数量大于训练集的数量），正规方程方法是不能用的。\n\n> 矩阵不可逆： 参见：那些矩阵不可逆？举例子？ - 知乎\n\n梯度下降与正规方程的比较：\n\n梯度下降               正规方程\n需要选择学习率α\\alphaα    不需要\n需要多次迭代             一次运算得出\n当特征数量nnn大时也能较好适用   需要计算(XTX)−1\\left(X^{T} X\\right)^{-1}(XTX)−1\n                   如果特征数量n较大则运算代价大，因为矩阵逆的计算时间复杂度为On3O{n^3}On3，通常来说当nnn小于 10000\n                   时还是可以接受的\n适用于各种类型的模型         只适用于线性模型，不适合逻辑回归模型等其他模型\n\n总结一下，只要特征变量的数目并不大，标准方程是一个很好的计算参数θ\\thetaθ的替代方法。具体地说，只要特征变量数量小于一万(线性模型)，我通常使用标准方程法，而不使用梯度下降法。\n\n随着我们要讲的学习算法越来越复杂，例如，当我们讲到分类算法，像逻辑回归算法，我们会看到，实际上对于那些算法，并不能使用标准方程法。对于那些更复杂的学习算法，我们将不得不仍然使用梯度下降法。\n\n因此，梯度下降法是一个非常有用的算法，可以用在有大量特征变量的线性回归问题。或者我们以后在课程中，会讲到的一些其他的算法，因为标准方程法不适合或者不能用在它们上。但对于这个特定的线性回归模型，标准方程法是一个比梯度下降法更快的替代算法。所以，根据具体的问题，以及你的特征变量的数量，这两种算法都是值得学习的。\n\n正规方程的python实现：\n\nimport numpy as np\n\n def normalEqn(X, y):    \n   theta = np.linalg.inv(X.T@X)@X.T@y #X.T@X等价于X.T.dot(X)\n   return theta\n\n\n1\n2\n3\n4\n5\n\n\n\n# 4.7 正规方程及不可逆性（可选）\n\n参考视频: 4 - 7 - Normal Equation Noninvertibility (Optional) (6 min).mkv\n\n在这段视频中谈谈正规方程 ( normal equation )，以及它们的不可逆性。\n\n由于这是一种较为深入的概念，并且总有人问我有关这方面的问题，因此，我想在这里来讨论它。由于概念较为深入，所以对这段可选材料大家放轻松吧，也许你可能会深入地探索下去，并且会觉得理解以后会非常有用。但即使你没有理解正规方程和线性回归的关系，也没有关系。\n\n我们要讲的问题如下：θ=(XTX)−1XTy\\theta=\\left(X^{T} X\\right)^{-1} X^{T} yθ=(XTX)−1XTy\n\n备注：本节最后我把推导过程写下。\n\n有些同学曾经问过我，当计算 θ\\thetaθ=inv(X'X)X'y ，那对于矩阵X′XX'XX′X的结果是不可逆的情况咋办呢?\n\n如果你懂一点线性代数的知识，你或许会知道，有些矩阵可逆，而有些矩阵不可逆。我们称那些不可逆矩阵为奇异或退化矩阵。\n\n问题的重点在于X′XX'XX′X的不可逆的问题很少发生，在Octave里，如果你用它来实现θ\\thetaθ的计算，你将会得到一个正常的解。在Octave里，有两个函数可以求解矩阵的逆，一个被称为pinv()，另一个是inv()，这两者之间的差异是些许计算过程上的，一个是所谓的伪逆，另一个被称为逆。使用pinv() 函数可以展现数学上的过程，这将计算出θ\\thetaθ的值，即便矩阵X′XX'XX′X是不可逆的。\n\n在pinv() 和 inv() 之间，又有哪些具体区别呢 ?\n\n实际上，你可以用这样的一个线性方程，来展示那两个相关联的特征值，矩阵X′XX'XX′X将是不可逆的。\n\n第二个原因是，在你想用大量的特征值，尝试实践你的学习算法的时候，可能会导致矩阵X′XX'XX′X的结果是不可逆的。 具体地说，在mmm小于或等于n的时候，例如，有mmm等于10个的训练样本也有nnn等于100的特征数量。要找到适合的(n+1)(n +1)(n+1) 维参数矢量θ\\thetaθ，这将会变成一个101维的矢量，尝试从10个训练样本中找到满足101个参数的值，这工作可能会让你花上一阵子时间，但这并不总是一个好主意。因为，正如我们所看到你只有10个样本，以适应这100或101个参数，数据还是有些少。\n\n稍后我们将看到，如何使用小数据样本以得到这100或101个参数，通常，我们会使用一种叫做正则化的线性代数方法，通过删除某些特征或者是使用某些技术，来解决当mmm比nnn小的时候的问题。即使你有一个相对较小的训练集，也可使用很多的特征来找到很多合适的参数。 总之当你发现的矩阵X′XX'XX′X的结果是奇异矩阵，或者找到的其它矩阵是不可逆的，我会建议你这么做。\n\n首先，看特征值里是否有一些多余的特征，像这些x1{x_{1}}x1 和x2{x_{2}}x2 是线性相关的，互为线性函数。同时，当有一些多余的特征时，可以删除这两个重复特征里的其中一个，无须两个特征同时保留，将解决不可逆性的问题。因此，首先应该通过观察所有特征检查是否有多余的特征，如果有多余的就删除掉，直到他们不再是多余的为止，如果特征数量实在太多，我会删除些 用较少的特征来反映尽可能多内容，否则我会考虑使用正规化方法。 如果矩阵X′XX'XX′X是不可逆的，（通常来说，不会出现这种情况），如果在Octave里，可以用伪逆函数pinv() 来实现。这种使用不同的线性代数库的方法被称为伪逆。即使X′XX'XX′X的结果是不可逆的，但算法执行的流程是正确的。总之，出现不可逆矩阵的情况极少发生，所以在大多数实现线性回归中，出现不可逆的问题不应该过多的关注XTX{X^{T}}XXTX是不可逆的。",normalizedContent:"# 多变量线性回归(linear regression with multiple variables)\n\n\n# 4.1 多维特征\n\n参考视频: 4 - 1 - multiple features (8 min).mkv\n\n目前为止，我们探讨了单变量/特征的回归模型，现在我们对房价模型增加更多的特征，例如房间数楼层等，构成一个含有多个变量的模型，模型中的特征为(x1,x2,...,xn)\\left( {x_{1}},{x_{2}},...,{x_{n}} \\right)(x1 ,x2 ,...,xn )。\n\n\n\n增添更多特征后，我们引入一系列新的注释：\n\n * nnn 代表特征的数量\n * x(i){x^{\\left( i \\right)}}x(i)代表第 iii 个训练实例，是特征矩阵中的第iii行，是一个向量（vector）。\n\n比方说，上图的\n\nx(2)=[14163240]x^{(2)}=\\left[\\begin{array}{c} 1416 \\\\ 3 \\\\ 2 \\\\ 40 \\end{array}\\right] x(2)=⎣⎡ 14163240 ⎦⎤\n\nxj(i){x}_{j}^{\\left( i \\right)}xj(i) 代表特征矩阵中第 iii 行的第 jjj 个特征，也就是第 iii 个训练实例的第 jjj 个特征。\n\n如上图的x2(2)=3,x3(2)=2x_{2}^{\\left( 2 \\right)}=3,x_{3}^{\\left( 2 \\right)}=2x2(2) =3,x3(2) =2，\n\n支持多变量的假设 hhh 表示为：hθ(x)=θ0+θ1x1+θ2x2+...+θnxnh_{\\theta}\\left( x \\right)={\\theta_{0}}+{\\theta_{1}}{x_{1}}+{\\theta_{2}}{x_{2}}+...+{\\theta_{n}}{x_{n}}hθ (x)=θ0 +θ1 x1 +θ2 x2 +...+θn xn ，\n\n这个公式中有n+1n+1n+1个参数和nnn个变量，为了使得公式能够简化一些，引入x0=1x_{0}=1x0 =1，则公式转化为：hθ(x)=θ0x0+θ1x1+θ2x2+...+θnxnh_{\\theta} \\left( x \\right)={\\theta_{0}}{x_{0}}+{\\theta_{1}}{x_{1}}+{\\theta_{2}}{x_{2}}+...+{\\theta_{n}}{x_{n}}hθ (x)=θ0 x0 +θ1 x1 +θ2 x2 +...+θn xn\n\n此时模型中的参数是一个n+1n+1n+1维的向量，任何一个训练实例也都是n+1n+1n+1维的向量，特征矩阵xxx的维度是 m∗(n+1)m*(n+1)m∗(n+1)。 因此公式可以简化为：hθ(x)=θtxh_{\\theta} \\left( x \\right)={\\theta^{t}}xhθ (x)=θtx，其中上标ttt代表矩阵转置。\n\n\n# 4.2 多变量梯度下降\n\n参考视频: 4 - 2 - gradient descent for multiple variables (5 min).mkv\n\n与单变量线性回归类似，在多变量线性回归中，我们也构建一个代价函数，则这个代价函数是所有建模误差的平方和，即：\n\nj(θ0,θ1…θn)=12m∑i=1m(hθ(x(i))−y(i))2j\\left(\\theta_{0}, \\theta_{1} \\ldots \\theta_{n}\\right)=\\frac{1}{2 m} \\sum_{i=1}^{m}\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right)^{2} j(θ0 ,θ1 …θn )=2m1 i=1∑m (hθ (x(i))−y(i))2\n\n，其中：hθ(x)=θtx=θ0+θ1x1+θ2x2+...+θnxnh_{\\theta}\\left( x \\right)=\\theta^{t}x={\\theta_{0}}+{\\theta_{1}}{x_{1}}+{\\theta_{2}}{x_{2}}+...+{\\theta_{n}}{x_{n}}hθ (x)=θtx=θ0 +θ1 x1 +θ2 x2 +...+θn xn ，\n\n我们的目标和单变量线性回归问题中一样，是要找出使得代价函数最小的一系列参数。 多变量线性回归的批量梯度下降算法为：\n\nrepeat {\n\nθj:=θj−α∂∂θj j(θ0,θ1,…,θn)\\theta_{\\mathrm{j}}:=\\theta_{\\mathrm{j}}-\\alpha \\frac{\\partial}{\\partial \\theta_{j}} \\mathrm{~j}\\left(\\theta_{0}, \\theta_{1}, \\ldots, \\theta_{\\mathrm{n}}\\right) θj :=θj −α∂θj ∂  j(θ0 ,θ1 ,…,θn )\n\n}\n\n即：\n\nrepeat {\n\nθj:=θj−α∂∂θj12 m∑i=1m(hθ(x(i))−y(i))2\\theta_{\\mathrm{j}}:=\\theta_{\\mathrm{j}}-\\alpha \\frac{\\partial}{\\partial \\theta_{\\mathrm{j}}} \\frac{1}{2 \\mathrm{~m}} \\sum_{\\mathrm{i}=1}^{\\mathrm{m}}\\left(\\mathrm{h}_{\\theta}\\left(\\mathrm{x}^{(\\mathrm{i})}\\right)-\\mathrm{y}^{(\\mathrm{i})}\\right)^{2} θj :=θj −α∂θj ∂ 2 m1 i=1∑m (hθ (x(i))−y(i))2\n\n}\n\n求导数后得到：\n\nrepeat {\n\nθj:=θj−α1 m∑i=1m((hθ(x(i))−y(i))⋅xj(i))\\theta_{\\mathrm{j}}:=\\theta_{\\mathrm{j}}-\\alpha \\frac{1}{\\mathrm{~m}} \\sum_{\\mathrm{i}=1}^{\\mathrm{m}}\\left(\\left(\\mathrm{h}_{\\theta}\\left(\\mathrm{x}^{(\\mathrm{i})}\\right)-\\mathrm{y}^{(\\mathrm{i})}\\right) \\cdot \\mathrm{x}_{\\mathrm{j}}^{(\\mathrm{i})}\\right) θj :=θj −α m1 i=1∑m ((hθ (x(i))−y(i))⋅xj(i) )\n\n( simultaneously update θj\\theta_{\\mathrm{j}}θj for j=0,1,…,n\\mathrm{j}=0,1, \\ldots, \\mathrm{n}j=0,1,…,n )\n\n}\n\n当n>=1n>=1n>=1时：\n\nθ0:=θ0−α1m∑i=1m(hθ(x(i))−y(i))x0(i)θ1:=θ1−a1m∑i=1m(hθ(x(i))−y(i))x1(i)θ2:=θ2−a1m∑i=1m(hθ(x(i))−y(i))x2(i)\\begin{aligned} &\\theta_{0}:=\\theta_{0}-\\alpha \\frac{1}{m} \\sum_{i=1}^{m}\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right) x_{0}^{(i)} \\\\ &\\theta_{1}:=\\theta_{1}-a \\frac{1}{m} \\sum_{i=1}^{m}\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right) x_{1}^{(i)} \\\\ &\\theta_{2}:=\\theta_{2}-a \\frac{1}{m} \\sum_{i=1}^{m}\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right) x_{2}^{(i)} \\end{aligned} θ0 :=θ0 −αm1 i=1∑m (hθ (x(i))−y(i))x0(i) θ1 :=θ1 −am1 i=1∑m (hθ (x(i))−y(i))x1(i) θ2 :=θ2 −am1 i=1∑m (hθ (x(i))−y(i))x2(i)\n\n我们开始随机选择一系列的参数值，计算所有的预测结果后，再给所有的参数一个新的值，如此循环直到收敛。\n\n代码示例：\n\n计算代价函数 j(θ)=12m∑i=1m(hθ(x(i))−y(i))2j(\\theta)=\\frac{1}{2 m} \\sum_{i=1}^{m}\\left(h_{\\theta}\\left(x^{(i)}\\right)-y^{(i)}\\right)^{2}j(θ)=2m1 ∑i=1m (hθ (x(i))−y(i))2 其中：hθ(x)=θtx=θ0x0+θ1x1+θ2x2+…+θnxnh_{\\theta}(x)=\\theta^{t} x=\\theta_{0} x_{0}+\\theta_{1} x_{1}+\\theta_{2} x_{2}+\\ldots+\\theta_{n} x_{n}hθ (x)=θtx=θ0 x0 +θ1 x1 +θ2 x2 +…+θn xn 。\n\npython 代码：\n\ndef computecost(x, y, theta):\n    inner = np.power(((x * theta.t) - y), 2)\n    return np.sum(inner) / (2 * len(x))\n\n\n1\n2\n3\n\n\n\n# 4.3 梯度下降法实践1-特征缩放\n\n参考视频: 4 - 3 - gradient descent in practice i - feature scaling (9 min).mkv\n\n在我们面对多维特征问题的时候，我们要保证这些特征都具有相近的尺度，这将帮助梯度下降算法更快地收敛。\n\n以房价问题为例，假设我们使用两个特征，房屋的尺寸和房间的数量，尺寸的值为 0-2000平方英尺，而房间数量的值则是0-5，以两个参数分别为横纵坐标，绘制代价函数的等高线图，看出图像会显得很扁，梯度下降算法需要非常多次的迭代才能收敛。\n\n\n\n解决的方法是尝试将所有特征的尺度都尽量缩放到-1到1之间。如图：\n\n\n\n最简单的方法是令：xn=xn−μnsnx_{n}=\\frac{x_{n}-\\mu_{n}}{s_{n}}xn =sn xn −μn ，其中 μn{\\mu_{n}}μn 是平均值，sn{s_{n}}sn 是标准差。\n\n> 标准差，又称标准偏差、均方差 （英语：standard deviation，缩写sd，符号σ），在概率统计中最常使用作为测量一组数值的离散程度之用。标准差定义：为方差开算术平方根，反映组内个体间的离散程度；标准差与期望值之比为标准离差率。【参见：标准差 - 维基百科】\n\n\n# 4.4 梯度下降法实践2-学习率\n\n参考视频: 4 - 4 - gradient descent in practice ii - learning rate (9 min).mkv\n\n梯度下降算法收敛所需要的迭代次数根据模型的不同而不同，我们不能提前预知，我们可以绘制迭代次数和代价函数值的图表来观测算法在何时趋于收敛。\n\n\n\n也有一些自动测试是否收敛的方法，例如将代价函数的变化值与某个阀值（例如0.001）进行比较，但通常看上面这样的图表更好。\n\n梯度下降算法的每次迭代受到学习率的影响，如果学习率α\\alphaα过小，则达到收敛所需的迭代次数会非常高；如果学习率α\\alphaα过大，每次迭代可能不会减小代价函数，可能会越过局部最小值导致无法收敛。\n\n通常可以考虑尝试这些学习率：\n\nα=0.01，0.03，0.1，0.3，1，3，10\\alpha=0.01，0.03，0.1，0.3，1，3，10α=0.01，0.03，0.1，0.3，1，3，10\n\n\n# 4.5 特征和多项式回归\n\n参考视频: 4 - 5 - features and polynomial regression (8 min).mkv\n\n如房价预测问题：\n\n\n\nhθ(x)=θ0+θ1×frontage+θ2×depthh_{\\theta}\\left( x \\right)={\\theta_{0}}+{\\theta_{1}}\\times{frontage}+{\\theta_{2}}\\times{depth}hθ (x)=θ0 +θ1 ×frontage+θ2 ×depth\n\nx1=frontage{x_{1}}=frontagex1 =frontage（临街宽度），x2=depth{x_{2}}=depthx2 =depth（纵向深度），x=frontage∗depth=areax=frontage*depth=areax=frontage∗depth=area（面积），则：hθ(x)=θ0+θ1x{h_{\\theta}}\\left( x \\right)={\\theta_{0}}+{\\theta_{1}}xhθ (x)=θ0 +θ1 x。\n\n线性回归并不适用于所有数据，有时我们需要曲线来适应我们的数据，比如一个二次方模型：hθ(x)=θ0+θ1x1+θ2x22h_{\\theta}\\left( x \\right)={\\theta_{0}}+{\\theta_{1}}{x_{1}}+{\\theta_{2}}{x_{2}^2}hθ (x)=θ0 +θ1 x1 +θ2 x22 或者三次方模型： hθ(x)=θ0+θ1x1+θ2x22+θ3x33h_{\\theta}\\left( x \\right)={\\theta_{0}}+{\\theta_{1}}{x_{1}}+{\\theta_{2}}{x_{2}^2}+{\\theta_{3}}{x_{3}^3}hθ (x)=θ0 +θ1 x1 +θ2 x22 +θ3 x33 。\n\n\n\n通常我们需要先观察数据然后再决定准备尝试怎样的模型。 另外，我们可以令：\n\nx2=x22,x3=x33{x_2}=x_2^2,{x_3}=x_3^3x2 =x22 ,x3 =x33 ，从而将模型转化为线性回归模型。\n\n根据函数图形特性，我们还可以使：\n\nhθ(x)=θ0+θ1( size )+θ2( size )2h_{\\theta}(x)=\\theta_{0}+\\theta_{1}(\\text { size })+\\theta_{2}(\\text { size })^{2}hθ (x)=θ0 +θ1 ( size )+θ2 ( size )2\n\n或者:\n\nhθ(x)=θ0+θ1( size )+θ2 size h_{\\theta}(x)=\\theta_{0}+\\theta_{1}(\\text { size })+\\theta_{2} \\sqrt{\\text { size }}hθ (x)=θ0 +θ1 ( size )+θ2  size \n\n注：如果我们采用多项式回归模型，在运行梯度下降算法前，特征缩放非常有必要。\n\n\n# 4.6 正规方程\n\n参考视频: 4 - 6 - normal equation (16 min).mkv\n\n到目前为止，我们都在使用梯度下降算法，但是对于某些线性回归问题，正规方程方法是更好的解决方案。如：\n\nintuition: if 1d (θ∈r)(\\theta \\in \\mathbb{r})(θ∈r)\n\n→j(θ)=aθ2+bθ+c\\rightarrow j(\\theta)=a \\theta^{2}+b \\theta+c →j(θ)=aθ2+bθ+c\n\n正规方程是通过求解下面的方程来找出使得代价函数最小的参数的：∂∂θjj(θj)=0\\frac{\\partial}{\\partial \\theta_{j}} j\\left(\\theta_{j}\\right)=0∂θj ∂ j(θj )=0 。\n\n假设我们的训练集特征矩阵为 xxx（包含了 x0=1x_0=1x0 =1）并且我们的训练集结果为向量 yyy，则利用正规方程解出向量 θ=(xtx)−1xty\\theta=\\left(x^{t} x\\right)^{-1} x^{t} yθ=(xtx)−1xty 。 上标t代表矩阵转置，上标 -1 代表矩阵的逆。设矩阵a=xtxa={x^t}xa=xtx，则：(xtx)−1=a−1\\left(x^{t} x\\right)^{-1}=a^{-1}(xtx)−1=a−1 以下表示数据为例：\n\n\n\n即：\n\n\n\n运用正规方程方法求解参数：\n\n\n\n注：对于那些不可逆的矩阵（通常是因为特征之间不独立，如同时包含英尺为单位的尺寸和米为单位的尺寸两个特征，也有可能是特征数量大于训练集的数量），正规方程方法是不能用的。\n\n> 矩阵不可逆： 参见：那些矩阵不可逆？举例子？ - 知乎\n\n梯度下降与正规方程的比较：\n\n梯度下降               正规方程\n需要选择学习率α\\alphaα    不需要\n需要多次迭代             一次运算得出\n当特征数量nnn大时也能较好适用   需要计算(xtx)−1\\left(x^{t} x\\right)^{-1}(xtx)−1\n                   如果特征数量n较大则运算代价大，因为矩阵逆的计算时间复杂度为on3o{n^3}on3，通常来说当nnn小于 10000\n                   时还是可以接受的\n适用于各种类型的模型         只适用于线性模型，不适合逻辑回归模型等其他模型\n\n总结一下，只要特征变量的数目并不大，标准方程是一个很好的计算参数θ\\thetaθ的替代方法。具体地说，只要特征变量数量小于一万(线性模型)，我通常使用标准方程法，而不使用梯度下降法。\n\n随着我们要讲的学习算法越来越复杂，例如，当我们讲到分类算法，像逻辑回归算法，我们会看到，实际上对于那些算法，并不能使用标准方程法。对于那些更复杂的学习算法，我们将不得不仍然使用梯度下降法。\n\n因此，梯度下降法是一个非常有用的算法，可以用在有大量特征变量的线性回归问题。或者我们以后在课程中，会讲到的一些其他的算法，因为标准方程法不适合或者不能用在它们上。但对于这个特定的线性回归模型，标准方程法是一个比梯度下降法更快的替代算法。所以，根据具体的问题，以及你的特征变量的数量，这两种算法都是值得学习的。\n\n正规方程的python实现：\n\nimport numpy as np\n\n def normaleqn(x, y):    \n   theta = np.linalg.inv(x.t@x)@x.t@y #x.t@x等价于x.t.dot(x)\n   return theta\n\n\n1\n2\n3\n4\n5\n\n\n\n# 4.7 正规方程及不可逆性（可选）\n\n参考视频: 4 - 7 - normal equation noninvertibility (optional) (6 min).mkv\n\n在这段视频中谈谈正规方程 ( normal equation )，以及它们的不可逆性。\n\n由于这是一种较为深入的概念，并且总有人问我有关这方面的问题，因此，我想在这里来讨论它。由于概念较为深入，所以对这段可选材料大家放轻松吧，也许你可能会深入地探索下去，并且会觉得理解以后会非常有用。但即使你没有理解正规方程和线性回归的关系，也没有关系。\n\n我们要讲的问题如下：θ=(xtx)−1xty\\theta=\\left(x^{t} x\\right)^{-1} x^{t} yθ=(xtx)−1xty\n\n备注：本节最后我把推导过程写下。\n\n有些同学曾经问过我，当计算 θ\\thetaθ=inv(x'x)x'y ，那对于矩阵x′xx'xx′x的结果是不可逆的情况咋办呢?\n\n如果你懂一点线性代数的知识，你或许会知道，有些矩阵可逆，而有些矩阵不可逆。我们称那些不可逆矩阵为奇异或退化矩阵。\n\n问题的重点在于x′xx'xx′x的不可逆的问题很少发生，在octave里，如果你用它来实现θ\\thetaθ的计算，你将会得到一个正常的解。在octave里，有两个函数可以求解矩阵的逆，一个被称为pinv()，另一个是inv()，这两者之间的差异是些许计算过程上的，一个是所谓的伪逆，另一个被称为逆。使用pinv() 函数可以展现数学上的过程，这将计算出θ\\thetaθ的值，即便矩阵x′xx'xx′x是不可逆的。\n\n在pinv() 和 inv() 之间，又有哪些具体区别呢 ?\n\n实际上，你可以用这样的一个线性方程，来展示那两个相关联的特征值，矩阵x′xx'xx′x将是不可逆的。\n\n第二个原因是，在你想用大量的特征值，尝试实践你的学习算法的时候，可能会导致矩阵x′xx'xx′x的结果是不可逆的。 具体地说，在mmm小于或等于n的时候，例如，有mmm等于10个的训练样本也有nnn等于100的特征数量。要找到适合的(n+1)(n +1)(n+1) 维参数矢量θ\\thetaθ，这将会变成一个101维的矢量，尝试从10个训练样本中找到满足101个参数的值，这工作可能会让你花上一阵子时间，但这并不总是一个好主意。因为，正如我们所看到你只有10个样本，以适应这100或101个参数，数据还是有些少。\n\n稍后我们将看到，如何使用小数据样本以得到这100或101个参数，通常，我们会使用一种叫做正则化的线性代数方法，通过删除某些特征或者是使用某些技术，来解决当mmm比nnn小的时候的问题。即使你有一个相对较小的训练集，也可使用很多的特征来找到很多合适的参数。 总之当你发现的矩阵x′xx'xx′x的结果是奇异矩阵，或者找到的其它矩阵是不可逆的，我会建议你这么做。\n\n首先，看特征值里是否有一些多余的特征，像这些x1{x_{1}}x1 和x2{x_{2}}x2 是线性相关的，互为线性函数。同时，当有一些多余的特征时，可以删除这两个重复特征里的其中一个，无须两个特征同时保留，将解决不可逆性的问题。因此，首先应该通过观察所有特征检查是否有多余的特征，如果有多余的就删除掉，直到他们不再是多余的为止，如果特征数量实在太多，我会删除些 用较少的特征来反映尽可能多内容，否则我会考虑使用正规化方法。 如果矩阵x′xx'xx′x是不可逆的，（通常来说，不会出现这种情况），如果在octave里，可以用伪逆函数pinv() 来实现。这种使用不同的线性代数库的方法被称为伪逆。即使x′xx'xx′x的结果是不可逆的，但算法执行的流程是正确的。总之，出现不可逆矩阵的情况极少发生，所以在大多数实现线性回归中，出现不可逆的问题不应该过多的关注xtx{x^{t}}xxtx是不可逆的。",charsets:{cjk:!0},lastUpdated:"2022/04/13, 23:38:30",lastUpdatedTimestamp:164986431e4},{title:"开始上手",frontmatter:{title:"开始上手",date:"2022-04-09T19:37:26.000Z",permalink:"/pages/b03d34/",categories:["深度学习"],tags:[null]},regularPath:"/30.%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/0.index.html",relativePath:"30.深度学习/0.index.md",key:"v-90f07c14",path:"/pages/b03d34/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/10, 17:36:37",lastUpdatedTimestamp:1649583397e3},{title:"开始上手",frontmatter:{title:"开始上手",date:"2022-04-09T19:37:32.000Z",permalink:"/pages/4f8104/",categories:["自然语言处理"],tags:[null]},regularPath:"/40.%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86/0.index.html",relativePath:"40.自然语言处理/0.index.md",key:"v-279933cf",path:"/pages/4f8104/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/10, 17:36:37",lastUpdatedTimestamp:1649583397e3},{title:"开始上手",frontmatter:{title:"开始上手",date:"2022-04-09T19:37:39.000Z",permalink:"/pages/0af6c9/",categories:["AI"],tags:[null]},regularPath:"/50.AI/0.index.html",relativePath:"50.AI/0.index.md",key:"v-03ef29f2",path:"/pages/0af6c9/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/10, 17:36:37",lastUpdatedTimestamp:1649583397e3},{title:"归档",frontmatter:{archivesPage:!0,title:"归档",permalink:"/archives/",article:!1},regularPath:"/@pages/archivesPage.html",relativePath:"@pages/archivesPage.md",key:"v-76e4cc32",path:"/archives/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/09, 13:03:30",lastUpdatedTimestamp:164948061e4},{title:"分类",frontmatter:{categoriesPage:!0,title:"分类",permalink:"/categories/",article:!1},regularPath:"/@pages/categoriesPage.html",relativePath:"@pages/categoriesPage.md",key:"v-c960d772",path:"/categories/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/09, 13:03:30",lastUpdatedTimestamp:164948061e4},{title:"标签",frontmatter:{tagsPage:!0,title:"标签",permalink:"/tags/",article:!1},regularPath:"/@pages/tagsPage.html",relativePath:"@pages/tagsPage.md",key:"v-6e508167",path:"/tags/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/09, 13:03:30",lastUpdatedTimestamp:164948061e4},{title:"Q&A",frontmatter:{title:"Q&A",date:"2022-01-11T14:03:46.000Z",permalink:"/qa/",categories:[null],tags:[null],sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/Q&A.html",relativePath:"Q&A.md",key:"v-ebd411f2",path:"/qa/",headers:[{level:2,title:"本站的内容顺序是如何排列的？",slug:"本站的内容顺序是如何排列的",normalizedTitle:"本站的内容顺序是如何排列的？",charIndex:2},{level:2,title:"能否自由分享本站的内容？",slug:"能否自由分享本站的内容",normalizedTitle:"能否自由分享本站的内容？",charIndex:21},{level:2,title:"本站的建站技术是什么？",slug:"本站的建站技术是什么",normalizedTitle:"本站的建站技术是什么？",charIndex:38}],headersStr:"本站的内容顺序是如何排列的？ 能否自由分享本站的内容？ 本站的建站技术是什么？",content:"# 本站的内容顺序是如何排列的？\n\n\n# 能否自由分享本站的内容？\n\n\n# 本站的建站技术是什么？",normalizedContent:"# 本站的内容顺序是如何排列的？\n\n\n# 能否自由分享本站的内容？\n\n\n# 本站的建站技术是什么？",charsets:{cjk:!0},lastUpdated:"2022/04/13, 23:38:30",lastUpdatedTimestamp:164986431e4},{title:"Home",frontmatter:{home:!0,heroText:"Fancy Machine Learnning",tagline:"机器学习笔记，追求每日进步。",actionText:"开始上手 →",actionLink:"/basic/",bannerBg:"auto",features:null},regularPath:"/",relativePath:"index.md",key:"v-1dbd0980",path:"/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/09, 18:10:55",lastUpdatedTimestamp:1649499055e3},{title:"关于",frontmatter:{title:"关于",date:"2022-01-11T14:03:46.000Z",permalink:"/about/",categories:[null],tags:[null],sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/%E5%85%B3%E4%BA%8E.html",relativePath:"关于.md",key:"v-e1201b82",path:"/about/",headers:[{level:2,title:"建站初衷",slug:"建站初衷",normalizedTitle:"建站初衷",charIndex:2},{level:2,title:"如何使用本站？",slug:"如何使用本站",normalizedTitle:"如何使用本站？",charIndex:392},{level:2,title:"版权声明",slug:"版权声明",normalizedTitle:"版权声明",charIndex:404},{level:2,title:"参与贡献",slug:"参与贡献",normalizedTitle:"参与贡献",charIndex:413},{level:2,title:"关于我",slug:"关于我",normalizedTitle:"关于我",charIndex:422},{level:2,title:"联系我",slug:"联系我",normalizedTitle:"联系我",charIndex:430},{level:2,title:"给我留言",slug:"给我留言",normalizedTitle:"给我留言",charIndex:438},{level:2,title:"最近在做什么？",slug:"最近在做什么",normalizedTitle:"最近在做什么？",charIndex:447}],headersStr:"建站初衷 如何使用本站？ 版权声明 参与贡献 关于我 联系我 给我留言 最近在做什么？",content:"# 建站初衷\n\n我因个人兴趣想要学习机器学习，按照一贯的方法，我先去网络上找到大量的相关资料进行阅读。但是各种眼花缭乱的资料让我无所适从。作为初学者，我所希望的就是一套适合我的学习路线，让我能够不紧不慢的按照路线去规划目标，完成我的学习计划。我想很多机器学习的初学者也会遇到类似的问题，所以我搭建这个网站并且开源出来，希望通过的我的积累和整理，能够逐渐摸索出一套比较好的学习方法和学习路径，能够帮大家节约手机整理资料的时间。基于这样的想法，我建立此站大概处于一下几点初衷：\n\n * 作为个人笔记的收集、整理和提炼，记录学习经历和过程。\n * 提炼出一套比较好的学习方法和学习路径，帮助更多想我这样的初学者快速上手机器学习。\n * 收集整理优质的学习资源，建立机器学习的知识库。\n * 整理出一套较好的笔记记录方法，希望更多与热爱技术的伙伴们一起积累知识、共同进步、成就梦想。\n\n\n# 如何使用本站？\n\n\n# 版权声明\n\n\n# 参与贡献\n\n\n# 关于我\n\n\n# 联系我\n\n\n# 给我留言\n\n\n# 最近在做什么？",normalizedContent:"# 建站初衷\n\n我因个人兴趣想要学习机器学习，按照一贯的方法，我先去网络上找到大量的相关资料进行阅读。但是各种眼花缭乱的资料让我无所适从。作为初学者，我所希望的就是一套适合我的学习路线，让我能够不紧不慢的按照路线去规划目标，完成我的学习计划。我想很多机器学习的初学者也会遇到类似的问题，所以我搭建这个网站并且开源出来，希望通过的我的积累和整理，能够逐渐摸索出一套比较好的学习方法和学习路径，能够帮大家节约手机整理资料的时间。基于这样的想法，我建立此站大概处于一下几点初衷：\n\n * 作为个人笔记的收集、整理和提炼，记录学习经历和过程。\n * 提炼出一套比较好的学习方法和学习路径，帮助更多想我这样的初学者快速上手机器学习。\n * 收集整理优质的学习资源，建立机器学习的知识库。\n * 整理出一套较好的笔记记录方法，希望更多与热爱技术的伙伴们一起积累知识、共同进步、成就梦想。\n\n\n# 如何使用本站？\n\n\n# 版权声明\n\n\n# 参与贡献\n\n\n# 关于我\n\n\n# 联系我\n\n\n# 给我留言\n\n\n# 最近在做什么？",charsets:{cjk:!0},lastUpdated:"2022/04/13, 23:38:30",lastUpdatedTimestamp:164986431e4},{title:"导航站",frontmatter:{title:"导航站",date:"2022-01-11T14:03:46.000Z",permalink:"/link/",categories:[null],tags:[null]},regularPath:"/%E5%AF%BC%E8%88%AA%E7%AB%99.html",relativePath:"导航站.md",key:"v-9ca9a9fa",path:"/link/",headers:[{level:2,title:"搜索引擎",slug:"搜索引擎",normalizedTitle:"搜索引擎",charIndex:2},{level:2,title:"前端开发",slug:"前端开发",normalizedTitle:"前端开发",charIndex:11}],headersStr:"搜索引擎 前端开发",content:"# 搜索引擎\n\n\n# 前端开发",normalizedContent:"# 搜索引擎\n\n\n# 前端开发",charsets:{cjk:!0},lastUpdated:"2022/04/09, 18:10:55",lastUpdatedTimestamp:1649499055e3},{title:"基础",frontmatter:{pageComponent:{name:"Catalogue",data:{key:"10.基础",imgUrl:"/img/bird.png",description:"基础的数理、编程知识，关于数学、Python..."}},title:"基础",date:"2020-03-11T21:50:53.000Z",permalink:"/basic",sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/%E7%9B%AE%E5%BD%95/10.%E5%9F%BA%E7%A1%80.html",relativePath:"目录/10.基础.md",key:"v-08b25cb1",path:"/basic/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/10, 17:36:37",lastUpdatedTimestamp:1649583397e3},{title:"机器学习",frontmatter:{pageComponent:{name:"Catalogue",data:{key:"20.机器学习",imgUrl:"/img/machine.png",description:"机器学习..."}},title:"机器学习",date:"2020-03-11T21:50:53.000Z",permalink:"/ml",sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/%E7%9B%AE%E5%BD%95/20.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0.html",relativePath:"目录/20.机器学习.md",key:"v-50f4809f",path:"/ml/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/10, 17:36:37",lastUpdatedTimestamp:1649583397e3},{title:"深度学习",frontmatter:{pageComponent:{name:"Catalogue",data:{key:"30. 深度学习",imgUrl:"/img/deep.png",description:"深度学习..."}},title:"深度学习",date:"2020-03-11T21:50:53.000Z",permalink:"/dl",sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/%E7%9B%AE%E5%BD%95/30.%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0.html",relativePath:"目录/30. 深度学习.md",key:"v-7c88d6ee",path:"/dl/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/10, 17:36:37",lastUpdatedTimestamp:1649583397e3},{title:"更多",frontmatter:{pageComponent:{name:"Catalogue",data:{key:"40. 更多",imgUrl:"/img/basket.png",description:"更多..."}},title:"更多",date:"2020-03-11T21:50:53.000Z",permalink:"/more",sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/%E7%9B%AE%E5%BD%95/40.%20%E6%9B%B4%E5%A4%9A.html",relativePath:"目录/40. 更多.md",key:"v-a1390056",path:"/more/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/10, 17:36:37",lastUpdatedTimestamp:1649583397e3}],themeConfig:{nav:[{text:"基础",link:"/basic/",items:[{text:"RoadMap",link:"/basic/roadmap/"},{text:"数理基础",items:[{text:"开始上手",link:"/basic/math/index/"}]},{text:"Python",items:[{text:"开始上手",link:"/basic/python/index/"}]}]},{text:"机器学习",link:"/ml/",items:[{text:"教程",items:[{text:"开始上手",link:"/ml/course/index/"},{text:"斯坦福大学2014（吴恩达）机器学习教程",link:"/ml/course/ml-andrew/index/"}]}]},{text:"深度学习",link:"/dl/",items:[]},{text:"更多",link:"/more/",items:[{text:"Q&A",link:"/qa/"}]},{text:"关于",link:"/about/"},{text:"索引",link:"/archives/",items:[{text:"分类",link:"/categories/"},{text:"标签",link:"/tags/"},{text:"归档",link:"/archives/"}]},{text:"博客",link:"https://www.jonsam.site"}],sidebarDepth:1,logo:"/img/logo.png",repo:"jonsam-ng/fancy-machine-learnning",searchMaxSuggestions:10,lastUpdated:"上次更新",docsDir:"docs",editLinks:!0,editLinkText:"编辑",category:!0,tag:!0,archive:!0,categoryText:"随笔",titleBadge:!0,contentBgStyle:6,updateBar:{showToArticle:!0,moreArticle:"/archives"},rightMenuBar:!0,sidebarOpen:!0,pageButton:!0,sidebar:{"/10.基础/":[["0.index.md","开始上手","/pages/index/"],["1.plan.md","Plan 计划","/ds/plan/"],["3.roadmap.md","Roadmap 路线","/ds/roadmap/"],["10.roadmap.md","RoadMap 机器学习路线","/basic/roadmap/"],{title:"数理基础",collapsable:!0,children:[["20.数理基础/0.index.md","开始上手","/basic/math/index/"]]},{title:"Python",collapsable:!0,children:[["30.Python/0.index.md","开始上手","/basic/python/index/"],{title:"IntermediatePython",collapsable:!0,children:[["30.Python/10.IntermediatePython/0.index.md","开始上手","/basic/python/intermediatePy/index/"],["30.Python/10.IntermediatePython/10.第 1 节.md","Python 进阶 —— 第一节","/basic/python/intermediatePy/part1/"],["30.Python/10.IntermediatePython/20.第 2 节.md","Python 进阶 —— 第二节","/basic/python/intermediatePy/part2/"],["30.Python/10.IntermediatePython/30.第 3 节.md","Python 进阶 —— 第三节","/basic/python/intermediatePy/part3/"],["30.Python/10.IntermediatePython/40.第 4 节.md","Python 进阶 —— 第四节","/basic/python/intermediatePy/part4/"],["30.Python/10.IntermediatePython/50.第 5 节.md","Python 进阶 —— 第五节","/basic/python/intermediatePy/part5/"]]}]}],catalogue:{"基础":"/basic","机器学习":"/ml"," 深度学习":"/dl"," 更多":"/more"},"/20.机器学习/":[["0.index.md","开始上手","/pages/8a1564/"],{title:"教程",collapsable:!0,children:[["10.教程/0.index.md","开始上手","/ml/course/index/"],{title:"斯坦福大学2014（吴恩达）机器学习教程",collapsable:!0,children:[["10.教程/10.斯坦福大学2014（吴恩达）机器学习教程/0.index.md","开始上手","/ml/course/ml-andrew/index/"],["10.教程/10.斯坦福大学2014（吴恩达）机器学习教程/10.第1周.md","第1周","/ml/course/ml-andrew/week1/"],["10.教程/10.斯坦福大学2014（吴恩达）机器学习教程/20.第2周.md","第2周","/ml/course/ml-andrew/week2/"]]}]}],"/30.深度学习/":[["0.index.md","开始上手","/pages/b03d34/"]],"/40.自然语言处理/":[["0.index.md","开始上手","/pages/4f8104/"]],"/50.AI/":[["0.index.md","开始上手","/pages/0af6c9/"]],"/目录/":[["10.基础.md","基础","/basic"],["20.机器学习.md","机器学习","/ml"],["30. 深度学习.md","深度学习","/dl"],["40. 更多.md","更多","/more"]]},author:{name:"jonsam",link:"https://github.com/jonsam-ng"},blogger:{avatar:"https://www.jonsam.site/wp-content/uploads/2019/10/c1fbc401c64937aaec6cb53359e7c57eabd8e477-e1570649725791.gif",name:"Jonsam NG",slogan:"让有意义的事变得有意思，让有意思的事变得有意义"},social:{icons:[{iconClass:"icon-youjian",title:"发邮件",link:"mailto:jonsam.ng@foxmail.com"},{iconClass:"icon-github",title:"GitHub",link:"https://github.com/jonsam-ng"},{iconClass:"icon-mao",title:"博客",link:"https://www.jonsam.site"},{iconClass:"icon-shuben",title:"文档",link:"http://docs.jonsam.site"},{iconClass:"icon-code",title:"源码",link:"https://source.jonsam.site"}]},footer:{createYear:2022,copyrightInfo:'<a href="https://ml.jonsam.site" target="_blank">Fancy ML</a> | Made by <a href="https://www.jonsam.site" target="_blank">Jonsam</a> by ❤'},htmlModules:{}},locales:{"/":{lang:"zh-CN",title:"Fancy ML",description:"机器学习一站式笔记，学习机器学习、深度学习技术文章",path:"/"}}};var bl=t(47),xl=t(97),wl=t(98),kl=t(11);var jl={computed:{$filterPosts(){return this.$site.pages.filter(n=>{const{frontmatter:{pageComponent:e,article:t,home:r}}=n;return!(e||!1===t||!0===r)})},$sortPosts(){return(n=this.$filterPosts).sort((n,e)=>{const t=n.frontmatter.sticky,r=e.frontmatter.sticky;return t&&r?t==r?Object(kl.a)(n,e):t-r:t&&!r?-1:!t&&r?1:Object(kl.a)(n,e)}),n;var n},$sortPostsByDate(){return(n=this.$filterPosts).sort((n,e)=>Object(kl.a)(n,e)),n;var n},$groupPosts(){return function(n){const e={},t={};for(let r=0,i=n.length;r<i;r++){const{frontmatter:{categories:i,tags:o}}=n[r];"array"===Object(kl.n)(i)&&i.forEach(t=>{t&&(e[t]||(e[t]=[]),e[t].push(n[r]))}),"array"===Object(kl.n)(o)&&o.forEach(e=>{e&&(t[e]||(t[e]=[]),t[e].push(n[r]))})}return{categories:e,tags:t}}(this.$sortPosts)},$categoriesAndTags(){return function(n){const e=[],t=[];for(let t in n.categories)e.push({key:t,length:n.categories[t].length});for(let e in n.tags)t.push({key:e,length:n.tags[e].length});return{categories:e,tags:t}}(this.$groupPosts)}}};Jt.component(xl.default),Jt.component(wl.default);function Pl(n){return n.toString().padStart(2,"0")}t(247);Jt.component("BlockToggle",()=>Promise.all([t.e(0),t.e(4)]).then(t.bind(null,357))),Jt.component("Card",()=>Promise.all([t.e(0),t.e(5)]).then(t.bind(null,358))),Jt.component("GlobalTip",()=>Promise.all([t.e(0),t.e(6)]).then(t.bind(null,359))),Jt.component("LastReadingPopup",()=>Promise.resolve().then(t.bind(null,47))),Jt.component("WebInfo",()=>Promise.all([t.e(0),t.e(7)]).then(t.bind(null,354))),Jt.component("Badge",()=>Promise.all([t.e(0),t.e(8)]).then(t.bind(null,390))),Jt.component("CodeBlock",()=>Promise.resolve().then(t.bind(null,97))),Jt.component("CodeGroup",()=>Promise.resolve().then(t.bind(null,98)));t(248),t(249);var Tl=t(96),Al=t.n(Tl),Cl=t(28);let El,Ol;var Il;"valine"===(Il="gitalk")?t.e(43).then(t.t.bind(null,350,7)).then(n=>Ol=n.default):"gitalk"===Il&&Promise.all([t.e(0),t.e(42)]).then(t.t.bind(null,351,7)).then(()=>t.e(41).then(t.t.bind(null,352,7))).then(n=>El=n.default);function Sl(n,e){const t={};return Reflect.ownKeys(n).forEach(r=>{if("string"==typeof n[r])try{t[r]=Al.a.render(n[r],e)}catch(e){console.warn(`Comment config option error at key named "${r}"`),console.warn("More info: "+e.message),t[r]=n[r]}else t[r]=n[r]}),t}console.log(`How to use "gitalk" in ${Cl.name}@v${Cl.version}:`,Cl.homepage);const $l={gitalk:{render(n,e){const t=document.createElement("div");t.id=e;document.querySelector("main.page").appendChild(t);new El(Sl({clientID:"9f6676a82c6134301680",clientSecret:"4bbf7178807c1a1d2c7b91080e0bd25bcb72a089",repo:"fancy-machine-learnning",owner:"jonsam-ng",admin:["jonsam-ng"],pagerDirection:"last",id:"<%- (frontmatter.permalink || frontmatter.to.path).slice(-16) %>",title:"「评论」<%- frontmatter.title %>",labels:["Gitalk","Comment"],body:"页面：<%- window.location.origin + (frontmatter.to.path || window.location.pathname) %>"},{frontmatter:n})).render(e)},clear(n){const e=document.querySelector("#"+n);return e&&e.remove(),!0}},valine:{render(n,e){const t=document.createElement("div");t.id=e;document.querySelector("main.page").appendChild(t),new Ol({...Sl({clientID:"9f6676a82c6134301680",clientSecret:"4bbf7178807c1a1d2c7b91080e0bd25bcb72a089",repo:"fancy-machine-learnning",owner:"jonsam-ng",admin:["jonsam-ng"],pagerDirection:"last",id:"<%- (frontmatter.permalink || frontmatter.to.path).slice(-16) %>",title:"「评论」<%- frontmatter.title %>",labels:["Gitalk","Comment"],body:"页面：<%- window.location.origin + (frontmatter.to.path || window.location.pathname) %>"},{frontmatter:n}),el:"#"+e})},clear(n){const e=document.querySelector("#"+n);return e&&e.remove(),!0}}},zl="vuepress-plugin-comment";let Ll=null;function Bl(n){return $l.gitalk.clear(zl)}function Ml(n){return!1!==n.comment&&!1!==n.comments}function Rl(n){clearTimeout(Ll);if(document.querySelector("main.page"))return $l.gitalk.render(n,zl);Ll=setTimeout(()=>Rl(n),200)}var Dl={mounted(){Ll=setTimeout(()=>{const n={to:{},from:{},...this.$frontmatter};Bl()&&Ml(n)&&Rl(n)},1e3),this.$router.afterEach((n,e)=>{if(n&&e&&n.path===e.path)return;const t={to:n,from:e,...this.$frontmatter};Bl()&&Ml(t)&&Rl(t)})}},ql=Object(gl.a)(Dl,(function(){return(0,this._self._c)("div")}),[],!1,null,null,null).exports,Fl=(t(255),t(256),[({Vue:n,options:e,router:t,siteData:r,isServer:i})=>{let o=!1;n.component(bl.default.name,bl.default),n.mixin({mounted(){o||(window.addEventListener("unload",this.saveLastReading),o=!0)},methods:{saveLastReading(){localStorage.setItem("lastReading",JSON.stringify({path:this.$route.path,scrollTop:document.documentElement.scrollTop,timestamp:(new Date).getTime()}))}}})},({Vue:n,options:e,router:t,siteData:r})=>{r.pages.map(n=>{const{frontmatter:{date:e,author:t}}=n;"string"==typeof e&&"Z"===e.charAt(e.length-1)&&(n.frontmatter.date=function(n){n instanceof Date||(n=new Date(n));return`${n.getUTCFullYear()}-${Pl(n.getUTCMonth()+1)}-${Pl(n.getUTCDate())} ${Pl(n.getUTCHours())}:${Pl(n.getUTCMinutes())}:${Pl(n.getUTCSeconds())}`}(e)),t?n.author=t:r.themeConfig.author&&(n.author=r.themeConfig.author)}),n.mixin(jl)},{},({Vue:n})=>{n.mixin({computed:{$dataBlock(){return this.$options.__data__block__}}})},{},{},({router:n})=>{"undefined"!=typeof window&&function(){var n=document.createElement("script"),e=window.location.protocol.split(":")[0];n.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)}()},({router:n})=>{"undefined"!=typeof window&&(window._hmt=window._hmt||[],function(){var n=document.createElement("script");n.src="https://hm.baidu.com/hm.js?7063d9cab573593f52f061c7858ce6bd";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)}(),n.afterEach((function(n){_hmt.push(["_trackPageview",n.fullPath])})))},({Vue:n})=>{n.component("Comment",ql)},{}]),Nl=["Comment","LastReadingPopup","GlobalTip","BlockToggle"];class Ul extends class{constructor(){this.store=new Jt({data:{state:{}}})}$get(n){return this.store.state[n]}$set(n,e){Jt.set(this.store.state,n,e)}$emit(...n){this.store.$emit(...n)}$on(...n){this.store.$on(...n)}}{}Object.assign(Ul.prototype,{getPageAsyncComponent:os,getLayoutAsyncComponent:as,getAsyncComponent:ss,getVueComponent:ls});var Xl={install(n){const e=new Ul;n.$vuepress=e,n.prototype.$vuepress=e}};function Jl(n,e){const t=e.toLowerCase();return n.options.routes.some(n=>n.path.toLowerCase()===t)}var Vl={props:{pageKey:String,slotKey:{type:String,default:"default"}},render(n){const e=this.pageKey||this.$parent.$page.key;return us("pageKey",e),Jt.component(e)||Jt.component(e,os(e)),Jt.component(e)?n(e):n("")}},Hl={functional:!0,props:{slotKey:String,required:!0},render:(n,{props:e,slots:t})=>n("div",{class:["content__"+e.slotKey]},t()[e.slotKey])},Gl={computed:{openInNewWindowTitle(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},Wl=(t(257),t(258),Object(gl.a)(Gl,(function(){var n=this._self._c;return n("span",[n("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[n("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),n("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),n("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports),Kl={functional:!0,render(n,{parent:e,children:t}){if(e._isMounted)return t;e.$once("hook:mounted",()=>{e.$forceUpdate()})}};Jt.config.productionTip=!1,Jt.use(Ua),Jt.use(Xl),Jt.mixin(function(n,e,t=Jt){!function(n){n.locales&&Object.keys(n.locales).forEach(e=>{n.locales[e].path=e});Object.freeze(n)}(e),t.$vuepress.$set("siteData",e);const r=new(n(t.$vuepress.$get("siteData"))),i=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(r)),o={};return Object.keys(i).reduce((n,e)=>(e.startsWith("$")&&(n[e]=i[e].get),n),o),{computed:o}}(n=>class{setPage(n){this.__page=n}get $site(){return n}get $themeConfig(){return this.$site.themeConfig}get $frontmatter(){return this.$page.frontmatter}get $localeConfig(){const{locales:n={}}=this.$site;let e,t;for(const r in n)"/"===r?t=n[r]:0===this.$page.path.indexOf(r)&&(e=n[r]);return e||t||{}}get $siteTitle(){return this.$localeConfig.title||this.$site.title||""}get $canonicalUrl(){const{canonicalUrl:n}=this.$page.frontmatter;return"string"==typeof n&&n}get $title(){const n=this.$page,{metaTitle:e}=this.$page.frontmatter;if("string"==typeof e)return e;const t=this.$siteTitle,r=n.frontmatter.home?null:n.frontmatter.title||n.title;return t?r?r+" | "+t:t:r||"VuePress"}get $description(){const n=function(n){if(n){const e=n.filter(n=>"description"===n.name)[0];if(e)return e.content}}(this.$page.frontmatter.meta);return n||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}get $lang(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}get $localePath(){return this.$localeConfig.path||"/"}get $themeLocaleConfig(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}get $page(){return this.__page?this.__page:function(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(r.path.toLowerCase()===e.toLowerCase())return r}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}},_l)),Jt.component("Content",Vl),Jt.component("ContentSlotsDistributor",Hl),Jt.component("OutboundLink",Wl),Jt.component("ClientOnly",Kl),Jt.component("Layout",as("Layout")),Jt.component("NotFound",as("NotFound")),Jt.prototype.$withBase=function(n){const e=this.$site.base;return"/"===n.charAt(0)?e+n.slice(1):n},window.__VUEPRESS__={version:"1.9.5",hash:"be9e9e1"},async function(n){const e="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:_l.routerBase||_l.base,t=new Ua({base:e,mode:"history",fallback:!1,routes:vl,scrollBehavior:(n,e,t)=>t||(n.hash?!Jt.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(n.hash)}:{x:0,y:0})});!function(n){n.beforeEach((e,t,r)=>{if(Jl(n,e.path))r();else if(/(\/|\.html)$/.test(e.path))if(/\/$/.test(e.path)){const t=e.path.replace(/\/$/,"")+".html";Jl(n,t)?r(t):r()}else r();else{const t=e.path+"/",i=e.path+".html";Jl(n,i)?r(i):Jl(n,t)?r(t):r()}})}(t);const r={};try{await Promise.all(Fl.filter(n=>"function"==typeof n).map(e=>e({Vue:Jt,options:r,router:t,siteData:_l,isServer:n})))}catch(n){console.error(n)}return{app:new Jt(Object.assign(r,{router:t,render:n=>n("div",{attrs:{id:"app"}},[n("RouterView",{ref:"layout"}),n("div",{class:"global-ui"},Nl.map(e=>n(e)))])})),router:t}}(!1).then(({app:n,router:e})=>{e.onReady(()=>{n.$mount("#app")})})}]);